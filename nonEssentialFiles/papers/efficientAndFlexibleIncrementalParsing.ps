%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: master.dvi
%%Pages: 36
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: AvantGarde-Book NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold Courier
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSCommandLine: dvips -D 600 -o master.ps master.dvi
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 1997.08.30:1654
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: AvantGarde-Book
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (master.dvi)
@start /Fa 165[32 1[37 52 38 43 35 33 38 41 35 41 43
50 35 41 30 22 44 41 35 38 41 38 38 38 65[{
 TeXBase1Encoding ReEncodeFont }25 53.333282 /NewCenturySchlbk-Roman
rf /Fb 168[64 2[28 33 40 2[58 49 61 31 39 3[58 32 36
49 54 1[49 65[{ TeXBase1Encoding ReEncodeFont }15 66.666664
/AvantGarde-Book rf /Fc 2 63 df<0003FE001FFE007E0000F80003F00007E0000FC0
001F80001F80003F00003F00007F00007FFFF07FFFF07E00007E0000FC0000FC0000FC00
007C00007C00007C00007C00003E00003E00001F00080F801C07C0F801FFE0007F00171E
7D9C1D>15 D<E00000000000F80000000000FE00000000003F80000000000FE000000000
03F80000000000FE00000000003F80000000000FE00000000003F80000000000FC000000
00003F00000000000FC00000000007F00000000001FC00000000007F00000000001FC000
00000007F00000000001FC00000000007F00000000001FC00000000007C0000000001FC0
000000007F0000000001FC0000000007F0000000001FC0000000007F0000000001FC0000
000007F0000000000FC0000000003F0000000000FC0000000003F8000000000FE0000000
003F8000000000FE0000000003F8000000000FE0000000003F8000000000FE0000000000
F80000000000E000000000002A2B7AA537>62 D E /Fd 3 107 df<FFFFFFFFFFC0FFFF
FFFFFFC0FFFFFFFFFFC02A037A9137>0 D<00000000000E000000000000000E00000000
0000000E000000000000000F000000000000000700000000000000078000000000000003
8000000000000003C000000000000001C000000000000001E000000000000000F0000000
0000000078000000000000007C000000000000003E000000000000000F00000000000000
07C0FFFFFFFFFFFFFFF8FFFFFFFFFFFFFFFCFFFFFFFFFFFFFFF800000000000007C00000
000000000F000000000000003E000000000000007C000000000000007800000000000000
F000000000000001E000000000000001C000000000000003C00000000000000380000000
000000078000000000000007000000000000000F000000000000000E000000000000000E
000000000000000E00003E237CA147>33 D<E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0
E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0
E0E0E0E0E0E0E0E0E0E0E0E0E0034378B114>106 D E /Fe 3 49
df<FFFFFFFFFEFFFFFFFFFEFFFFFFFFFE27037A8F34>0 D<003800003800003800003800
00380060380CF8383EFC387EFE38FE3FBBF807FFC001FF00007C0001FF0007FFC03FBBF8
FE38FEFC387EF8383E60380C00380000380000380000380000380017197B9A22>3
D<00E001F003F803F803F807F007F007F007E007E00FE00FC00FC00FC01F801F801F001F
003F003E003E003E007C007C007C007800F800F800F00010000D1E7D9F13>48
D E /Ff 139[20 5[36 52 3[19 36 104[{ TeXBase1Encoding ReEncodeFont }5
58.333336 /NewCenturySchlbk-Italic rf /Fg 139[18 11[30
104[{ TeXBase1Encoding ReEncodeFont }2 50.000000
/NewCenturySchlbk-Italic rf /Fh 1 16 df<00003FF00001FFF0000FFFE0003FC000
007F000000FC000003F8000007F0000007E000000FE000001FC000001FC000003F800000
3F8000007FFFFE007FFFFF007FFFFF007F000000FF000000FE000000FE000000FE000000
FE000000FE0000007E0000007E0000007E0000007E0000003E0000003F0000001F000000
0F8000600FC000E003E003C001F01F00007FFC00000FE0001C257DA322>15
D E /Fi 6 107 df<60000000000000F8000000000000FE0000000000007F8000000000
003FE000000000000FF8000000000003FE000000000000FF8000000000003FE000000000
000FF8000000000003FE000000000000FF8000000000003FE000000000000FF800000000
0003FE000000000000FF8000000000003FE000000000000FF8000000000003FE00000000
0000FF8000000000003FE000000000000FF8000000000003FE000000000000FF80000000
00003FC000000000001FC000000000007F800000000001FF000000000007FC0000000000
1FF000000000007FC00000000001FF000000000007FC00000000001FF000000000007FC0
0000000001FF000000000007FC00000000001FF000000000007FC00000000001FF000000
000007FC00000000001FF000000000007FC00000000001FF000000000007FC0000000000
1FF000000000007FC00000000000FF000000000000FC0000000000007000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000007FFFFFFFFFFF80FFFFFFFF
FFFFC0FFFFFFFFFFFFC07FFFFFFFFFFF80324479B441>21 D<0000000000001E00000000
000000001E00000000000000001E00000000000000001E00000000000000001F00000000
000000000F00000000000000000F00000000000000000F80000000000000000780000000
0000000007C00000000000000003E00000000000000003E00000000000000001F0000000
0000000000F80000000000000000FC00000000000000007E00000000000000003F000000
00000000001F80000000000000000FC00000000000000007F07FFFFFFFFFFFFFFFFCFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFFFFFFFFFFFC0000000000000007F00000
00000000000FC0000000000000001F80000000000000003F00000000000000007E000000
0000000000FC0000000000000000F80000000000000001F00000000000000003E0000000
0000000003E00000000000000007C0000000000000000780000000000000000F80000000
000000000F00000000000000000F00000000000000001F00000000000000001E00000000
000000001E00000000000000001E00000000000000001E0000482C7BAA53>33
D<00000000003C00000000000000003C00000000000000003E00000000000000001E0000
0000000000001F00000000000000000F00000000000000000F800000000000000007C000
00000000000003C00000000000000003E00000000000000001F00000000000000000F800
000000000000007C00007FFFFFFFFFFFFE0000FFFFFFFFFFFFFF0000FFFFFFFFFFFFFF80
007FFFFFFFFFFFFFC00000000000000003F00000000000000001F80000000000000000FE
00000000000000003F80000000000000001FE00000000000000007F80000000000000001
FF0000000000000001FF0000000000000007F8000000000000001FE0000000000000003F
8000000000000000FE0000000000000001F80000000000000003F0007FFFFFFFFFFFFFC0
00FFFFFFFFFFFFFF8000FFFFFFFFFFFFFF00007FFFFFFFFFFFFE00000000000000007C00
00000000000000F80000000000000001F00000000000000003E00000000000000003C000
00000000000007C0000000000000000F80000000000000000F00000000000000001F0000
0000000000001E00000000000000003E00000000000000003C00000000000000003C0000
0048307BAC53>41 D<00001FFFFE0000FFFFFF0003FFFFFF000FFFFFFE001FF00000007F
80000000FE00000001F800000003F000000007E00000000FC00000000F800000001F0000
00001F000000003E000000003E000000007C000000007C000000007800000000F8000000
00F800000000F000000000F000000000FFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE
F000000000F000000000F800000000F80000000078000000007C000000007C000000003E
000000003E000000001F000000001F000000000F800000000FC000000007E000000003F0
00000001F800000000FE000000007F800000001FF00000000FFFFFFE0003FFFFFF0000FF
FFFF00001FFFFE283279AD37>50 D<00007FF800000003FFFF0000001FFFFFE000007FFF
FFF80000FFC00FFC0003FE0001FF0007F000003F800FC000000FC01F80000007E03F0000
0003F03E00000001F07C00000000F87C00000000F8F8000000007CF8000000007CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003CF00000
00003CF0000000003CF0000000003CF0000000003CF0000000003CF0000000003C600000
0000182E347CB137>92 D<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F060045377BD17>106
D E /Fj 198[28 28 28 28 28 28 28 28 28 28 48[{
 TeXBase1Encoding ReEncodeFont }10 50.000000 /NewCenturySchlbk-Roman
rf /Fk 134[50 1[50 50 1[50 50 50 1[50 50 50 1[50 50 1[50
50 50 50 50 50 50 50 50 1[50 9[50 50 50 50 2[50 5[50
50 1[50 50 50 50 19[50 5[50 50 40[{ TeXBase1Encoding ReEncodeFont }35
83.333336 /Courier rf /Fl 134[42 42 65 43 51 29 37 37
46 48 42 51 74 28 46 26 28 51 45 28 37 51 37 46 48 6[55
57 58 77 2[57 55 62 1[55 65 68 1[55 2[34 1[65 55 60 1[60
60 58 6[23 1[46 3[46 46 46 46 2[23 28 23 2[28 28 37[51
2[{ TeXBase1Encoding ReEncodeFont }55 83.333336 /NewCenturySchlbk-Italic
rf /Fm 1 2 df<0F803FE07FF07FF0FFF8FFF8FFF8FFF8FFF87FF07FF03FE00F800D0D76
A321>1 D E /Fn 135[36 3[25 29 22 3[46 70 15 2[15 46 50
23 49 51 48 51 51 9[72 2[32 37 2[44 6[17 1[65 36 40 11[41
41 41 41 41 41 41 41 41 41 1[21 43[36 2[{
 TeXBase1Encoding ReEncodeFont }36 75.000000 /AvantGarde-Book
rf /Fo 134[31 1[45 1[36 23 27 26 2[29 36 52 3[18 1[31
19 29 33 26 1[32 12[39 37 2[39 2[55 39 8[42 1[42 6[16
32 32 32 32 32 32 32 32 32 32 1[16 1[16 35 43[{
 TeXBase1Encoding ReEncodeFont }37 58.333336 /NewCenturySchlbk-Roman
rf /Fp 103[60 152[{ TeXBase1Encoding ReEncodeFont }1
100.000000 /Courier rf /Fq 130[40 40 40 1[40 40 40 40
40 40 40 40 1[40 40 40 40 40 40 1[40 40 40 40 40 40 40
40 40 1[40 1[40 1[40 1[40 40 2[40 40 40 40 1[40 40 40
1[40 40 1[40 40 1[40 40 40 40 1[40 40 1[40 40 40 40 40
8[40 40 40 40 1[40 40 40 40 40 40 40 40 3[40 33[{
 TeXBase1Encoding ReEncodeFont }66 66.666664 /Courier
rf /Fr 104[83 14[28 13[40 45 45 65 45 51 32 38 37 46
48 42 51 74 26 49 25 26 51 45 28 42 48 37 46 46 17 2[28
1[28 1[58 58 81 60 68 55 52 60 1[55 65 68 78 55 65 46
34 69 65 55 60 65 60 60 60 1[37 1[50 1[23 23 46 46 46
46 46 46 46 46 46 46 23 23 28 23 50 1[28 28 17 1[69 33[51
51 2[{ TeXBase1Encoding ReEncodeFont }80 83.333336
/NewCenturySchlbk-Roman rf /Fs 136[59 1[45 28 33 34 2[41
45 64 23 2[25 45 41 26 38 44 37 1[41 13[44 2[50 3[48
6[50 55 68[{ TeXBase1Encoding ReEncodeFont }22 66.666664
/NewCenturySchlbk-Bold rf /Ft 104[66 28[31 33 33 52 34
41 23 29 29 37 38 33 41 59 22 37 21 22 41 36 22 29 41
29 37 38 9[62 47 1[45 44 49 1[44 52 54 63 44 1[41 27
55 52 44 48 52 48 48 47 5[18 18 37 37 37 37 37 37 37
37 37 37 1[18 22 18 2[22 22 14 36[41 2[{ TeXBase1Encoding ReEncodeFont }
66 66.666664 /NewCenturySchlbk-Italic rf /Fu 104[66 37
13[22 13[32 36 36 52 36 41 26 31 29 37 38 33 41 59 21
39 20 21 41 36 22 33 38 29 37 37 14 2[22 1[22 1[47 47
65 48 54 44 42 48 1[44 52 54 63 44 52 37 27 55 52 44
48 52 48 48 48 3[40 1[18 18 37 37 37 37 37 37 37 37 37
37 18 18 22 18 40 1[22 22 14 3[37 31[41 41 2[{
 TeXBase1Encoding ReEncodeFont }80 66.666664 /NewCenturySchlbk-Roman
rf /Fv 133[35 44 2[46 50 28 32 25 1[57 54 51 78 17 42
1[17 51 56 26 54 57 54 57 57 9[80 58 54 35 41 50 1[49
72 61 76 38 49 1[19 57 72 40 44 62 67 48 61 7[46 46 46
46 46 46 46 46 46 2[23 28 23 44[{ TeXBase1Encoding ReEncodeFont }55
83.333336 /AvantGarde-Book rf /Fw 135[69 3[49 56 43 3[88
135 29 2[29 1[97 45 93 98 93 98 98 16[85 6[32 2[70 77
66[70 2[{ TeXBase1Encoding ReEncodeFont }20 144.000000
/AvantGarde-Book rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: Letter

%%EndSetup
%%Page: 1 1
1 0 bop 450 382 a Fw(Ef)-9 b(\002cient)39 b(and)g(Flexible)g(Incr)o
(emental)g(P)m(ar)s(sing)450 611 y Fv(TIM)23 b(A.)h(W)-5
b(A)m(GNER)25 b(and)d(SUSAN)j(L.)e(GRAHAM)450 727 y(Univ)n(er)r(sity)g
(of)g(Calif)m(or)r(nia,)f(Ber)r(k)o(ele)n(y)p 450 852
2989 2 v 533 1088 a Fu(Previously)k(published)f(algorithms)h(for)h
(LR\()p Ft(k)p Fu(\))g(incremental)f(parsing)g(are)h(inef\002cient,)h
(unnecessarily)450 1171 y(restrictive)o(,)e(and)d(in)h(some)g(cases)g
(incorrect.)40 b(W)l(e)24 b(present)g(a)g(simple)g(algorithm)f(based)h
(on)f(parsing)g(LR\()p Ft(k)p Fu(\))450 1254 y(sentential)g(forms)i
(that)f(can)h(incrementally)f(parse)h(an)f(arbitrary)h(number)f(of)h
(textual)f(and/or)h(structural)450 1337 y(modi\002cations)14
b(in)h(optimal)g(time)f(and)h(with)f(no)g(storage)h(overhead.)23
b(The)14 b(central)i(role)f(of)h Ft(balanced)f(sequences)450
1420 y Fu(in)23 b(achieving)g(truly)g(incremental)i(beha)o(vior)f(from)
h(analysis)d(algorithms)h(is)h(described,)j(along)c(with)g(auto-)450
1503 y(mated)i(methods)f(to)h(support)g(balancing)f(during)g(parse)h
(table)g(generation)f(and)h(parsing)n(.)42 b(Our)24 b(approach)450
1586 y(extends)18 b(the)g(theory)h(of)g(sentential-form)f(parsing)g(to)
h(allow)f(for)i Ft(ambiguity)f Fu(in)f(the)g(grammar)-7
b(,)20 b(exploiting)e(it)450 1669 y(for)h(notational)e(convenience)o(,)
h(to)g(denote)g(sequences)n(,)h(and)f(to)g(construct)g(compact)h
(\(`abstract')s(\))f(syntax)e(trees)450 1752 y(directly)-8
b(.)533 1835 y(Combined,)26 b(these)d(techniques)g(make)h(the)g(use)f
(of)h(automatically)f(generated)i(incremental)f(parsers)g(in)450
1918 y(interactive)f(softw)o(are)g(development)g(environments)e(both)i
(practical)h(and)e(effective)o(.)37 b(In)22 b(addition,)i(we)f(ad-)450
2001 y(dress)28 b Ft(inf)o(ormation)g(preservation)j
Fu(in)c(these)g(environments:)40 b(optimal)27 b(node)h(reuse)f(is)g
(de\002ned,)j(previous)450 2084 y(de\002nitions)23 b(are)i(shown)e(to)h
(be)g(insuf\002cient,)h(and)f(a)g(method)g(for)h(detecting)f(node)g
(reuse)h(is)f(provided)h(that)450 2167 y(is)k(both)f(simpler)i(and)e
(faster)h(than)f(existing)g(techniques)n(.)54 b(A)29
b(program)g(representation)h(based)f(on)f Ft(self-)450
2250 y(ver)o(sioning)22 b(documents)g Fu(is)e(used)g(to)h(detect)g
(changes)f(in)g(the)g(program,)j(generate)d(ef\002cient)h(change)f
(reports)450 2333 y(for)h(subsequent)d(analyses)n(,)i(and)g(allow)g
(the)g(parsing)f(transformation)h(itself)g(to)g(be)g(treated)h(as)f(a)g
(reversible)450 2417 y(modi\002cation)e(in)g(the)g(edit)h(log)n(.)450
2533 y(Categories)32 b(and)f(Subject)h(Descriptors:)50
b(D)n(.2.6)32 b([)p Fs(Software)h(Engineering)p Fu(]:)51
b(Programming)32 b(Environ-)450 2616 y(ments\227)p Ft(interactive)p
Fu(;)21 b(D)n(.2.7)c([)p Fs(Software)h(Engineering)p
Fu(]:)24 b(Distribution)16 b(and)h(Maintenance\227)p
Ft(ver)o(sion)h(con-)450 2699 y(trol)p Fu(;)25 b(D)n(.3.4)d([)p
Fs(Programming)g(Languages)p Fu(]:)30 b(Processors\227)p
Ft(compiler)o(s)p Fu(;)f Ft(par)o(sing)p Fu(;)c Ft(translator)f
(writing)d(sys-)450 2782 y(tems)f(and)e(compiler)i(generator)o(s)p
Fu(;)i(E.1)d([)p Fs(Data)p Fu(]:)k(Data)18 b(Structures\227)p
Ft(trees)450 2898 y Fu(General)g(T)l(erms:)25 b(Algorithms)n(,)19
b(Languages)n(,)e(P)n(erformance)o(,)k(Theory)450 2994
y(Additional)29 b(K)q(ey)f(W)l(ords)i(and)e(Phrases:)45
b(Incremental)29 b(parsing)n(,)j(optimal)e(reuse)o(,)i(operator)e
(precedence)o(,)450 3077 y(ambiguity)-8 b(,)17 b(balanced)i(structure)o
(,)g(abstract)f(syntax)p 450 3193 V 450 3484 a Fv(1.)42
b(INTRODUCTION)450 3617 y Fr(Batc)o(h)22 b(parsers)f(derive)f(the)h
(structure)g(of)g(formal)g(language)f(documents)n(,)g(suc)o(h)i(as)g
(pro-)450 3716 y(grams)n(,)f(by)f(analyzing)g(a)g(sequence)f(of)h
(terminal)g(symbols)g(provided)f(by)h(a)g(lexer)-8 b(.)26
b(Incre-)450 3816 y(mental)i(parsers)f(retain)h(the)f(document')n(s)g
(structure)o(,)h(in)g(the)f(form)g(of)g(its)i(parse)e(tree)o(,)450
3916 y(and)22 b(use)h(this)h(data)f(structure)f(to)h(update)f(the)g
(parse)h(after)f(c)o(hanges)h(ha)o(ve)f(been)g(made)450
4015 y(by)g(the)h(user)f(or)g(by)h(other)e(tools)i([Ghezzi)e(and)h
(Mandrioli)h(1980;)g(W)-5 b(egman)22 b(1980;)i(J)n(alili)450
4115 y(and)f(Gallier)g(1982;)i(Ballance)e(et)g(al.)h(1988;)h(Larc)o
(hev)2265 4114 y(\210)2258 4115 y(eque)d(1995].)30 b(Although)22
b(the)h(topic)p 450 4217 V 450 4316 a Fu(This)14 b(research)i(has)e
(been)g(sponsored)h(in)f(part)h(by)g(the)f(Advanced)h(Research)g
(Projects)g(Agency)f(\(ARP)l(A\))i(under)450 4399 y(Grant)22
b(MDA972-92-)t(J-1028,)i(and)e(in)g(part)i(by)e(NSF)h(institutional)e
(infrastructure)i(grant)f(CDA-8722788.)450 4482 y(The)15
b(content)g(of)h(this)e(paper)j(does)e(not)g(necessarily)g(re\003ect)h
(the)f(position)g(or)h(policy)g(of)g(the)e(U)-7 b(.)17
b(S)n(.)e(Government.)450 4565 y(Authors')h(addresses:)23
b(Tim)17 b(A.)h(W)-5 b(agner)e(,)18 b(Reasoning)n(,)f(Inc)o(.,)h(700)f
(E.)g(El)g(Camino)g(Real)g(#300,)h(Mountain)d(V)o(iew)-8
b(,)450 4648 y(C)o(A)17 b(94040.)22 b(Susan)15 b(L.)j(Graham,)f(771)g
(Soda)g(Hall,)g(Department)g(of)g(Electrical)h(Engineering)e(and)g
(Computer)450 4731 y(Science)o(,)j(Computer)g(Science)h(Division,)d
(University)h(of)h(California,)f(Berkeley)-8 b(,)20 b(C)o(A)e(94720.)
450 4814 y(email:)h Fq(twagner)938 4822 y(@)977 4814
y(reasoning.com)p Fu(,)e Fq(graham)1772 4822 y(@)1811
4814 y(cs.berkeley.edu)450 4897 y Fu(URL:)i Fq
(http://http.cs.berkeley.edu/)1743 4936 y Fp(\230)1790
4897 y Fq(twagner)633 4980 y(http://http.cs.berkeley.edu/)1743
5019 y Fp(\230)1790 4980 y Fq(graham)p Fu(.)758 5189
y Fo(written)c(for)h(ACM)g(Transactions)f(on)h(Programming)g(Languages)
f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 2 2
2 1 bop 450 250 a Fn(2)142 b Fm(\001)157 b Fn(T)-7 b(.)21
b(W)l(agner)g(and)f(S.)h(Gr)o(aham)450 465 y Fr(of)30
b(incremental)f(parsing)h(has)h(been)f(treated)g(previously)-10
b(,)30 b(no)g(published)g(algorithms)450 565 y(are)24
b(completely)e(adequate)o(,)h(and)g(most)h(are)g(inef\002cient)e(in)i
(time)o(,)g(space)o(,)f(or)h(both.)31 b(Sev-)450 665
y(eral)26 b(are)g(incorrect)f(or)h(overly)e(restrictive)i(in)g(the)g(c)
o(lass)i(of)e(grammars)g(to)g(whic)o(h)g(they)450 764
y(apply)-10 b(.)32 b(The)24 b(central)g(requirement)f(for)g(actual)i
(incremental)f(beha)o(vior)m(\227balancing)f(of)450 864
y(lengthy)j(sequences\227has)g(been)h(ignored)e(in)i(all)h(previous)e
(approac)o(hes)n(.)2963 834 y Fo(1)3040 864 y Fr(Our)g(incre-)450
964 y(mental)d(parser)g(is)h(thus)g(the)f(\002rst)h(to)f(improve)f(on)g
(batc)o(h)j(performance)20 b(while)j(reusing)450 1063
y(existing)g(grammars)n(.)533 1163 y(Our)28 b(incremental)f(parsing)i
(algorithm)f(runs)g(in)h Fl(O)p Fr(\()p Fl(t)22 b Fr(+)g
Fl(s)14 b Fr(lg)f Fl(N)t Fr(\))29 b(time)f(for)g Fl(t)h
Fr(new)f(ter)m(-)450 1262 y(minal)h(symbols)h(and)f Fl(s)g
Fr(modi\002cation)f(sites)i(in)f(a)g(tree)g(containing)f
Fl(N)33 b Fr(nodes)n(.)47 b(P)m(erfor)m(-)450 1362 y(mance)26
b(is)i(determined)d(primarily)i(by)g(the)g(number)f(and)g(scope)h(of)f
(the)h(modi\002cations)450 1462 y(since)35 b(the)g(previous)e
(application)i(of)f(the)h(parsing)f(algorithm.)65 b(Unlike)34
b(many)h(pub-)450 1561 y(lished)21 b(algorithms)h(for)f(incremental)f
(parsing)n(,)i(the)f(location)g(of)g(the)g(c)o(hanges)g(does)g(not)450
1661 y(affect)i(the)h(running)f(time)o(,)h(and)f(the)h(algorithm)g
(supports)f(multiple)h(edit)g(sites)n(,)h(whic)o(h)450
1761 y(ma)o(y)20 b(inc)o(lude)f Fl(any)g(combination)f
Fr(of)h(textual)h(and)f(structural)i(updates)n(.)27 b(The)20
b(tec)o(hnique)450 1860 y(applies)31 b(to)g(any)g(LR-based)g(approac)o
(h;)j(our)c(implementation)g(uses)h Fk(bison)g Fr([Corbett)450
1960 y(1992])26 b(and)f(existing)h(grammars)f(to)h(produce)d
(table-driven)h(incremental)h(parsers)h(for)450 2060
y(any)d(language)e(whose)h(syntax)h(is)h(LALR\(1\).)533
2159 y(The)35 b(parsing)g(algorithm)f(has)i Fl(no)e Fr(additional)h
(space)g(cost)g(over)f(that)h(intrinsic)h(to)450 2259
y(storing)23 b(the)g(parse)g(tree)o(.)k(The)c(algorithm')n(s)g(only)f
(requirements)g(are)h(that)h(the)f(parent,)450 2358 y(c)o(hildren,)39
b(and)e(associated)g(grammar)f(production)f(of)h(eac)o(h)g(node)f(be)i
(accessible)g(in)450 2458 y(constant)20 b(time)o(.)26
b Fl(No)19 b(state)g(inf)o(ormation,)f(par)o(se)h(stac)o(k)f(links)l(,)
i(or)f(terminal)f(symbol)g(links)450 2558 y(are)j(recorded)f(in)h(tree)
h(nodes)l(.)27 b Fr(A)22 b(transient)g(stac)o(k)h(is)f(required)e
(during)h(the)g(application)450 2657 y(of)30 b(the)f(parsing)h
(algorithm,)i(but)f(it)f(is)h(not)f(part)h(of)e(the)h(persistent)g
(data)h(structure)o(.)3403 2627 y Fo(2)450 2757 y Fr(Our)21
b(presentation)g(assumes)i(that)f(a)g(complete)f(versioning)f(system)i
(exists)n(,)g(since)g(this)450 2857 y(is)i(necessary)e(in)h(any)f
(production)f(environment.)533 2956 y(Many)31 b(parser)g(generators)e
(accept)i(ambiguous)f(grammars)h(in)g(combination)f(with)450
3056 y(additional)25 b(speci\002cations)g(\(e)o(.g)n(.,)f(operator)g
(precedence)e(and)j(default)f(con\003ict)h(resolu-)450
3155 y(tion)d(rules\).)868 3125 y Fo(3)932 3155 y Fr(These)h(tec)o
(hniques)f(provide)e(notational)i(convenience)e(and)i(often)f(result)
450 3255 y(in)36 b(signi\002cantly)f(smaller)h(parse)f(trees)n(,)k
(especially)c(in)h(languages)e(like)i(C)g(that)g(are)450
3355 y(terse)c(and)g(expression)f(dense)o(.)56 b(W)-5
b(e)33 b(provide)d(new)i(results)h(that)g(allow)f(incremental)450
3454 y(sentential-form)j(parsing)h(to)g(accommodate)e(ambiguity)i(of)g
(this)g(form,)j(preserving)450 3554 y(both)29 b(the)g(notational)g
(bene\002ts)g(to)g(the)g(grammar)g(and)g(the)g(space-sa)o(ving)f
(properties)450 3654 y(of)22 b(the)h(resulting)f(compact)h(trees)n(.)
533 3753 y(Incremental)30 b(softw)o(are)h(development)e(environments)h
(\(ISDEs\))h(use)h(incremental)450 3853 y(parsing)j(not)g(just)h(for)e
(interactive)h(speed,)i(but)f(because)f(the)g(retained)f(data)i(struc-)
450 3952 y(ture)22 b(is)h(important)f(in)g(its)h(own)e(right)h(as)h(a)g
(shared)f(representation)e(used)i(by)g(analysis)n(,)450
4052 y(presentation,)36 b(and)e(editing)g(tools)n(.)62
b(In)34 b(this)h(setting)n(,)j(the)c(demands)f(placed)h(on)f(the)450
4152 y(incremental)26 b(parsing)i(algorithm)f(involve)f(more)g(than)i
(just)f(improved)f(performance)p 450 4268 391 1 v 450
4325 a Fj(1)482 4348 y Fu(Gafter)k([Gafter)g(1990])g(is)f(the)g
(notable)h(exception,)j(but)c(his)g(approach)h(precludes)h
(possibly-empty)e(se-)450 4432 y(quences)n(,)19 b(which)e(occur)j
(frequently)e(in)g(programming)h(language)e(grammars)n(.)450
4492 y Fj(2)482 4515 y Fu(In)j(most)h(systems)n(,)g(nodes)g(will)f
(already)h(carry)h(run-time)f(type)g(information.)30
b(Thus)n(,)21 b(no)g(additional)f(space)450 4598 y(is)e(typically)g
(required)h(to)f(encode)i(the)e(production)g(represented)i(by)e(a)g
(node)o(.)23 b(In)18 b(the)g(absence)h(of)f(the)g(history)450
4681 y(services)i(we)f(describe)o(,)h(two)f(bits)g(per)h(node)f(are)h
(needed)f(to)h(track)f(changes)f(made)i(between)f(applications)f(of)450
4764 y(the)j(parser)-7 b(,)23 b(and)e(the)f(old)i(value)e(of)h(each)g
(structural)g(link)g(must)f(remain)h(accessible)h(until)e(the)g
(completion)450 4847 y(of)f(parsing)n(.)450 4907 y Fj(3)482
4931 y Fu(This)j(is)g(essentially)g(a)g(form)i(of)f(parse)g(forest)g
(\002ltering)f([Klint)g(and)g(V)o(isser)h(1994])f(that)g(can)h(be)g
(statically)450 5014 y(encoded)c(so)g(that)e(the)i(parser)g(remains)f
(deterministic)o(.)450 5189 y Fo(written)d(for)i(ACM)f(Transactions)f
(on)g(Programming)h(Languages)g(and)g(Systems)o(,)f(August)g(30,)i
(1997)g(at)f(16)10 b(:)g(54.)p eop
%%Page: 3 3
3 2 bop 1597 250 a Fn(Ef)l(\002cient)21 b(and)f(Flexible)g(Incremental)
g(P)o(ar)q(sing)158 b Fm(\001)141 b Fn(3)450 465 y Fr(relative)26
b(to)g(batc)o(h)h(systems)n(.)40 b(It)26 b(should)g(also)h(provide)d
(intelligent)i Fl(node)g(reuse)p Fr(:)34 b(when)450 565
y(a)28 b(structural)h(component)c(\(suc)o(h)j(as)h(a)f(statement\))g
(is)g(conceptually)f(retained)g(across)450 665 y(editing)c(operations)n
(,)h(the)g(parser)g(should)f(not)h(discard)g(and)g(recreate)f(the)h
(node)f(repre-)450 764 y(senting)k(that)g(component.)39
b(W)o(ith)28 b(intelligent)e(reuse)o(,)h(c)o(hanges)g(matc)o(h)g(the)g
(user')n(s)g(in-)450 864 y(tuition,)h(the)e(size)g(of)g(the)h
(development)c(record)i(is)i(decreased,)f(and)g(the)h(performance)450
964 y(of)22 b(further)g(analyses)h(\(suc)o(h)g(as)h(semantics\))f
(improves)n(.)533 1063 y(Our)31 b(incremental)g(parsing)g(algorithm)h
(is)g(capable)g(of)f(retaining)g(entire)g(subtrees)450
1163 y(before)o(,)24 b(after)-8 b(,)24 b(and)h(between)f(c)o(hange)g
(points;)i(nodes)e(on)g(a)i(path)f(from)f(the)h(root)f(of)g(the)450
1262 y(parse)k(tree)f(to)g(a)h(modi\002cation)f(site)h(are)g(also)g
(reused)e(when)h(doing)f(so)i(is)h(correct)d(and)450
1362 y(intuitive)c(for)f(the)h(user)-8 b(.)28 b(Retaining)22
b(these)g(nodes)f(is)i(especially)f(important)g(since)g(they)450
1462 y(represent)k(the)h(structural)i(elements)d(\(functions)n(,)i
(modules)n(,)g(c)o(lasses\))h(most)e(likely)h(to)450
1561 y(contain)21 b(signi\002cant)g(numbers)f(of)h(irreproducible)e
(user)i(annotations)g(and)g(automated)450 1661 y(annotations)i(that)g
(are)g(time-consuming)e(to)i(restore)f(\(suc)o(h)h(as)g(pro\002le)f
(data\).)533 1761 y(No)28 b(previously)e(published)h(work)h(correctly)f
(describes)h(optimal)g(reuse)f(in)h(the)g(con-)450 1860
y(text)h(of)f(arbitrary)h(structural)h(and)e(textual)h(modi\002cations)
n(.)46 b(W)-5 b(e)29 b(present)f(a)h(new)f(for)m(-)450
1960 y(mulation)k(of)g(this)h(concept)e(that)i(is)g(independent)d(of)h
(the)i(operation)d(of)i(the)g(parsing)450 2060 y(algorithm)21
b(and)g(is)h(not)f(limited)g(by)h(the)f(complexity)-10
b(,)19 b(location,)i(or)g(number)g(of)f(c)o(hanges)n(.)450
2159 y(In)31 b(common)f(cases)n(,)35 b(suc)o(h)d(as)g(c)o(hanging)f(an)
h(identi\002er)e(spelling)n(,)j(our)e(parser)h(makes)450
2259 y Fl(no)g Fr(modi\002cations)f(to)h(the)g(parse)g(tree)o(.)55
b(Our)32 b(reuse)f(tec)o(hnique)h(is)h(also)f(simpler)g(and)450
2358 y(faster)25 b(than)f(previous)g(approac)o(hes)n(,)g(requiring)g
(no)g(additional)g(asymptotic)h(time)f(and)450 2458 y(negligible)e
(real)h(time)f(to)h(compute)o(.)533 2558 y(The)k(rest)h(of)e(this)i
(paper)f(is)h(organized)d(as)j(follows)n(.)41 b(Section)27
b(2)g(compares)f(previous)450 2657 y(work)d(on)f(incremental)g(parsing)
i(to)f(our)f(requirements)g(and)h(results;)h(it)g(is)g(not)f(needed)450
2757 y(to)d(understand)f(the)h(material)h(that)g(follows)n(.)26
b(The)20 b(program)f(representation)g(and)h(edit-)450
2857 y(ing)27 b(model)f(are)g(summarized)h(in)g(Section)f(3.)41
b(Section)27 b(4)g(introduces)f(sentential-form)450 2956
y(parsing)f(and)g(presents)h(an)f(incremental)g(parsing)g(algorithm)g
(that)h(uses)g(existing)f(ta-)450 3056 y(ble)18 b(construction)f
(routines)n(.)26 b(These)17 b(results)i(are)e(extended)e(in)j(the)g
(next)f(section,)h(whic)o(h)450 3155 y(develops)25 b(an)h(optimal)h
(implementation)e(of)h(incremental)f(parsing)n(.)39 b(Support)26
b(for)f(am-)450 3255 y(biguous)g(grammars)h(in)g(combination)f(with)h
(con\003ict)f(resolution)g(sc)o(hemes)h(is)g(covered)450
3355 y(in)21 b(Section)g(6.)28 b(Section)21 b(7)g(addresses)g(the)g
(representation)f(and)h(handling)f(of)g(repetitive)450
3454 y(constructs)28 b(\(sequences\))e(and)h(constructs)h(a)f(model)g
(of)g(incremental)f(performance)f(to)450 3554 y(permit)30
b(meaningful)g(comparison)g(to)h(batc)o(h)g(parsing)g(and)g(other)f
(incremental)g(algo-)450 3654 y(rithms)n(.)e(Section)22
b(8)g(develops)e(the)h(theory)g(of)g(optimal)h(node)e(reuse)h(and)g
(discusses)i(how)450 3753 y(reuse)j(computation)g(can)h(be)f(performed)
f(in)h(tandem)h(with)g(incremental)e(parsing)i(us-)450
3853 y(ing)22 b(the)h(history)f(mec)o(hanisms)h(of)g(Section)f(3.)29
b(A)22 b(history-sensitive)g(approac)o(h)g(to)h(error)450
3952 y(recovery)d(has)k(been)e(described)g(separately)g([W)-6
b(agner)22 b(and)g(Graham)h(1997b].)450 4135 y Fv(2.)42
b(RELA)l(TED)25 b(W)n(ORK)450 4268 y Fr(Several)37 b(early)h(approac)o
(hes)f(to)h(incremental)f(parsing)g(use)h(data)h(structures)f(other)450
4368 y(than)g(a)f(persistent)h(parse)f(tree)g(to)g(ac)o(hieve)g
(incrementality)f([Agra)o(w)o(al)h(and)g(Detro)450 4467
y(1983;)e(Y)-8 b(eh)31 b(and)f(Kastens)h(1988].)53 b(While)30
b(these)h(algorithms)f(decrease)g(the)g(time)h(re-)450
4567 y(quired)e(to)h(parse)g(a)g(program)f(after)g(a)i(c)o(hange)e(has)
h(been)f(made)h(to)g(its)h(text,)g(they)f(do)450 4666
y(not)25 b(materialize)g(the)g(persistent)g(syntax)g(tree)f(required)g
(in)h(most)h(applications)f(of)f(in-)450 4766 y(cremental)e(parsing)n
(.)533 4866 y(Some)34 b(incremental)f(parsing)h(algorithms)g(restrict)h
(the)f(user)g(to)g(single-site)h(edit-)450 4965 y(ing)29
b([Reps)g(and)h(T)-5 b(eitelbaum)30 b(1989])g(or)f(to)h(editing)f(of)g
(only)g(a)h(select)f(set)h(of)f(syntactic)450 5065 y(categories)j
([Degano)e(et)j(al.)h(1988],)h(or)e(can)f(only)g(parse)h(up)f(to)h(the)
f(current)g(\(single\))758 5189 y Fo(written)15 b(for)h(ACM)g
(Transactions)f(on)h(Programming)g(Languages)f(and)i(Systems)o(,)e
(August)f(30,)j(1997)h(at)e(16)10 b(:)g(54.)p eop
%%Page: 4 4
4 3 bop 450 250 a Fn(4)142 b Fm(\001)157 b Fn(T)-7 b(.)21
b(W)l(agner)g(and)f(S.)h(Gr)o(aham)450 465 y Fr(cursor)35
b(point)g([Shilling)g(1992].)66 b(Our)35 b(goal)g(w)o(as)g(to)g
(provide)f(an)h(unrestricted)g(edit-)450 565 y(ing)23
b(model)f(that)i(permits)f(mixed)f(textual)h(and)g(structural)h
(editing)f(at)h(any)e(number)h(of)450 665 y(points)e(\(inc)o(luding)e
(erroneous)f(edits)j(of)f(inde\002nite)f(extent)h(and)g(scope\))g(and)g
(to)h(analyze)450 764 y(the)i(entire)f(program,)f(not)i(merely)e(a)j
(pre\002x)d(or)i(syntactic)g(fragment.)533 864 y(A)35
b(description)e(of)h(incremental)g(LR\(0\))h(parsing)f(suitable)i(for)d
(multiple)i(\(textual\))450 964 y(edit)24 b(sites)h(w)o(as)f(presented)
e(by)i(Ghezzi)f(and)h(Mandrioli)f([1980].)32 b(Their)24
b(algorithm)f(has)450 1063 y(several)j(desirable)h(c)o(haracteristics)n
(,)i(but)e(its)h(restriction)f(to)f(LR\(0\))h(grammars)g(limits)450
1163 y(its)f(applicability)-10 b(.)36 b(LL\(1\))25 b(grammars)g(are)g
(more)f(practical)i(\(ha)o(ving)e(been)g(used)h(in)g(the)450
1262 y(de\002nitions)j(of)g(several)g(programming)f(languages\))h(and)g
(tec)o(hniques)h(ha)o(ve)f(been)g(de-)450 1362 y(veloped)18
b(for)h(incremental)g(top-down)f(parsing)h(using)h(this)h(grammar)e(c)o
(lass)j([Murc)o(hing)450 1462 y(et)29 b(al.)g(1990;)k(Beetem)28
b(and)h(Beetem)e(1991;)33 b(Shilling)c(1992].)47 b(Li)30
b([1995a])f(describes)g(a)450 1561 y(sentential-form)22
b(LL\(1\))h(parser)f(that)i(can)f(accommodate)e(multiple)h(edit)h
(sites)n(.)533 1661 y(J)n(alili)36 b(and)e(Gallier)g([1982])h(were)e
(the)h(\002rst)h(to)g(provide)d(an)j(incremental)e(parsing)450
1761 y(algorithm)d(suitable)g(for)g(LR\(1\))g(grammars)g(and)g
(multiple)f(edit)h(sites)h(and)f(based)h(on)450 1860
y(a)c(persistent)g(parse)f(tree)g(representation.)39
b(The)26 b(algorithm)g(associates)i(parse)f(states)450
1960 y(with)36 b(tree)f(nodes)n(,)k(computing)34 b(the)i(reusability)g
(of)f(previous)g(subtrees)h(using)g Fl(state)450 2060
y(matc)o(hing)p Fr(.)835 2029 y Fo(4)921 2060 y Fr(This)c(test)f(is)h
(suf\002cient)e(but)h(not)g(necessary)-10 b(,)31 b(decreasing)f
(performance)450 2159 y(and)e(requiring)g(additional)h(work)f(to)g
(compute)g(optimal)g(reuse)o(.)45 b(\(The)28 b(effect)g(is)h(espe-)450
2259 y(cially)d(severe)e(for)h(LR\(1\))h(grammars)n(,)h(due)e(to)g
(their)h(large)f(number)g(of)g(distinct)i(states)450
2358 y(with)c(equivalent)f(cores)n(.\))533 2458 y(More)39
b(recently)-10 b(,)41 b(Larc)o(hev)1456 2457 y(\210)1449
2458 y(eque)d([1995])h(has)h(extended)d(to)i(LR\()p Fl(k)p
Fr(\))g(grammars)g(the)450 2558 y Fl(matc)o(hing)25 b(condition)h
Fr(originally)g(formulated)g(by)i(Ghezzi)e(and)h(Mandrioli,)i(whic)o(h)
e(al-)450 2657 y(lows)j(the)g(parser)g(to)g(retain)g(structural)h
(units)f(that)h(fully)f(contain)f(the)h(modi\002cation)450
2757 y(site)o(.)e(His)21 b(work)f(focuses)g(on)g(the)g(indirect)g
(performance)e(gains)j(that)g(accrue)e(from)h Fl(node)450
2857 y(reuse)25 b Fr(in)h(an)h(ISDE.)e(But)i(unlike)e(the)h(original)g
(LR\(0\))f(algorithm,)i(this)g(algorithm)e(ex-)450 2956
y(hibits)k(linear)f(\(batc)o(h\))g(performance)d(in)j(many)f(cases)n(.)
44 b(\(F)-5 b(or)28 b(example)o(,)g(replacing)e(the)450
3056 y(opening)c(brac)o(ket)i(of)g(a)g(function)f(de\002nition)f
(requires)h(reparsing)g(the)h(entire)f(function)450 3155
y(body)32 b(from)f(scratc)o(h\).)58 b(The)32 b(de\002nition)f(of)h
(node)f(reuse)g(provided)g(does)g(not)i(describe)450
3255 y(all)28 b(opportunities)e(for)g(reuse)h(and)g(cannot)g(be)g
(considered)e(truly)j(optimal.)41 b(\(It)27 b(is)i(also)450
3355 y(linked)d(to)h(the)f(operational)g(semantics)h(of)f(the)g
(particular)h(parsing)f(algorithm.\))39 b(The)450 3454
y(history)20 b(mec)o(hanisms)g(we)g(de\002ne)f(subsume)h(the)g
(mark/dispose)g(operations)f(described)450 3554 y(by)k(Larc)o(hev)883
3553 y(\210)876 3554 y(eque)o(.)533 3654 y(P)m(etrone)32
b([1995])i(recognizes)e(that)i(explicit)f(states)i(need)d(not)h(be)g
(stored)g(in)h(nodes)450 3753 y(of)28 b(the)g(parse)g(tree)o(.)44
b(However)-8 b(,)27 b(his)i(parsing)f(theory)f(is)i(unnecessarily)e
(restrictive;)k(it)450 3853 y(requires)22 b(the)g(grammar)f(to)i(be)f
(in)g(LR\()p Fl(k)p Fr(\))30 b Fi(\\)g Fr(RL)q(\()p Fl(h)p
Fr(\))21 b(for)h(incremental)f(beha)o(vior)-8 b(.)27
b(Gram-)450 3952 y(mars)k(outside)g(this)g(c)o(lass)i(require)d(batc)o
(h)h(parsing)g(to)g(the)f(right)h(of)f(the)h(\002rst)g(edit)g(in)450
4052 y(eac)o(h)21 b(region)f(\(as)h(de\002ned)e(by)j(a)f(matc)o(hing)g
(condition)f(similar)i(to)f(Larc)o(hev)2989 4051 y(\210)2982
4052 y(eque\).)26 b(Node)450 4152 y(reuse)c(is)i(a)f(subset)h(of)e
(that)h(discovered)e(by)i(Larc)o(hev)2245 4151 y(\210)2238
4152 y(eque')n(s)f(algorithm.)533 4251 y(Y)-8 b(ang)18
b([1994])g(recognizes)e(the)h(utility)i(of)e(sentential-form)f(parsing)
n(,)j(but)f(still)h(records)450 4351 y(parse)34 b(states)i(in)f(nodes)f
(and)g(thus)h(requires)f(a)h(post-pass)g(to)f(relabel)h(subtrees)n(.)63
b(Li)450 4451 y([1995b])39 b(describes)g(a)g(sentential-form)f(parser)
-8 b(,)42 b(but)d(his)h(algorithm)e(can)h(generate)450
4550 y(incorrect)32 b(parse)h(errors)g(on)f(grammars)i(with)f
Fh(\017)p Fr(-rules)o(.)60 b(\(It)33 b(is)h(also)g(limited)f(to)g(com-)
450 4650 y(plete)j(LR\(1\))h(parse)g(tables)n(,)k(since)c(invalid)g
(reductions)e(can)i(induce)f(cyc)o(ling)g(in)h(his)450
4749 y(algorithm.\))50 b(Both)30 b(of)g(these)g(authors)g(suggest)g
(`improving')e(the)i(parsing)h(algorithm)450 4849 y(through)24
b(matc)o(hing)i(condition)f(c)o(hec)o(ks)h(that)h(actually)f(impede)e
(performance)f(and)j(re-)p 450 4966 391 1 v 450 5022
a Fj(4)482 5046 y Fu(Section)18 b(4)h(reviews)f(state)g(matching)n(.)
450 5189 y Fo(written)d(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 5 5
5 4 bop 1597 250 a Fn(Ef)l(\002cient)21 b(and)f(Flexible)g(Incremental)
g(P)o(ar)q(sing)158 b Fm(\001)141 b Fn(5)450 465 y Fr(quire)22
b(additional)h(space)g(to)g(store)f(the)h(state)h(information)d(in)i
(eac)o(h)g(node)o(.)533 565 y(None)28 b(of)h(these)g(approac)o(hes)g
(is)i(ideal.)48 b(Those)29 b(that)i(work)e(for)f(unrestricted)h
(LR\(1\))450 665 y(grammars)d(all)h(require)e(additional)h(space)f(in)i
(every)d(node)h(of)g(the)h(parse)g(tree)f(\(for)g(ex-)450
764 y(ample)o(,)k(Larc)o(hev)1056 763 y(\210)1049 764
y(eque)e([1995])i(requires)f(\002ve)g(extra)g(\002elds)g(per)g(node\).)
44 b(Only)28 b(Degano)450 864 y(et)e(al.)h([1988])f(address)g(the)g
(problem)f(of)h(mixed)f(textual)h(and)g(structural)g(editing)n(,)h(but)
450 964 y(they)f(then)g(impose)g(a)g(restricted)h(editing)e(framework)g
(and)h(require)g(novel)f(table)i(con-)450 1063 y(struction)g(tec)o
(hniques)n(.)39 b(The)26 b(algorithms)h(that)g(employ)e(matc)o(hing)h
(conditions)g(fail)h(to)450 1163 y(reuse)20 b(nodes)g(that)i(overlap)d
(modi\002cation)h(sites)n(.)28 b(Existing)21 b(reuse)f(de\002nitions)g
(are)h(sub-)450 1262 y(optimal)g(and)g(tied)g(to)g(the)f(details)i(of)e
(particular)h(parsing)g(algorithms)n(.)28 b(No)20 b(sentential-)450
1362 y(form)i(algorithms)h(support)f(ambiguous)g(grammars)n(.)533
1462 y(Our)36 b(approac)o(h)f(addresses)h(all)h(these)f(concerns)n(.)68
b(Our)35 b(incremental)h(parsing)g(al-)450 1561 y(gorithm)29
b(is)h(based)g(on)f(a)h(simple)g(idea:)42 b(that)30 b(a)g
(sentential-form)e(LR\(1\))i(parser)-8 b(,)31 b(aug-)450
1661 y(mented)18 b(with)g(reuse)g(computation,)h(can)g(integrate)f
(arbitrary)h(textual)g(and)f(structural)450 1761 y(c)o(hanges)23
b(in)h(an)f(ef\002cient)g(and)g(correct)f(manner)-8 b(.)30
b(Our)23 b(results)h(are)f(easily)h(extended)d(to)450
1860 y(enforce)h(any)i(of)f(the)h(restrictions)g(of)g(previous)e
(systems)n(,)j(inc)o(luding)f(top-down)e(expan-)450 1960
y(sion)32 b(of)f(correct)f(programs)h(using)g(placeholders)n(,)h
(restricting)g(structural)g(editing)f(to)450 2060 y(correct)25
b(transformations)n(,)i(and)e(limiting)i(text)f(editing)f(to)h(a)g
(subset)h(of)f(nonterminals)450 2159 y(that)20 b(must)f(retain)g(their)
f(syntactic)i(roles)f(across)g(c)o(hanges)n(.)27 b(The)18
b(tec)o(hnique)g(is)i(suitable)450 2259 y(for)h(LR\(1\),)i(LALR\(1\),)f
(SLR\(1\),)h(and)f(similar)h(grammar)f(c)o(lasses)n(,)h(and)f(works)g
(correctly)450 2358 y(in)30 b(the)f(presence)f(of)g Fh(\017)p
Fr(-rules)o(.)49 b(The)29 b(theory)f(extends)h(naturally)g(to)h(LR\()p
Fl(k)p Fr(\))f(grammars)n(,)450 2458 y(although)23 b(we)g(do)g(not)g
(address)h(the)f(general)f(case)i(in)g(the)f(proofs)g(presented)f(here)
o(.)29 b(Ex-)450 2558 y(isting)k(table)f(construction)f(methods)h
(\(suc)o(h)g(as)g(the)g(popular)f(Unix)h(tools)g Fk(yacc)f
Fr(and)450 2657 y Fk(bison)p Fr(\))22 b(ma)o(y)h(be)g(used)g(with)g
(very)f(little)i(c)o(hange)o(.)j(The)c(tec)o(hnique)g(uses)g(less)h
(time)f(and)450 2757 y(space)29 b(and)g(offers)f(more)g(intrinsic)i
(subtree)f(reuse)f(than)h(previous)f(approac)o(hes)n(.)47
b(\(Its)450 2857 y(nonterminal)17 b(shift)i(c)o(hec)o(k)f(is)h(both)f
(necessary)f(and)h(suf\002cient.\))26 b(F)o(inally)-10
b(,)19 b(our)f(approac)o(h)450 2956 y(is)23 b(designed)e(to)h(provide)f
(a)h Fl(complete)f Fr(incremental)g(parsing)h(solution:)28
b(it)23 b(incorporates)450 3056 y(a)33 b(balanced)g(representation)e
(of)i(sequences)n(,)h(supports)f(ambiguous)f(grammars)h(and)450
3155 y(static)24 b(parse)f(forest)f(\002lters)n(,)h(and)g(provides)e
(provably)h(optimal)h(node)e(reuse)o(.)450 3338 y Fv(3.)42
b(EDITING)23 b(MODEL)i(AND)e(CHANGE)i(REPORTING)450 3471
y Fr(This)h(section)f(reviews)f(our)h(representation)f(of)h(structured)
f(documents)g(and)h(a)h(model)450 3571 y(for)k(editing)g(and)h
(transforming)f(them.)52 b(The)31 b(object-based)e(versioning)h
(services)g(de-)450 3670 y(scribed)h(here)f(provide)g(the)h
(incremental)g(parser)g(\(and)f(other)h(tools)g(in)h(the)f(environ-)450
3770 y(ment\))21 b(with)g(the)g(means)h(both)f(to)g(locate)h(and)f
(record)f(modi\002cations)n(.)27 b(The)21 b(same)h(inter)m(-)450
3869 y(face)j(used)h(to)g(undo)f(textual)h(and)g(structural)g(edits)h
(can)f(be)g(used)f(to)h(undo)f(the)h(effects)450 3969
y(of)k Fl(any)f Fr(transformation,)i(inc)o(luding)f(incremental)f
(parsing)n(.)50 b(The)31 b(representation)d(is)450 4069
y(based)23 b(on)f(the)h(self-versioning)e(document)g(model)h(of)g(W)-6
b(agner)22 b(and)h(Graham)f([1997a].)450 4235 y Fv(3.1)41
b(Representation)450 4368 y Fr(The)31 b(algorithms)f(described)g(in)h
(this)g(paper)f(ha)o(ve)g(been)g(embedded)f(in)h(a)i(C)3095
4355 y Fo(++)3196 4368 y Fr(imple-)450 4467 y(mentation)f(of)h(the)f
Fl(Ensemble)h Fr(system)g(developed)d(at)j(Berkeley)-10
b(.)54 b Fl(Ensemble)31 b Fr(is)i(both)450 4567 y(a)g(softw)o(are)e
(development)f(environment)h(and)h(a)h(structured)f(document)f
(processing)450 4666 y(system.)68 b(Its)36 b(role)f(as)i(a)f
(structured)f(document)f(system)i(requires)g(support)f(for)g(dy-)450
4766 y(namic)26 b(presentations)n(,)f(multimedia)h(components)e(in)h
(documents)n(,)g(and)h(high-quality)450 4866 y(rendering)n(.)59
b(The)33 b(need)g(to)g(support)g(softw)o(are)g(necessitates)h(a)g
(sophisticated)g(treat-)450 4965 y(ment)28 b(of)g(structure:)39
b(fast)29 b(tra)o(versal)g(methods)n(,)g(automated)f(generation)f
(mixed)g(with)450 5065 y(explicit)34 b(\(direct\))f(editing)h(of)g
(both)g(structure)h Fl(and)f Fr(text,)j(and)d(support)g(for)g(complex)
758 5189 y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h(Programming)
g(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 6 6
6 5 bop 450 250 a Fn(6)142 b Fm(\001)157 b Fn(T)-7 b(.)21
b(W)l(agner)g(and)f(S.)h(Gr)o(aham)450 465 y Fr(incremental)h
(transformations)h([Ma)o(veric)o(k)g(1997;)g(W)-6 b(agner)22
b(1997].)533 565 y(Although)g(the)i Fl(Ensemble)e Fr(document)g(model)h
(supports)g(attributed)h(graphs)n(,)g(in)f(this)450 665
y(discussion)29 b(we)g(will)g(restrict)h(our)e(attention)h(to)g
(tree-structured)f(documents)n(,)h(focus-)450 764 y(ing)f(primarily)g
(on)g(the)g(text)h(and)f(structure)g(associated)h(with)f(programs)n(.)
44 b(Eac)o(h)29 b(doc-)450 864 y(ument)j(tree)h(is)g(associated)h(with)
f(an)g(instance)g(of)f(a)h Fl(language)e(object)p Fr(.)58
b(In)33 b(the)g(case)450 964 y(of)e(programs)n(,)i(this)g(object)e
(represents)g(the)h(programming)e(language)g(and)i(contains)450
1063 y(the)21 b(grammar)g(and)g(an)h(appropriate)e(specialization)i(of)
f(the)g(analysis/transformation)450 1163 y(tools)n(.)28
b(The)20 b(tree')n(s)h(structure)g(corresponds)e(to)i(the)f(concrete)f
(or)i(abstract)h(syntax)f(of)f(the)450 1262 y(programming)g(language;)h
(the)h(lea)o(ves)g(represent)f(tokens)n(.)28 b(Tree)21
b(nodes)h(are)f(instances)450 1362 y(of)i(strongly-typed)f(C)1184
1349 y Fo(++)1279 1362 y Fr(c)o(lasses)j(representing)e(productions)f
(in)i(the)g(grammar)-8 b(.)31 b(These)450 1462 y(c)o(lasses)25
b(are)f(automatically)g(generated)e(when)g(the)i(language)e
(description)h(\(inc)o(luding)450 1561 y(the)k(grammar\))g(is)h
(processed)e(off-line)o(.)40 b(Semantic)27 b(analysis)h(and)g(other)e
(tools)i(extend)450 1661 y(the)e(base)h(c)o(lass)h(for)e(eac)o(h)g
(production)f(to)i(add)f(their)g(own)g(attributes)h(as)g(slots)h
([Hedin)450 1761 y(1992;)c(Maddox)e(1997].)450 1927 y
Fv(3.2)41 b(Editing)23 b(Model)450 2060 y Fr(W)-5 b(e)24
b(permit)e(an)i(unrestricted)e(editing)h(model:)29 b(the)23
b(user)g(can)g(edit)g(any)g(component,)f(in)450 2159
y(any)28 b(representation,)h(at)g(any)f(time)o(.)45 b(These)29
b(c)o(hanges)f(typically)g(introduce)f(inconsis-)450
2259 y(tencies)22 b(among)f(the)i(program')n(s)e(components)n(.)26
b(The)d(frequency)d(and)i(timing)g(of)g(consis-)450 2358
y(tency)28 b(restoration)h(is)h(a)g(policy)e(decision:)41
b(in)29 b Fl(Ensemble)p Fr(,)h(incremental)e(lexing)n(,)i(pars-)450
2458 y(ing)n(,)20 b(and)g(semantic)g(analysis)h(are)f(performed)e(when)
g(requested)h(by)h(the)g(user)-8 b(,)20 b(whic)o(h)g(is)450
2558 y(usually)25 b(quite)g(frequently)e(but)j(not)e(after)h(every)e
(keystroke)o(.)2549 2528 y Fo(5)2619 2558 y Fr(Between)g(incremental)
450 2657 y(parses)n(,)g(the)f(user)g(can)g(perform)f(an)h(unlimited)g
(number)f(of)h(mixed)g(textual)g(and)g(struc-)450 2757
y(tural)h(edits)n(,)g(in)f(any)g(order)-8 b(,)21 b(at)i(any)f(point)g
(in)h(the)f(program.)2485 2727 y Fo(6)2548 2757 y Fr(The)h(performance)
c(of)j(the)450 2857 y(tools)n(,)31 b(inc)o(luding)e(the)g(incremental)f
(parser)-8 b(,)30 b(is)g(not)f(adversely)f(affected)g(by)h(the)g(loca-)
450 2956 y(tion)23 b(of)g(the)f(edit)h(sites\227c)o(hanges)h(to)f(the)g
(beginning)n(,)f(middle)o(,)g(or)h(end)f(of)g(the)h(program)450
3056 y(are)g(integrated)e(equally)i(quic)o(kly)-10 b(.)533
3155 y(Our)23 b(approac)o(h)h(handles)f(all)i(transformations)n(,)f
(both)g(user)g(c)o(hanges)g(and)g(those)f(ap-)450 3255
y(plied)f(by)h(tools)h(suc)o(h)f(as)h(incremental)e(parsing)n(,)h(in)g
(a)h(uniform)d(fashion.)29 b(Among)22 b(other)450 3355
y(bene\002ts)n(,)i(this)g(allows)g(the)g(user)f(to)h(use)g(existing)f
(undo/redo)e(commands)i(to)h(return)f(to)450 3454 y(any)g(state)i(of)e
(the)h(program.)29 b(This)c(uniform)d(treatment)i(is)g(critical)g(to)g
(providing)e(a)i(ra-)450 3554 y(tional)j(user)g(interface)o(,)f(and)h
(requires)f(no)g(additional)h(effort)f(in)h(the)f(implementation)450
3654 y(of)k(the)g(incremental)g(parser)m(\227its)h(effects)e(are)i
(captured)e(in)i(the)f(same)h(development)450 3753 y(history)23
b(that)g(records)f(all)i(program)d(modi\002cations)n(.)450
3919 y Fv(3.3)41 b(Pr)n(ogr)n(am)24 b(V)-8 b(er)r(sions)23
b(and)f(Change)g(Repor)r(ting)450 4052 y Fr(An)i(ISDE)f(inc)o(ludes)h
(a)g(variety)f(of)g(tools)h(for)f(analyzing)h(and)f(transforming)g
(programs)n(.)450 4152 y(Some)k(tools)i(must)f(be)g(applied)f(in)h(a)h
(strict)g(order)m(\227for)c(example)o(,)j(semantic)g(analysis)450
4251 y(cannot)g(be)g(applied)f(until)h(incremental)g(lexing)f(and)h
(parsing)f(ha)o(ve)h(restored)f(consis-)450 4351 y(tency)c(between)f
(the)h(text)h(and)f(structure)h(of)f(a)h(program)e(component.)28
b(Simple)c(editing)p 450 4468 391 1 v 450 4524 a Fj(5)482
4548 y Fu(This)19 b(policy)i(re\003ects)f(experience)h(showing)d(that)h
(re-analysis)h(after)g(every)g(keystroke)h(is)f(unnecessary)f(for)450
4631 y(adequate)i(performance)j(and)d(the)g(\(typically)g(invalid\))g
(results)g(would)f(be)i(distracting)f(if)h(presented)g(to)f(the)450
4714 y(user)d([V)-6 b(an)19 b(De)f(V)-6 b(anter)19 b(et)g(al.)f(1992].)
450 4774 y Fj(6)482 4797 y Fu(There)27 b(are)f(no)g(restrictions)g(on)g
(structural)g(updates)g(sa)o(ve)g(that)f(a)h(node')n(s)f(type)h(remain)
g(\002xed)g(and)g(that)450 4880 y(the)c(resulting)g(structure)g(remain)
h(a)g(tree)o(.)36 b(Structural)22 b(changes)g(not)g(compatible)h(with)e
(the)i(grammar)g Ft(are)450 4963 y Fu(permitted;)c(special)f(error)i
(nodes)d(are)h(introduced)h(as)e(necessary)h(to)f(accommodate)i(such)e
(changes)n(.)22 b(T)l(extual)450 5046 y(modi\002cations)c(are)h
(represented)h(as)e(local)h(changes)e(to)i(the)f(terminal)g(symbol)g
(containing)f(the)h(edit)h(point.)450 5189 y Fo(written)c(for)i(ACM)f
(Transactions)f(on)g(Programming)h(Languages)g(and)g(Systems)o(,)f
(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p eop
%%Page: 7 7
7 6 bop 1597 250 a Fn(Ef)l(\002cient)21 b(and)f(Flexible)g(Incremental)
g(P)o(ar)q(sing)158 b Fm(\001)141 b Fn(7)458 432 y Fq(bool)40
b(has_changes\([local|nested]\).)458 515 y(bool)g
(has_changes\(version_id,)c([local|nested]\).)624 598
y Fu(These)26 b(routines)g(permit)g(clients)f(to)h(discover)h(changes)e
(to)h(a)g(single)f(node)h(or)g(to)g(tra)o(verse)h(an)624
681 y(entire)h(\(sub\)tree)o(,)i(visiting)25 b(only)i(the)f(changed)h
(areas)n(.)50 b(When)26 b(no)h(version)g(is)g(provided,)k(the)624
764 y(query)20 b(refers)h(to)f(the)g(current)h(version.)27
b(The)20 b(optional)g(argument)f(restricts)i(the)e(query)h(to)g(only)
624 847 y(local)f(or)g(only)f(nested)h(changes)n(.)458
1013 y Fq(node)40 b(child\(i\).)458 1096 y(node)g(child\(i,)e
(version_id\).)624 1179 y Fu(These)20 b(methods)g(return)g(the)g
Ft(i)1468 1156 y Fg(th)1540 1179 y Fu(child.)28 b(W)o(ith)19
b(a)h(single)f(argument,)h(the)g(current)h(\(cached\))f(ver)n(-)624
1262 y(sion)j(is)g(used.)37 b(Similar)24 b(pairs)f(of)h(methods)f
(exist)f(for)i(each)f(versioned)h(attribute)e(of)i(the)f(node:)624
1346 y(parent,)c(annotations)n(,)f(versioned)h(semantic)f(data,)h(etc)o
(.)458 1512 y Fq(void)40 b(set_child\(node,)d(i\).)624
1595 y Fu(Sets)22 b(the)g Ft(i)922 1571 y Fg(th)997 1595
y Fu(child)f(to)i Fq(node)p Fu(.)34 b(Because)22 b(the)g(children)g
(are)h(versioned,)g(this)f(method)g(automat-)624 1678
y(ically)i(records)i(the)d(change)g(with)g(the)g(history)h(log)n(.)39
b(Similar)24 b(methods)g(exist)f(to)h(update)g(each)624
1761 y(versioned)19 b(attribute)o(.)458 1927 y Fq(bool)40
b(exists\([version_id]\).)624 2010 y Fu(Determines)19
b(whether)f(the)g(node)g(exists)g(in)g(the)g(current)h(or)g(a)g
(speci\002ed)g(version.)458 2176 y Fq(bool)40 b(is_new\(\).)624
2259 y Fu(Determines)19 b(if)f(a)h(node)f(w)o(as)g(created)i(in)e(the)g
(current)h(version.)450 2417 y(F)o(ig)n(.)i(1.)27 b(Summary)19
b(of)h(node-level)g(interface)h(used)e(by)h(the)f(incremental)h(parser)
-7 b(.)29 b(Each)19 b(node)h(maintains)e(its)450 2500
y(own)23 b(version)h(history)-8 b(,)25 b(and)e(is)h(capable)g(of)g
(reporting)h(both)e(local)h(changes)f(to)h(its)f(attributes)h(and)f
(`nested')450 2583 y(changes\227modi\002cations)18 b(within)g(the)i
(subtree)f(rooted)i(at)e(the)g(node)o(.)27 b(The)20 b
Fq(version_id)e Fu(arguments)g(refer)450 2666 y(to)d(the)f(document)g
(as)h(a)f(whole;)i(they)e(are)h(ef\002ciently)f(translated)g(into)g
(names)g(for)i(values)d(in)h(the)g(local)h(history)450
2749 y(of)k(each)f(versioned)h(attribute)o(.)450 2932
y Fr(operations)31 b(can)h(also)h(be)f(viewed)e(as)j(transformations)n
(,)i(a)d(perspective)f(that)i(is)g(par)m(-)450 3032 y(ticularly)d
(useful)g(when)f(discussing)i Fl(c)o(hange)d(reporting)p
Fr(,)j(the)f(means)g(by)g(whic)o(h)g(tools)450 3132 y(convey)24
b(to)i(eac)o(h)g(other)-8 b(,)26 b(via)g(the)f(history)h(services)n(,)h
(whic)o(h)e(portion)g(of)g(a)i(program)d(has)450 3231
y(been)e(c)o(hanged.)533 3331 y(Modi\002cations)f(to)g(the)f(program)g
(are)g(initially)i(applied)e(by)h(the)g(user)-8 b(,)21
b(either)f(directly)450 3430 y(or)33 b(through)f(the)h(actions)g(of)g
(one)f(or)h(more)f(tools)n(.)59 b(The)33 b(completion)f(of)h(a)g
(logical)g(se-)450 3530 y(quence)24 b(of)h(actions)h(is)g(indicated)f
(by)g(a)h Fl(commit)e Fr(step;)j(once)d(committed,)h(the)g(contents)450
3630 y(of)36 b(a)h(version)e(are)i(read-only)d(and)i(are)h(treated)f
(as)h(a)g(single)o(,)i(atomic)e(action)f(when)450 3729
y(c)o(hanging)29 b(versions)n(.)47 b(All)30 b(versions)f(are)g(named,)h
(allowing)e(tools)i(to)f(readily)g(identify)450 3829
y(any)23 b(accessible)g(state)h(of)e(the)g(program.)533
3929 y(History)27 b(\(versioning\))e(services)h(provide)f(the)i
(correspondence)c(between)j(names)h(of)450 4028 y(versions)f(and)g
(values)n(.)39 b(Their)26 b(primary)g(responsibility)g(is)h(to)g
(maintain)f(the)h(develop-)450 4128 y(ment)d(log)n(,)g(retaining)f
(access)i(to)f(`old')g(information.)31 b(Updates)24 b(to)g(persistent)g
(informa-)450 4227 y(tion)c(are)f(routed)g(through)g(the)g(history)h
(service)o(,)f(with)h(the)f(current)g(value)h(of)f(versioned)450
4327 y(data)k(alw)o(a)o(ys)g(cac)o(hed)f(for)h(optimum)f(performance)o
(.)533 4427 y(The)j(history)g(services)f(also)i(provide)d(a)j(uniform)d
(w)o(a)o(y)i(for)f(tools)h(to)g(locate)g(modi\002ca-)450
4526 y(tions)f(ef\002ciently)-10 b(.)29 b(This)24 b(service)f(is)i
(fully)e(general,)f(in)i(that)h(any)e(tool)g(can)h(examine)e(the)450
4626 y(regions)j(altered)h(between)f(any)h(two)f(versions)n(.)38
b(Changes)26 b(can)g(be)g(examined)f(not)h(just)450 4726
y(at)j(the)g(level)f(of)g(the)g(entire)g(program,)h(but)g(also)g(in)g
(a)g(distributed)g(fashion)f(for)g(every)450 4825 y(node)f(and)h
(subtree)o(.)45 b(This)29 b(generality)e(is)j(ac)o(hieved)d(by)h(ha)o
(ving)g(eac)o(h)h(node)e(maintain)450 4925 y(its)d(own)e(edit)h
(history)f([W)-6 b(agner)22 b(and)h(Graham)f(1997a].)533
5024 y Fl(Change)31 b(reporting)f Fr(is)i(the)g(protocol)e(by)i(whic)o
(h)g(tools)g(discover)e(the)i(modi\002cations)758 5189
y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 8 8
8 7 bop 450 250 a Fn(8)142 b Fm(\001)157 b Fn(T)-7 b(.)21
b(W)l(agner)g(and)f(S.)h(Gr)o(aham)450 558 y Fu(F)o(ig)n(.)j(2.)67
b(The)23 b(relationship)g(between)g(the)g(three)g(permanent)g(sentinel)
g(nodes)450 641 y(and)i(the)g(parse)h(tree)h(structure)o(.)44
b(Two)26 b(permanent)f(tokens)h(bracket)g(the)f(ter)n(-)450
724 y(minal)h(yield)g(of)h(the)f(parse)h(tree)o(,)i(while)d(a)g(third)g
(sentinel)g(\(the)g Fq(UltraRoot)n Fu(\))450 807 y(points)21
b(to)h(both)f(of)h(these)f(tokens)h(as)f(well)g(as)h(the)f(\(current\))
h(root)h(of)f(the)f(parse)450 890 y(tree)o(.)j(The)18
b(sentinel)g(nodes)g(do)h Ft(not)g Fu(change)e(from)i(one)g(version)f
(to)h(the)f(next.)2839 1031 y @beginspecial 0 @llx 0
@lly 274 @urx 296 @ury 720 @rwi @setspecial
%%BeginDocument: figures/sentinels.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-140.0 382.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Polyline
n 4612 2400 m 4612 4875 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4612 2475 m 2962 4050 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4612 2400 m 6262 4050 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2512 3600 m 3412 3600 l 3412 4500 l 2512 4500 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5812 3600 m 6712 3600 l 6712 4500 l 5812 4500 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 4612 2400 424 424 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 4612 3600 m 3573 5400 l 5651 5400 l cp gs 0.95 setgray ef gr gs col-1 s gr 
15.000 slw
% Polyline
gs  clippath
6520 4740 m 6808 4800 l 6520 4860 l 6892 4860 l 6892 4740 l  cp clip
n 2362 4800 m 3412 4800 l 2962 5700 l 6262 5700 l 5662 4800 l 6862 4800 l gs col-1 s gr gr

% arrowhead
n 6520 4740 m 6808 4800 l 6520 4860 l 6568 4800 l 6520 4740 l  cp gs 0.00 setgray ef gr  col-1 s
/Courier ff 420.00 scf sf
2961 4200 m
gs 1 -1 sc (bos) dup sw pop 2 div neg 0 rm  col-1 sh gr
/Courier ff 420.00 scf sf
6261 4200 m
gs 1 -1 sc (eos) dup sw pop 2 div neg 0 rm  col-1 sh gr
/Courier ff 420.00 scf sf
4612 6300 m
gs 1 -1 sc (token stream) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 420.00 scf sf
4612 5250 m
gs 1 -1 sc (tree) dup sw pop 2 div neg 0 rm  col-1 sh gr
/Courier ff 420.00 scf sf
4612 1650 m
gs 1 -1 sc (UltraRoot) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 450 1213 a Fr(of)39 b(interest)h(to)f(them.)78
b(Change)39 b(reporting)f(is)i(mediated)f(by)g(the)g(history)h
(service;)450 1313 y(tools)e(record)e(c)o(hanges)i(as)g(a)g(side)g
(effect)f(of)g(transforming)f(the)i(program)e(and)i(dis-)450
1413 y(cover)31 b(c)o(hanges)h(when)g(they)g(perform)e(an)j(analysis)n
(.)59 b(The)32 b(history)h(service)e(provides)450 1512
y(two)d(boolean)f(attributes)j(for)d(eac)o(h)h(node)f(to)i(distinguish)
f(between)f(local)i(and)f(nested)450 1612 y(c)o(hanges)n(.)36
b Fl(Local)24 b(c)o(hanges)g Fr(are)h(modi\002cations)g(that)h(ha)o(ve)
e(been)h(applied)f(directly)h(to)h(a)450 1711 y(node)o(.)38
b(F)-5 b(or)28 b(terminal)e(symbols)n(,)j(a)e(local)g(c)o(hange)f(is)h
(usually)g(caused)g(by)f(an)h(operation)450 1811 y(on)h(the)h(external)
f(representation)f(of)h(the)h(symbol.)46 b(\(In)29 b(the)f(case)h(of)f
(programs)n(,)i(local)450 1911 y(c)o(hanges)19 b(usually)h(indicate)g
(a)g(textual)g(edit.\))27 b(Structural)20 b(editing)f(normally)g
(causes)h(lo-)450 2010 y(cal)h(c)o(hanges)f(to)h(internal)f(nodes)n(.)
27 b Fl(Nested)20 b(c)o(hanges)f Fr(indicate)h(paths)h(to)g(altered)f
(regions)450 2110 y(of)31 b(the)f(tree)o(.)53 b(A)31
b(node)f(possesses)i(this)g(attribute)f(if)h(and)e(only)h(if)g(it)h
(lies)f(on)g(the)g(path)450 2210 y(between)20 b(the)h(root)g(and)g(at)h
(least)g(one)f(locally-modi\002ed)d(node)i(other)h(than)g(itself)m(.)29
b(Local)450 2309 y(c)o(hanges)d(are)f(simply)h(a)h(derived)d(view)h(on)
g(the)h(local)g(history)g(log)n(,)g(but)g(nested)g(c)o(hange)450
2409 y(annotations)31 b(must)h(be)f(incrementally)f(computed)g(as)i
(synthesized)e(attributes)j(\(and)450 2508 y(must)f(themselves)e(be)i
(versioned\).)51 b(F)o(igure)31 b(1)h(summarizes)g(the)f(node-level)d
(history)450 2608 y(interface)22 b(needed)e(by)j(incremental)f(parsing)
h(and)f(node)g(reuse)o(.)533 2708 y(Incremental)f(parsing)i(involves)f
(three)g(distinct)i(versions)e(of)g(the)h(program:)450
2857 y Fl(Reference)p Fr(:)40 b(A)27 b(version)f(of)h(the)g(program)e
(that)j(represents)f(a)g(parsed)g(state)o(.)42 b(Any)26
b(ver)m(-)876 2957 y(sion)k(that)g(conc)o(luded)e(with)i(a)h(parse)f
(operation)e(ma)o(y)i(be)g(used;)j(our)c(pro-)876 3056
y(totype)37 b(selects)h(the)g(most)h(recently)d(parsed)i(version)f(as)i
(the)f(reference)876 3156 y(for)30 b(the)h(subsequent)g(parse)o(.)52
b(Exception:)43 b(an)31 b(initial)h(parse)f(of)f(a)i(newly-)876
3256 y(entered)37 b(program)g(has)i(no)f(reference)e(version,)42
b(since)d(it)g(represents)f(a)876 3355 y(batc)o(h)23
b(scenario)o(.)450 3471 y Fl(Previous)p Fr(:)73 b(The)24
b(state)h(of)f(the)g(program)f(immediately)g(prior)h(to)g(the)g(start)i
(of)d(parsing)n(.)876 3571 y(This)28 b(is)g(the)g(version)e(read)h(by)g
(the)h(parser)f(to)g(provide)f(its)i(input)g(stream.)876
3671 y(\(The)g(modi\002cations)g(accrued)g(between)f(the)i(reference)d
(version)i(and)g(the)876 3770 y(previous)22 b(version)g(determine)g
(whic)o(h)h(subtrees)h(are)f(a)o(vailable)h(for)e(poten-)876
3870 y(tial)h(reuse)o(.\))450 3986 y Fl(Current)p Fr(:)101
b(The)22 b(version)g(being)g(written)h(\(constructed\))e(by)i(the)f
(parser)-8 b(.)533 4136 y(T)j(ools)22 b(in)f(the)g(ISDE,)g(inc)o
(luding)g(the)g(incremental)f(parser)-8 b(,)21 b(use)h(permanent)d
Fl(sentinel)450 4235 y Fr(nodes)28 b(to)i(locate)f(starting)h(points)f
(in)h(the)f(mutable)h(tree)e(structure)o(.)48 b(Three)28
b(sentinel)450 4335 y(nodes)n(,)22 b(shown)g(in)g(F)o(igure)g(2)h(are)g
(used)f(to)h(mark)g(the)f(beginning)f(and)h(end)g(of)g(the)h(token)450
4435 y(stream)g(and)g(the)f(root)h(of)f(the)g(tree)o(.)533
4534 y(T)-5 b(o)27 b(create)f(a)h(new)e(program,)h(a)h(null)f(tree)g
(corresponding)e(to)i(only)g(the)g(sentinels)h(in)450
4634 y(F)o(igure)g(2)h(and)f(a)h(completing)e(production)g(for)h(the)g
(start)i(symbol)e(of)g(the)g(grammar)g(is)450 4733 y(constructed.)h
(The)23 b(initial)h(program)d(text)i(is)h(assigned)f(temporarily)f(as)i
(the)e(lexeme)g(of)450 4833 y Fk(bos)p Fr(.)28 b(Then)20
b(a)i(\(batc)o(h\))g(analysis)g(is)g(performed,)d(whic)o(h)i
(constructs)h(the)f(initial)h(version)450 4933 y(of)h(the)h(persistent)
g(program)e(structure;)j(all)f(subsequent)g(structure)g(is)g(derived)e
(solely)450 5032 y(through)g(the)g(incorporation)f(of)h(valid)h
(modi\002cations)f(by)h(the)g(parser)f(and)h(other)f(tools)n(.)450
5189 y Fo(written)15 b(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 9 9
9 8 bop 1597 250 a Fn(Ef)l(\002cient)21 b(and)f(Flexible)g(Incremental)
g(P)o(ar)q(sing)158 b Fm(\001)141 b Fn(9)450 465 y Fv(4.)42
b(INCREMENT)l(AL)27 b(P)-9 b(ARSING)24 b(OF)g(SENTENTIAL)i(FORMS)450
598 y Fr(Our)36 b(incremental)f(parsing)i(algorithm)f(utilizes)h(a)g
(persistent)f(parse)h(tree)f(and)g(de-)450 698 y(tailed)d(c)o(hange)e
(information)g(to)i(restrict)g(both)f(the)g(time)g(required)g(to)g
(re-parse)f(and)450 798 y(the)g(regions)e(of)h(the)h(tree)f(that)i(are)
e(affected.)51 b(The)30 b(input)h(to)g(the)f(parser)h(consists)h(of)450
897 y(both)c(terminal)h Fl(and)e(nonterminal)f Fr(symbols;)32
b(the)c(latter)h(are)f(a)h(natural)g(representa-)450
997 y(tion)i(of)f(the)g(unmodi\002ed)e(subtrees)j(from)f(the)g
(reference)e(version)i(of)g(the)h(parse)f(tree)o(.)450
1096 y(W)-5 b(e)31 b(begin)g(by)g(discussing)g(tests)h(for)f(subtree)f
(reuse)o(,)i(then)f(present)f(a)h(simpli\002ed)g(al-)450
1196 y(gorithm)25 b(for)f(incremental)h(parsing)g(that)h(introduces)e
(the)h(basic)i(concepts)n(.)35 b(Section)25 b(5)450 1296
y(extends)j(these)h(results)g(to)g(ac)o(hieve)g(optimal)g
(incrementality;)i(subsequent)e(sections)450 1395 y(discuss)24
b(representation)d(issues)j(and)e(additional)h(functionality)-10
b(.)450 1561 y Fv(4.1)41 b(Subtree)24 b(Reuse)450 1694
y Fr(Many)g(previous)e(algorithms)i(for)f(incremental)g(parsing)g(of)g
(LR\()p Fl(k)p Fr(\))h(or)g(LALR\()p Fl(k)p Fr(\))g(gram-)450
1794 y(mars)f(ha)o(ve)g(relied)e(on)i Fl(state)g(matc)o(hing)p
Fr(,)e(whic)o(h)h(incrementalizes)g(the)h(push-down)d(au-)450
1893 y(tomata)27 b(of)e(the)h(parser)-8 b(.)38 b(The)27
b(con\002guration)d(of)i(the)g(mac)o(hine)f(is)i(summarized)f(by)g(the)
450 1993 y(current)j(parse)g(state)o(,)j(and)d(eac)o(h)h(node)e(in)i
(the)f(parse)h(tree)f(records)f(this)j(state)f(when)450
2093 y(it)d(is)g(shifted)f(onto)g(the)g(stac)o(k.)40
b(T)-5 b(o)27 b(test)g(an)g(unmodi\002ed)d(subtree)i(for)f(reuse)h(at)h
(a)g(later)450 2192 y(time)o(,)c(the)g(state)i(recorded)c(at)j(its)h
(root)e(is)h(compared)e(to)h(the)h(mac)o(hine')n(s)f(current)g(state)o
(.)450 2292 y(If)32 b(they)f(matc)o(h,)36 b(and)c(any)f(required)g
(lookahead)g(items)i(are)f(valid,)j(then)c(the)h(parser)450
2392 y(can)f(shift)g(the)f(subtree)g(without)h(inspecting)e(its)j
(contents)n(.)51 b(T)-5 b(esting)32 b(the)e(validity)h(of)450
2491 y(the)k(lookahead)f(is)h(usually)h(accomplished)d(through)h(a)h
(conservative)f(c)o(hec)o(k:)53 b(the)35 b Fl(k)450 2591
y Fr(terminal)27 b(symbols)h(following)e(the)h(subtree)g(on)g(the)g
(previous)f(parse)i(are)f(required)f(to)450 2690 y(follow)c(it)h(in)g
(the)g(new)f(version)f(as)j(well.)533 2790 y(One)37 b(disadvantage)f
(of)h(state)i(matc)o(hing)e(is)h(the)g(space)f(associated)h(with)f
(storing)450 2890 y(states)25 b(in)g(tree)e(nodes)n(.)31
b(State)25 b(matc)o(hing)f(also)g(restricts)h(the)f(set)g(of)g
(contexts)f(in)h(whic)o(h)450 2989 y(a)31 b(subtree)g(is)g(considered)e
(valid,)k(since)e(the)f(state-matc)o(h)i(test)f(is)h(suf\002cient)e
(but)h(not)450 3089 y(necessary)-10 b(.)31 b(The)24 b(overly)f
(restrictive)h(test)h(is)g(particularly)f(limiting)g(with)g(LR\(1\))g
(parse)450 3189 y(tables)n(,)36 b(as)d(opposed)d(to)j(LALR\(1\),)i
(because)d(the)g(large)g(number)f(of)h(similar)h(distinct)450
3288 y(states)27 b(\(i.e)o(.,)e(distinct)h(item)f(sets)h(with)f
(identical)g(cores\))g(practically)g(guarantees)f(that)450
3388 y(legal)30 b(syntactic)h(edits)g(will)f(not)g(ha)o(ve)g(valid)g
(state)h(matc)o(hes)n(.)51 b(The)30 b(failure)g(to)h(matc)o(h)450
3487 y(states)21 b(for)e(a)h(subtree)f(in)g(a)h(grammatically)g
(correct)e(context)h(causes)h(a)g(state-matc)o(hing)450
3587 y(incremental)30 b(parser)h(to)g(discard)g(the)f(subtree)h(and)g
(rebuild)f(an)h(isomorphic)f(one)g(la-)450 3687 y(beled)g(with)i
(different)d(state)j(numbers)n(.)53 b(LALR\(1\))32 b(parsers)f(fare)g
(better)g(with)g(state-)450 3786 y(matc)o(hing)24 b(algorithms)g
(because)f(a)i(greater)d(proportion)g(of)i(modi\002cations)f(permit)g
(the)450 3886 y(test)h(to)f(succeed.)533 3986 y(Sentential-form)37
b(parsing)h(is)h(a)g(strictly)g(more)e(powerful)f(tec)o(hnique)i(than)g
(state)450 4085 y(matc)o(hing)28 b(for)f(deterministic)h(grammars)n(,)i
(capturing)d(more)g(of)h(the)f(`intrinsic')i(incre-)450
4185 y(mentality)35 b(of)f(the)h(problem.)64 b(F)-5 b(or)35
b(LR\(0\))g(parsers)n(,)j(the)d(mere)f(fact)h(that)h(the)f(gram-)450
4284 y(mar)23 b(symbol)f(associated)i(with)e(a)h(subtree')n(s)g(root)f
(node)g(can)h(be)f(shifted)h(in)f(the)h(current)450 4384
y(parse)j(state)i(indicates)e(that)i(the)e(entire)g(subtree)g(can)g(be)
h(incorporated)d(without)i(fur)m(-)450 4484 y(ther)33
b(analysis)n(.)60 b(The)33 b(situation)h(is)f(similar)-8
b(,)37 b(though)32 b(more)g(complex,)i(for)e(the)h(LR\(1\))450
4583 y(case)o(.)k(Stated)27 b(informally)-10 b(,)25 b(the)h(fact)g
(that)h(a)f(subtree)g(representing)e(a)i(nonterminal)f(is)450
4683 y(shiftable)c(in)f(the)g(current)f(parse)h(state)h(means)f(that)h
(the)f(entire)f(subtree)h(except)f(for)g(its)450 4783
y(right-hand)i(edge)g(\(the)h(portion)f(affected)g(by)i(lookahead)e
(outside)h(the)g(subtree\))g(can)g(be)450 4882 y(immediately)g(reused.)
27 b(Sentential-form)21 b(parsing)i(provides)e(incrementality)g
(without)450 4982 y(the)33 b(limitations)g(of)f(state)i(matc)o(hing:)48
b(no)33 b(states)h(are)e(recorded)f(in)i(nodes)n(,)h(subtrees)758
5189 y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 10 10
10 9 bop 450 250 a Fn(10)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)1044 1740 y
@beginspecial 0 @llx 0 @lly 472 @urx 356 @ury 2160 @rwi
@setspecial
%%BeginDocument: figures/concept.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-12.0 372.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
% Polyline
n 1921 2834 m 2442 4225 l 3312 4225 l 3529 4225 l 3616 4312 l 3616 4747 l
 3616 5355 l 3529 5486 l 1790 5486 l 1312 4399 l 312 4399 l
 225 4268 l 225 3008 l 312 2834 l gs 0.90 setgray ef gr 
% Polyline
n 5354 1486 m 4832 2877 l 3963 2877 l 3745 2877 l 3658 2964 l 3658 3399 l
 3658 4008 l 3745 4138 l 5484 4138 l 5963 3051 l 6963 3051 l
 7050 2921 l 7050 1660 l 6963 1486 l gs 0.90 setgray ef gr 
7.500 slw
% Polyline
n 4486 5100 m 7125 5100 l 7125 6182 l 4486 6182 l cp gs col-1 s gr 
% Polyline
n 2718 3399 m 2280 4309 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 1968 2342 m 790 2935 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3094 616 m 6588 1574 l gs col7 1.00 shd ef gr gs col-1 s gr 
15.000 slw
% Polyline
 [66.7] 0 sd
n 3109 573 m 3109 1442 l gs col7 1.00 shd ef gr gs col-1 s gr  [] 0 sd
7.500 slw
% Polyline
n 3109 1442 m 1979 2355 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 1974 2366 m 2718 3399 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2719 3406 m 3196 4790 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 1979 2355 m 1758 2935 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4153 2226 m 5138 2921 l gs col7 1.00 shd ef gr gs col-1 s gr 
15.000 slw
% Polyline
 [100.0] 0 sd
n 4130 2226 m 4130 3095 l gs col7 1.00 shd ef gr gs col-1 s gr  [] 0 sd
7.500 slw
% Polyline
n 3138 616 m 5719 1574 l gs col7 1.00 shd ef gr gs col-1 s gr 
15.000 slw
% Polyline
 [100.0] 0 sd
n 4153 2226 m 3094 1486 l gs col7 1.00 shd ef gr gs col-1 s gr  [] 0 sd
7.500 slw
% Polyline
n 1758 2935 m 1413 4008 l 2109 4008 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
15.000 slw
 [100.0] 0 sd
% Ellipse
n 3094 1485 331 331 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr
 [] 0 sd
7.500 slw
% Polyline
n 2761 4442 m 3457 4442 l 3457 5138 l 2761 5138 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 790 2935 m 457 4008 l 1152 4008 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5138 2921 m 4792 3961 l 5487 3961 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
15.000 slw
 [133.3] 0 sd
% Ellipse
n 4137 2224 331 331 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr
 [] 0 sd
7.500 slw
% Polyline
n 5719 1574 m 5372 2619 l 6068 2619 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 2703 3398 331 331 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

15.000 slw
 [66.7] 0 sd
% Ellipse
n 4833 5638 86 86 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr
 [] 0 sd
 [133.3] 0 sd
% Ellipse
n 3094 616 331 331 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr
 [] 0 sd
7.500 slw
% Polyline
n 4704 5217 m 4936 5217 l 4936 5450 l 4704 5450 l cp gs 0.75 setgray ef gr gs col0 s gr 
% Polyline
n 3814 3102 m 4510 3102 l 4510 3798 l 3814 3798 l cp gs 0.75 setgray ef gr gs col-1 s gr 
% Polyline
n 2280 4309 m 1935 5355 l 2631 5355 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 1963 2355 331 331 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 6588 1574 m 6242 2619 l 6937 2619 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
/NewCenturySchlbk-Roman ff 270.00 scf sf
6312 4486 m
gs 1 -1 sc (Right \(subtree reuse\) Stack) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
4791 6012 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
5196 5690 m
gs 1 -1 sc (nested changes) col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
5196 6003 m
gs 1 -1 sc (reuse candidate) col-1 sh gr
/Courier-Bold ff 210.00 scf sf
4138 3416 m
gs 1 -1 sc (acd) dup sw pop 2 div neg 0 rm  col-1 sh gr
/Courier-Bold ff 210.00 scf sf
4138 3590 m
gs 1 -1 sc (^b) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
1355 5834 m
gs 1 -1 sc (Left \(parse\) Stack) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
1963 2424 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
2703 3468 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
4137 2294 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
3094 1555 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 270.00 scf sf
3094 685 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
3138 5355 m
gs 1 -1 sc (TOS) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
4181 4051 m
gs 1 -1 sc (lookahead) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 240.00 scf sf
5196 5386 m
gs 1 -1 sc (local changes) col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 450 1923 a Fu(F)o(ig)n(.)29 b(3.)51 b(Incremental)28
b(parsing)f(example)o(.)51 b(This)27 b(\002gure)g(illustrates)g(a)g
(common)i(case:)42 b(a)27 b(change)g(in)g(the)450 2006
y(spelling)e(of)h(an)f(identi\002er)g(results)g(in)h(a)f(`split')f(of)i
(the)g(tree)g(from)g(the)g(root)g(to)g(the)f(token)h(containing)e(the)
450 2089 y(modi\002ed)19 b(text.)24 b(The)19 b(shaded)g(region)g(to)g
(the)g(left)g(becomes)g(the)g(initial)f(contents)g(of)i(the)e(parse)i
(stack,)f(which)450 2172 y(is)e(instantiated)e(as)i(a)g(separate)h
(data)f(structure)g(because)h(it)f(contains)f(a)h(mixture)g(of)g(old)h
(and)f(new)f(subtrees)n(.)450 2255 y(The)30 b(shaded)f(region)g(to)h
(the)f(right)g(provides)h(the)f(potentially)f(reusable)i(portion)g(of)g
(the)f(parser')n(s)h(input)450 2338 y(stream.)42 b(This)24
b(stack)h(is)f(not)g(explicitly)h(materialized\227its)g(contents)f(are)
h(derived)g(by)g(a)f(tra)o(versal)h(of)g(the)450 2421
y(parse)e(tree)g(as)g(it)f(existed)g(immediately)h(prior)g(to)g
(reparsing)n(.)36 b(Except)23 b(when)e(new)h(text)h(is)f(being)g
(scanned,)450 2504 y(the)e(top)h(element)f(of)h(the)g(right)f(stack)g
(serves)h(as)f(the)g(parser')n(s)h(lookahead)g(symbol.)29
b(The)21 b(remaining)f(nodes)450 2587 y(in)f(this)g(\002gure)g(are)i
(all)e(candidates)h(for)h(explicit)e(reuse)h(\(Section)g(8\).)28
b(In)19 b(the)g(example)h(shown,)f(the)h(tree)g(will)450
2670 y(be)e(`sewn)g(up')f(along)h(the)g(path)g(of)g(nested)g(changes;)g
(the)g(parser)h(will)f(not)g(need)g(to)h(create)g(any)f(new)g(nodes)g
(to)450 2753 y(incorporate)i(this)d(change)h(to)g(the)h(program.)450
2947 y Fr(can)24 b(be)g(reused)e(in)i(any)g(grammatically-correct)e
(context,)h(and)h(lookahead)e(validation)450 3047 y(is)i(accomplished)d
(`for)h(free')g(by)h(consuming)e(the)i(input)f(stream.)533
3146 y(Like)g(J)n(alili)h(and)f(Gallier)-8 b(,)22 b(we)f(conceptually)f
(`split')j(the)f(tree)f(in)h(a)h(series)f(of)f(locations)450
3246 y(determined)28 b(by)h(the)h(modi\002cations)f(since)h(the)f
(previous)f(parse)o(.)49 b(Modi\002cation)29 b(sites)450
3346 y(can)j(be)f(either)g(interior)g(nodes)g(with)h(structural)g(c)o
(hanges)f(or)h(terminal)f(nodes)g(with)450 3445 y(textual)24
b(c)o(hanges)n(,)1078 3415 y Fo(7)1139 3445 y Fr(and)f(the)h(split)h
(points)f(are)g(based)h(on)e(the)h(\(\002xed\))e(number)h(of)h(look-)
450 3545 y(ahead)g(items)h(used)g(when)e(constructing)h(the)h(parse)f
(table)o(.)34 b(The)25 b(input)f(stream)h(to)g(the)450
3645 y(parser)e(will)g(consist)h(of)f(both)g(new)f(material)h(\(in)g
(the)g(form)g(of)f(tokens)h(provided)e(by)i(the)450 3744
y(incremental)e(lexer\))g(and)h(reused)f(subtrees;)i(the)f(latter)h
(are)f(conceptually)f(on)h(a)g(stac)o(k,)450 3844 y(but)k(are)g
(actually)g(produced)e(by)i(a)g(directed)f(tra)o(versal)i(over)d(the)i
(previous)f(version)g(of)450 3943 y(the)20 b(tree)o(.)26
b(An)20 b(explicit)g(stac)o(k)h(is)g(used)f(to)g(maintain)g(the)g(new)f
(version)g(of)g(the)h(tree)g(while)450 4043 y(it)27 b(is)g(being)e
(built.)40 b(This)27 b(stac)o(k)g(holds)f(both)g(symbols)h(\(nodes\))d
(and)i(states)i(\(since)e(they)450 4143 y(are)d(not)f(recorded)f
(within)i(the)g(nodes\).)k(F)o(igure)22 b(3)i(illustrates)g(a)f(common)
f(case)o(,)h(where)450 4242 y(a)30 b(c)o(hange)g(in)g(identi\002er)f
(spelling)h(has)g(resulted)g(in)g(a)g(split)h(to)f(the)g(terminal)g
(symbol)450 4342 y(containing)22 b(the)h(modi\002ed)e(text.)533
4442 y(W)-5 b(e)23 b(now)f(formalize)g(the)g(concept)g(of)g(shifting)h
(subtrees)n(.)533 4589 y Fl(Notation)r Fr(.)42 b(Let)22
b Fl(t)1117 4602 y Ff(i)1163 4589 y Fr(denote)f(a)h(terminal)g(symbol)g
(and)g Fl(X)2383 4602 y Ff(i)2429 4589 y Fr(an)g(arbitrary)g(symbol)g
(in)g(the)450 4689 y(\(often)28 b(implicit\))i(grammar)g
Fl(G)p Fr(.)49 b(Greek)28 b(letters)j(denote)d(\(possibly)i(empty\))e
(strings)j(of)450 4788 y(symbols)19 b(in)g Fl(G)p Fr(.)27
b Fl(k)19 b Fr(denotes)e(the)h(size)h(of)f(the)h(terminal)f(lookahead)g
(used)g(in)h(constructing)p 450 4902 391 1 v 450 4958
a Fj(7)482 4982 y Fu(All)24 b(textual)f(and)g(structural)h
(modi\002cations)g(are)g(re\003ected)h(in)f(the)f(tree)i(itself)n(.)39
b(Section)24 b(3)g(discusses)f(the)450 5065 y(representation)c(of)g
(programs)g(and)f(the)g(techniques)f(for)i(summarizing)f(changes)n(.)
450 5189 y Fo(written)d(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 11 11
11 10 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(11)450
465 y Fr(the)28 b(parse)g(table)o(.)46 b Fl(s)1139 478
y Ff(i)1191 465 y Fr(denotes)27 b(a)i(state)o(.)45 b(Subscripts)30
b(indicate)e(left-to-right)f(ordering)n(.)450 565 y Fl(LA)p
Fr(\()p Fl(s)628 578 y Ff(i)652 565 y Fr(\))22 b(denotes)g(the)g(union)
g(of)g(the)h(lookahead)e(sets)j(for)e(the)g(collection)g(of)g(LR\(1\))h
(items)450 665 y(represented)18 b(by)j Fl(s)1076 678
y Ff(i)1099 665 y Fr(.)28 b Fl(GO)q(T)q(O)p Fr(\()p Fl(s)1469
678 y Ff(i)1492 665 y Fl(,)14 b(X)6 b Fr(\))21 b(indicates)g(the)f
(transition)h(on)f(symbol)h Fl(X)27 b Fr(in)21 b(state)g
Fl(s)3392 678 y Ff(i)3416 665 y Fr(.)450 764 y(\(This)d(is)g
Fl(not)g Fr(a)g(partial)g(function;)g(illegal)g(transitions)g(are)g
(denoted)d(by)j(a)g(distinguished)450 864 y(error)k(value)o(.\))27
b(W)-5 b(e)23 b(use)f(additional)h(terminology)e(from)h(Aho)g(et)h(al.)
g([1986].)535 1006 y(T)t Fu(H)t(E)t(O)t(R)t(E)t(M)46
b Fr(4)t(.)t(1)t(.)t(1)t(.)450 1106 y Fl(Consider)21
b(a)i(conventional)d(batc)o(h)i Fr(LR\(1\))h Fl(par)o(ser)f(in)h(the)g
(con\002guration:)p 649 1177 1037 4 v 677 1261 a(.)14
b(.)g(.)g(s)825 1273 y Fo(0)862 1261 y Fl(X)920 1273
y Fo(1)956 1261 y Fl(s)993 1273 y Fo(1)1030 1261 y Fl(X)1088
1273 y Fo(2)1125 1261 y Fl(s)1162 1273 y Fo(2)1212 1261
y Fl(.)g(.)g(.)g(s)1360 1273 y Ff(n)p Fe(\000)p Fo(1)1483
1261 y Fl(X)1541 1273 y Ff(n)1581 1261 y Fl(s)1618 1273
y Ff(n)p 1683 1306 4 129 v 649 1309 1037 4 v 1807 1177
773 4 v 1807 1299 4 123 v 1836 1261 a Fl(t)1865 1273
y Fo(1)1901 1261 y Fl(t)1930 1273 y Fo(2)1981 1261 y
Fl(.)g(.)g(.)g(t)2121 1273 y Ff(m)2177 1261 y Fl(t)2206
1273 y Ff(m)p Fo(+1)2343 1261 y Fl(.)g(.)g(.)p 1807 1302
773 4 v 450 1442 a(Suppose)22 b(A)883 1395 y Fe(\003)871
1442 y Fi(\))h Fl(t)1006 1454 y Fo(1)1057 1442 y Fl(.)14
b(.)g(.)g(t)1197 1454 y Ff(m)1276 1442 y Fl(\(m)22 b
Fi(\025)h Fr(0)p Fl(\).)28 b(Note)23 b(that)g(A)g(may)f(derive)g(the)h
(empty)f(string)g(\()p Fh(\017)8 b Fl(\).)533 1542 y(If)38
b(GO)q(T)q(O)p Fr(\()p Fl(s)952 1554 y Ff(n)990 1542
y Fl(,)14 b(A)p Fr(\))30 b(=)g Fl(s)1260 1555 y Ff(i)1310
1542 y Fl(and)c(t)1515 1554 y Ff(m)p Fo(+1)1668 1542
y Fi(2)k Fl(LA)p Fr(\()p Fl(s)1931 1554 y Ff(n)1970 1542
y Fr(\))p Fl(,)e(then)e(the)h(par)o(ser)f(will)f(eventuall)o(y)g(enter)
450 1641 y(the)e(con\002guration:)p 649 1712 1184 4 v
677 1799 a(.)14 b(.)g(.)g(s)825 1811 y Fo(0)862 1799
y Fl(X)920 1811 y Fo(1)956 1799 y Fl(s)993 1811 y Fo(1)1030
1799 y Fl(X)1088 1811 y Fo(2)1125 1799 y Fl(s)1162 1811
y Fo(2)1212 1799 y Fl(.)g(.)g(.)g(s)1360 1811 y Ff(n)p
Fe(\000)p Fo(1)1483 1799 y Fl(X)1541 1811 y Ff(n)1581
1799 y Fl(s)1618 1811 y Ff(n)1672 1799 y Fl(A)g(s)1781
1812 y Ff(i)p 1829 1843 4 131 v 649 1846 1184 4 v 1931
1714 432 4 v 1931 1837 4 123 v 1959 1799 a Fl(t)1988
1811 y Ff(m)p Fo(+1)2125 1799 y Fl(.)g(.)g(.)p 1931 1840
432 4 v 535 1958 a Fr(P)t Fu(R)t(O)t(O)t(F)-5 b Fr(.)44
b(By)23 b(the)g(correctness)g(of)f(LR\(1\))h(parsing)h(and)f(the)g
(fact)g(that)h Fl(X)2968 1970 y Fo(1)3019 1958 y Fl(.)14
b(.)g(.)g(X)3188 1970 y Ff(n)3228 1958 y Fl(At)3315 1970
y Ff(m)p Fo(+1)450 2058 y Fr(is)24 b(a)f(viable)g(pre\002x.)p
1185 2008 57 4 v 1185 2058 4 50 v 1238 2058 V 1185 2061
57 4 v 533 2243 a(The)30 b(results)h(of)f(Theorem)f(4.1.1)j(cannot)d
(be)i(used)f(directly:)43 b(testing)30 b(whether)f(the)450
2342 y(terminal)34 b(symbol)h(following)d(a)j(subtree)g(is)g(in)f(the)h
(lookahead)e(set)i(for)f(the)g(current)450 2442 y(state)27
b(is)g(not)e(supported)g(by)h(existing)f(parse)h(tables)n(,)i(even)c
(though)h(suc)o(h)h(information)450 2541 y(is)31 b(a)o(vailable)g
(during)e(table)i(construction.)50 b(Instead,)32 b(we)d(use)i(this)g
(result)f(in)g(a)h(more)450 2641 y(restricted)23 b(fashion.)1149
2611 y Fo(8)533 2741 y Fr(If)32 b(a)i(subtree)e(has)i(no)e(internal)g
(modi\002cations)h(and)f(its)i(root)e(symbol)h(is)h(shiftable)450
2840 y(in)c(the)f(current)g(parse)h(state)o(,)i(then)d(all)h(parse)g
(operations)f(up)g(to)h(and)f(inc)o(luding)g(the)450
2940 y(shift)f(of)f(the)g(\002nal)h(terminal)f(symbol)h(in)g(the)f
(tree)g(are)g(pre-determined,)f(and)h(we)g(can)450 3040
y(put)h(the)f(parser)h(directly)f(into)h(that)g(con\002guration,)f
(without)h(additional)f(knowledge)450 3139 y(of)j(legal)h(lookaheads)n
(.)52 b(This)32 b(transition)g(is)f(actually)h(accomplished)d(by)i
(shifting)g(the)450 3239 y(subtree)f(onto)g(the)h(parse)f(stac)o(k,)35
b(then)30 b(removing)e(\(`breaking)i(down'\))f(its)j(right)f(edge)450
3338 y(\(F)o(igure)i(4\).)62 b(The)34 b(situation)g(is)h(complicated)e
(slightly)h(by)g(the)g(possibility)g(that)h(one)450 3438
y(or)28 b(more)f(subtrees)h(with)g(null)g(yield)f(ma)o(y)h(need)f(to)h
(be)g(removed)d(from)i(the)h(top)g(of)f(the)450 3538
y(parse)e(stac)o(k)h(as)g(well,)f(since)g(they)f(also)i(represent)d
(reductions)h(predicated)f(on)i(an)g(un-)450 3637 y(certain)e
(lookahead.)1159 3607 y Fo(9)1224 3637 y Fr(F)o(igure)f(5)i
(illustrates)g(the)f(breakdown)f(procedure)o(.)k(Its)e(validity)450
3737 y(is)f(established)f(by)g(the)f(following)f(theorem,)h(whic)o(h)g
(relates)h(the)g(con\002guration)e(\(parse)450 3837 y(stac)o(k)36
b(contents)e(and)g(parse)g(state\))h(of)f(a)h(batc)o(h)g(parser)f(to)h
(that)g(of)f(an)g(incremental)450 3936 y(parser)23 b(that)g(has)h
(shifted)e(a)h(nonterminal)f(and)h(then)f(invoked)f Fk(right_breakdown)
p Fr(.)535 4078 y(T)t Fu(H)t(E)t(O)t(R)t(E)t(M)46 b Fr(4)t(.)t(1)t(.)t
(2)t(.)450 4178 y Fl(Let)25 b(A)693 4131 y Fe(\003)681
4178 y Fi(\))h Fl(t)819 4190 y Fo(1)870 4178 y Fl(.)14
b(.)g(.)f(t)1009 4190 y Ff(m)1065 4178 y Fl(,)26 b(m)g
Fi(\025)f Fr(1)g Fl(be)g(a)g(production)d(in)i(G)l(,)h(and)f(X)2438
4190 y Fo(1)2475 4178 y Fl(X)2533 4190 y Fo(2)2583 4178
y Fl(.)14 b(.)g(.)g(X)2752 4190 y Ff(n)2792 4178 y Fl(A)26
b(a)e(viable)g(pre\002x.)450 4277 y(Let)g(B)f(denote)f(a)g(\(batc)o
(h\))g Fr(LR\(1\))h Fl(par)o(ser)f(f)o(or)g(the)h(grammar)e(G)i(in)f
(the)h(con\002guration:)p 649 4349 1037 4 v 677 4433
a(.)14 b(.)g(.)g(s)825 4445 y Fo(0)862 4433 y Fl(X)920
4445 y Fo(1)956 4433 y Fl(s)993 4445 y Fo(1)1030 4433
y Fl(X)1088 4445 y Fo(2)1125 4433 y Fl(s)1162 4445 y
Fo(2)1212 4433 y Fl(.)g(.)g(.)g(s)1360 4445 y Ff(n)p
Fe(\000)p Fo(1)1483 4433 y Fl(X)1541 4445 y Ff(n)1581
4433 y Fl(s)1618 4445 y Ff(n)p 1683 4477 4 129 v 649
4480 1037 4 v 1807 4349 621 4 v 1807 4471 4 123 v 1836
4433 a Fl(t)1865 4445 y Fo(1)1901 4433 y Fl(t)1930 4445
y Fo(2)1981 4433 y Fl(.)g(.)g(.)g(t)2121 4445 y Ff(m)2190
4433 y Fl(.)g(.)g(.)p 1807 4474 621 4 v 450 4569 391
1 v 450 4626 a Fj(8)482 4649 y Fu(In)h(Section)g(5)g(we)g(describe)i(a)
e(technique)f(that)h(involves)f(minimal)g(changes)g(to)i(table)f
(construction)g(methods)450 4732 y(and)j(provides)g(better)g
(incremental)g(performance)i(than)d(terminal)h(lookahead)g(information)
g(could)g(achieve)o(.)450 4792 y Fj(9)482 4816 y Fu(Right-edge)k
(breakdowns)g(are)h(done)g Ft(eagerl)o(y)h Fu(to)f(a)o(void)g(cycling)e
(when)h(the)g(parse)h(table)f(contains)g(default)450
4899 y(reductions)j(or)h(is)f(not)g(canonical)g(\(e)o(.g)n(.,)k(is)c
(LALR\(1\))g(instead)g(of)h(LR\(1\)\))f(and)g(the)g(input)f(is)h
(erroneous)n(.)45 b(If)450 4982 y(complete)23 b(LR\()p
Ft(k)p Fu(\))f(tables)f(are)h(used,)g(right-edge)g(breakdowns)g(can)f
(be)h(done)g(on)f(demand,)i(in)e(an)g(analogous)450 5065
y(fashion)d(to)g(the)g(left-edge)h(breakdown)g(shown)e(in)h(F)o(igure)h
(7.)758 5189 y Fo(written)c(for)h(ACM)g(Transactions)f(on)h
(Programming)g(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h
(at)e(16)10 b(:)g(54.)p eop
%%Page: 12 12
12 11 bop 450 250 a Fn(12)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)479 737 y Ft(Remove)f(any)f
(subtrees)i(on)d(top)h(of)g(par)o(se)h(stac)o(k)g(with)e(null)g(yield,)
i(then)479 820 y(break)f(down)f(right)h(edge)f(of)h(topmost)h(subtree)n
(.)479 903 y Fq(right_breakdown)38 b(\(\))h({)559 986
y(NODE)g(*node;)559 1069 y(do)g({)h Ft(Replace)21 b Fq(node)c
Ft(with)i(its)g(c)o(hildren.)638 1152 y Fq(node)40 b(=)f(parse_stack)p
Fd(!)p Fq(pop\(\);)638 1235 y Ft(Does)20 b(nothing)d(when)h
Fq(child)g Ft(is)h(a)g(terminal)g(symbol.)638 1318 y
Fq(foreach)39 b(child)g(of)h(node)f(do)h(shift\(child\);)559
1401 y(})f(while)h(\(is_nonterminal\(node\)\);)559 1484
y(shift\(node\);)e Ft(Leave)20 b(\002nal)e(terminal)i(symbol)f(on)g
(top)g(of)f(stac)o(k.)479 1567 y Fq(})479 1733 y Ft(Shift)h(a)g(node)f
(onto)h(the)g(par)o(se)h(stac)o(k)g(and)e(update)g(the)h(current)h(par)
o(se)h(state)n(.)479 1817 y Fq(void)39 b(shift)g(\(NODE)h(*node\))e({)
559 1900 y(parse_stack)p Fd(!)p Fq(push\(parse_state,)d(node\);)559
1983 y(parse_state)j(=)i(parse_table)p Fd(!)p Fq
(state_after_shift\(parse_stat)o(e,)34 b(node)p Fd(!)p
Fq(symbol\);)479 2066 y(})450 2248 y Fu(F)o(ig)n(.)28
b(4.)49 b(Procedures)29 b(used)e(to)g(break)i(down)d(the)h(right-hand)f
(edge)h(of)h(the)f(subtree)g(on)g(top)g(of)h(the)e(parse)450
2331 y(stack.)f(On)19 b(each)g(iteration,)h Fq(node)e
Fu(holds)h(the)g(current)h(top-of-stack)g(symbol.)25
b(Any)18 b(subtree)h(with)g(null)f(yield)450 2414 y(appearing)g(in)g
(the)g(top-of-stack)i(position)e(is)g(removed)h(in)f(its)g(entirety)-8
b(.)668 3169 y(Before)19 b(shift)f(of)h(nonterminal)f
Ft(A)p Fu(:)p 668 3212 328 4 v 888 3286 a Ft(.)12 b(.)g(.)p
992 3312 4 101 v 668 3315 328 4 v 1088 3212 238 4 v 1088
3312 4 101 v 151 w(A)f(J)j(.)e(.)h(.)p 1088 3315 238
4 v 668 3477 a Fu(After)19 b(shift)e(of)i Ft(A)p Fu(:)p
668 3519 328 4 v 829 3593 a Ft(.)13 b(.)f(.)g(A)p 992
3619 4 101 v 668 3622 328 4 v 1088 3519 238 4 v 1088
3619 4 101 v 150 w(J)i(.)e(.)g(.)p 1088 3622 238 4 v
668 3784 a Fu(P)n(art)18 b(w)o(a)o(y)g(through)g(breakdown:)p
668 3842 328 4 v 696 3916 a Ft(.)12 b(.)g(.)h(BCHI)p
992 3942 4 101 v 668 3945 328 4 v 1088 3842 238 4 v 1088
3942 4 101 v 152 w(J)h(.)e(.)g(.)p 1088 3945 238 4 v
668 4107 a Fu(After)19 b(breakdown)g(is)f(complete:)p
668 4166 328 4 v 776 4240 a Ft(.)13 b(.)f(.)g(BD)p 992
4266 4 101 v 668 4269 328 4 v 1088 4166 238 4 v 1088
4266 4 101 v 150 w(J)i(.)e(.)g(.)p 1088 4269 238 4 v
1788 4157 a @beginspecial 0 @llx 0 @lly 542 @urx 329
@ury 1800 @rwi @setspecial
%%BeginDocument: figures/right-breakdown.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.616 0.616 0.616 srgb} bind def
/col33 {0.902 0.902 0.902 srgb} bind def

end
save
-13.0 421.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
% Interp Spline
gs n 2421 2025 m
	2398.2 2583.0 3229.8 2946.3 3372 3317 curveto
	3483.6 3609.3 3505.7 4280.0 3494 4574 curveto
	3486.1 4767.1 3159.4 5167.9 3348 5391 curveto
	3759.2 5879.7 4662.1 4901.2 5165 5379 curveto
	5543.2 5738.3 4840.4 6443.1 5226 6745 curveto
	5576.6 7019.7 6151.6 6507.1 6446 6501 curveto
	6722.9 6495.4 7337.6 6952.2 7604 6684 curveto
	8121.4 6164.4 7424.3 4947.1 7238 4440 curveto
	7104.8 4074.6 6688.9 3316.7 6397 3037 curveto
	5849.2 2512.3 4455.8 1729.7 3701 1573 curveto
	3463.3 1523.8 2968.4 1540.6 2738 1659 curveto
	2622.1 1717.6 2427.2 1856.0 2421 2025 curveto
 cp gs col33 1.00 shd ef gr  gr

7.500 slw
% Polyline
n 384 6062 m 1567 4976 l 2664 6050 l gs col-1 s gr 
% Polyline
n 5653 6013 m 6385 5037 l gs col-1 s gr 
% Polyline
n 1567 4976 m 1567 4001 l 3396 2171 l gs col-1 s gr 
% Polyline
n 6385 5037 m 6385 4001 l gs col-1 s gr 
% Polyline
n 4006 4976 m 3457 2232 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6385 5037 m 7116 6013 l gs col-1 s gr 
% Polyline
n 5470 3086 m 3640 2354 l gs col-1 s gr 
% Polyline
n 4006 5952 m 4006 4976 l gs col-1 s gr 
% Polyline
n 6385 4001 m 5470 3086 l gs col-1 s gr 
% Polyline
n 1567 5952 m 1567 4915 l gs col-1 s gr 
% Ellipse
n 3396 2171 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 3659 5635 m 4353 5635 l 4353 6329 l 3659 6329 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 5470 3086 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 4006 4976 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 2177 5636 m 2870 5636 l 2870 6330 l 2177 6330 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 243 5636 m 937 5636 l 937 6330 l 243 6330 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 7116 5981 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 1567 4001 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 1201 5636 m 1894 5636 l 1894 6330 l 1201 6330 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 6385 4001 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 8505 5635 m 9199 5635 l 9199 6329 l 8505 6329 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 6385 5098 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 1559 4977 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 5714 5981 330 330 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

/Symbol ff 345.00 scf sf
5714 6621 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/Symbol ff 345.00 scf sf
7116 6621 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
4005 6086 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
3395 2274 m
gs 1 -1 sc (A) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
1566 4104 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
4005 5080 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
5469 3189 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
6385 4104 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
6384 5202 m
gs 1 -1 sc (G) dup sw pop 2 div neg 0 rm  col-1 sh gr
15.000 slw
% Polyline
 [15 50.0] 50.0 sd
n 8031 4062 m 8031 6989 l gs col-1 s gr  [] 0 sd
/NewCenturySchlbk-Italic ff 300.00 scf sf
7116 6086 m
gs 1 -1 sc (I) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
8851 6086 m
gs 1 -1 sc (J) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 300.00 scf sf
5714 6086 m
gs 1 -1 sc (H) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 390.00 scf sf
560 6615 m
gs 1 -1 sc (t) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 225.00 scf sf
9160 6690 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 255.00 scf sf
4120 6680 m
gs 1 -1 sc (m) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 390.00 scf sf
3945 6615 m
gs 1 -1 sc (t) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 390.00 scf sf
8641 6615 m
gs 1 -1 sc (t) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Italic ff 255.00 scf sf
8903 6680 m
gs 1 -1 sc (m+) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 225.00 scf sf
680 6690 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 450 4423 a Fu(F)o(ig)n(.)22 b(5.)31 b(Illustration)21
b(of)g(right)p Fq(_)p Fu(breakdown.)31 b(The)22 b(shaded)e(region)i
(shows)e(the)h(reductions)g(`undone')e(by)i(the)450 4506
y(breakdown\227all)16 b(nodes)f(representing)h(reductions)f(predicated)
i(on)e(the)g(following)f(terminal)i(symbol)e(\()p Ft(J)s
Fu(\))h(are)450 4589 y(removed.)33 b(Any)20 b(subtrees)h(with)f(null)h
(yield)g(are)h(discarded,)h(then)e(the)g(right-hand)f(edge)h(of)h(the)f
(subtree)g(on)450 4672 y(top)g(of)h(the)e(stack)i(is)e(removed,)j(lea)o
(ving)e(its)f(\002nal)h(terminal)g(symbol)f(in)h(the)g(topmost)g(stack)
g(position.)31 b(\(The)450 4755 y(parse)19 b(stack)f(holds)g(both)g
(states)g(and)g(nodes;)h(only)f(node)h(labels)f(are)h(shown)e(here)o
(.\))450 5189 y Fo(written)e(for)i(ACM)f(Transactions)f(on)g
(Programming)h(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g
(at)f(16)10 b(:)g(54.)p eop
%%Page: 13 13
13 12 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(13)450
465 y Fl(Let)27 b(I)h(denote)e(an)f(incremental)g Fr(LR\(1\))h
Fl(par)o(ser)f(f)o(or)h(the)g(grammar)f(G)h(in)f(the)h(con\002gura-)450
565 y(tion:)p 649 630 1037 4 v 677 715 a(.)14 b(.)g(.)g(s)825
727 y Fo(0)862 715 y Fl(X)920 727 y Fo(1)956 715 y Fl(s)993
727 y Fo(1)1030 715 y Fl(X)1088 727 y Fo(2)1125 715 y
Fl(s)1162 727 y Fo(2)1212 715 y Fl(.)g(.)g(.)g(s)1360
727 y Ff(n)p Fe(\000)p Fo(1)1483 715 y Fl(X)1541 727
y Ff(n)1581 715 y Fl(s)1618 727 y Ff(n)p 1683 759 4 129
v 649 762 1037 4 v 1807 628 338 4 v 1807 753 4 125 v
1836 715 a Fl(A)g(.)g(.)g(.)p 1807 756 338 4 v 450 882
a(where)36 b(yield)n Fr(\()p Fl(A)p Fr(\))45 b(=)h Fl(t)1181
894 y Fo(1)1232 882 y Fl(.)14 b(.)g(.)g(t)1372 894 y
Ff(n)1412 882 y Fl(.)69 b(T)n(he)36 b(con\002guration)d(of)j(I)j(f)o
(ollowing)33 b(a)j(shift)g(of)g(A)h(and)450 981 y(subsequent)22
b(invocation)e(of)i(the)g(breakdown)f(procedure)g(\(F)o(igure)g(4\))i
(is)f(identical)f(to)h(the)450 1081 y(con\002guration)e(of)i(B)h
(immediatel)o(y)e(after)h(it)h(shifts)f(t)2195 1093 y
Ff(m)2251 1081 y Fl(.)535 1230 y Fr(P)t Fu(R)t(O)t(O)t(F)-5
b Fr(.)44 b(Eac)o(h)21 b(iteration)f(of)g(the)g(loop)f(in)h
Fk(right_breakdown)e Fr(lea)o(ves)i(a)h(viable)f(pre-)450
1330 y(\002x)30 b(on)g Fl(I)r Fr(')n(s)h(stac)o(k.)53
b(At)31 b(the)f(conc)o(lusion)g(of)g(the)g(routine)o(,)h
Fl(t)2422 1342 y Ff(m)2509 1330 y Fr(will)f(be)h(the)f(top)g(element.)
450 1430 y(Since)24 b(the)f(parse)h(tree)g(for)f(the)g(derivation)g(of)
h Fl(A)g Fr(is)h(unique)o(,)e Fl(I)r Fr(')n(s)h(\002nal)g(stac)o(k)i
(con\002gura-)450 1529 y(tion)d(must)g(matc)o(h)g(that)h(of)e
Fl(B)p Fr(;)h(the)g(equivalence)e(of)h(the)h(parse)g(states)h(follows)n
(.)p 3203 1480 57 4 v 3203 1529 4 50 v 3256 1529 V 3203
1532 57 4 v 450 1745 a Fv(4.2)41 b(An)24 b(Incremental)c(P)n(ar)r(sing)
i(Algor)r(ithm)450 1878 y Fr(W)-5 b(e)23 b(now)e(use)i(Theorem)e(4.1.2)
i(to)g(construct)f(an)h(incremental)f(parser)-8 b(.)27
b(Pseudocode)21 b(for)450 1978 y(this)j(algorithm)e(is)i(shown)e(in)h
(F)o(igure)f(6.)533 2077 y(The)28 b(algorithm)f(in)h(F)o(igure)g(6)g
(represents)f(a)h(simple)g(`conservative')f(style)h(of)f(incre-)450
2177 y(mental)e(parsing)g(very)e(similar)j(to)f(a)h(state-matc)o(hing)f
(algorithm.)34 b(The)25 b(input)g(stream)450 2277 y(is)j(a)f(mixture)e
(of)i(old)f(subtrees)h(\(from)e(the)h(previous)g(version)g(of)g(the)g
(parse)h(tree\))e(that)450 2376 y(is)32 b(constructed)f(on)g(the)h
(\003y)f(by)g(tra)o(versing)h(the)f(previous)f(tree)h(structure)h
(using)f(the)450 2476 y(local/nested)d(c)o(hange)g(information)f
(described)h(in)h(Section)f(3.)46 b(The)28 b(parse)h(stac)o(k)h(con-)
450 2575 y(tains)37 b(both)f(states)h(and)e(subtrees)n(,)40
b(and)35 b(is)i(discarded)e(when)g(parsing)g(is)i(complete)o(.)450
2675 y(Incremental)20 b(lexing)h(can)g(either)g(be)h(performed)c(in)k
(a)g(separate)f(pass)i(prior)e(to)g(parsing)450 2775
y(or)-8 b(,)24 b(as)h(shown)f(here)o(,)f(in)h(a)h(demand-driven)c(w)o
(a)o(y)j(as)h(the)f(incremental)f(parser)h(encoun-)450
2874 y(ters)29 b(tokens)g(that)h(ma)o(y)e(be)h(inconsistent.)47
b(W)-5 b(e)29 b(assume)g(that)h(the)e(incremental)g(lexer)450
2974 y(resets)j(the)f(lookahead)g(\()p Fk(la)p Fr(\))g(to)g(point)h(to)
f(the)h(next)f(old)g(subtree)g(when)g(it)h(completes)450
3074 y(re-lexing)21 b(of)h(a)h(contiguous)f(section.)533
3173 y(Reductions)j(occur)f(as)j(in)e(a)h(conventional)e(batc)o(h)i
(parser)-8 b(,)26 b(using)f(a)h(terminal)g(looka-)450
3273 y(head)20 b(symbol)g(to)h(index)e(the)h(parse)h(table)o(.)27
b(Shifts)n(,)22 b(however)-8 b(,)19 b(ma)o(y)h(be)g(performed)e(using)
450 3372 y(non-trivial)33 b(subtrees)h(representing)f(nonterminals)n(.)
61 b(Unlike)33 b(state)i(matc)o(hing)n(,)i(the)450 3472
y(shift)28 b(test)g(is)g(not)e(only)h(suf\002cient)f(but)i(also)g
(necessary:)36 b(a)27 b(valid)g(shift)h(is)g(determined)450
3572 y(based)c(on)g(the)g(grammar)-8 b(,)23 b(not)h(the)g(relationship)
g(between)e(two)i(con\002gurations)f(of)g(the)450 3671
y(parse)g(stac)o(k.)533 3771 y(Subtrees)35 b(that)g(cannot)f(be)g
(shifted)h(are)f(broken)g(down,)i(one)d(level)h(at)h(a)g(time)o(,)i(as)
450 3871 y(if)h(they)f(contained)g(a)h(modi\002cation.)72
b(After)37 b(a)i(non-trivial)e(subtree)g(is)i(shifted,)i(all)450
3970 y(reductions)32 b(predicated)f(on)h(the)g(next)g(terminal)g
(symbol)h(are)f(removed)e(by)j(a)g(call)g(to)450 4070
y Fk(right_breakdown)p Fr(.)40 b(\(These)28 b(reductions)e(are)i(often)
e(valid,)j(in)f(whic)o(h)g(case)f(the)h(dis-)450 4169
y(carded)h(structure)h(will)g(be)g(immediately)f(reconstructed.)48
b(In)30 b(the)g(following)e(section)450 4269 y(we)22
b(eliminate)h(this)g(and)g(other)f(sources)g(of)h(sub-optimal)f(beha)o
(vior)-8 b(.\))533 4369 y(The)34 b(correctness)g(of)g(this)h(algorithm)
f(is)h(based)g(on)f(Theorem)f(4.1.2,)38 b(whic)o(h)d(asso-)450
4468 y(ciates)d(the)f(con\002guration)e(of)h(the)h(incremental)f
(parser)h(immediately)f(prior)g(to)h(eac)o(h)450 4568
y(reduction)21 b(with)i(a)g(corresponding)e(con\002guration)g(in)h(a)i
(batc)o(h)f(parser)-8 b(.)533 4668 y(Theorems)20 b(4.1.1)i(and)f(4.1.2)
h(apply)e(equally)h(well)f(to)h(LALR\(1\))h(and)f(SLR\(1\))g(parsers)n
(,)450 4767 y(so)37 b(the)g(algorithm)g(given)f(in)i(F)o(igure)e(6)i
(can)f(be)g(used)g(for)g(these)g(grammar)f(c)o(lasses)450
4867 y(and)f(parse)g(tables)h(as)g(well.)65 b(The)35
b(only)g(restriction,)j(whic)o(h)d(applies)g(to)g Fl(any)g
Fr(gram-)450 4966 y(mar)26 b(c)o(lass)n(,)j(is)e(that)g(table)g
(construction)f(tec)o(hniques)g(cannot)f(use)i(lossy)f(compression)758
5189 y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 14 14
14 13 bop 450 250 a Fn(14)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)670 1077 y
Fq(void)39 b(inc_parse)f(\(\))i({)749 1161 y Ft(Initialize)20
b(the)f(par)o(se)h(stac)o(k)g(to)f(contain)g(onl)o(y)g
Fq(bos)p Ft(.)749 1244 y Fq(parse_stack)p Fd(!)p Fq(clear\(\);)37
b(parse_state)h(=)i(0;)f(parse_stack)p Fd(!)p Fq(push\(bos\);)749
1327 y(NODE)h(*la)f(=)h(pop_lookahead\(bos\);)d Ft(Set)19
b(lookahead)g(to)g(root)h(of)f(tree)n(.)749 1410 y Fq(while)39
b(\(true\))829 1493 y(if)h(\(is_terminal\(la\)\))909
1576 y Ft(Incremental)20 b(lexing)f(advances)g Fq(la)g
Ft(as)g(a)f(side)h(effect.)909 1659 y Fq(if)39 b(\(la)p
Fd(!)p Fq(has_changes\(reference_version\)\))c(relex\(la\);)909
1742 y(else)935 1825 y(switch)k(\(parse_table)p Fd(!)p
Fq(action\(parse_state,)c(la)p Fd(!)p Fq(symbol\)\))j({)1068
1908 y(case)h(ACCEPT:)119 b(if)39 b(\(la)h(==)f(eos\))h({)1746
1991 y(parse_stack)p Fd(!)p Fq(push\(eos\);)1746 2074
y(return;)e Ft(Stac)o(k)20 b(is)f Fq([bos)39 b(start_symbol)f(eos])p
Ft(.)1666 2157 y Fq(})i(else)f({recover\(\);)f(break;})1015
2240 y(case)h(REDUCE)g(r:)h(reduce\(r\);)e(break;)1015
2323 y(case)h(SHIFT)g(s:)80 b(shift\(s\);)38 b(la)i(=)g
(pop_lookahead\(la\);)d(break;)1015 2406 y(case)i(ERROR:)159
b(recover\(\);)38 b(break;)988 2489 y(})829 2572 y(else)h
Ft(this)19 b(is)g(a)g(nonterminal)g(lookahead.)909 2655
y Fq(if)39 b(\(la)p Fd(!)p Fq(has_changes\(reference_version\))988
2738 y(la)h(=)g(left_breakdown\(la\);)d Ft(Split)19 b(tree)i(at)d(c)o
(hanged)g(points)m(.)909 2821 y Fq(else)39 b({)935 2904
y Ft(Reductions)20 b(can)f(onl)o(y)f(be)h(processed)j(with)c(a)g
(terminal)i(lookahead.)935 2987 y Fq
(perform_all_reductions_possible\(next_terminal\()o(\)\);)935
3070 y(if)40 b(\(shiftable\(la\)\))1015 3153 y Ft(Place)20
b(lookahead)f(on)f(par)o(se)j(stac)o(k)e(with)f(its)i(right-hand)e
(edge)g(removed.)1015 3236 y Fq({shift\(la\);)38 b
(right_breakdown\(\);)f(la)j(=)g(pop_lookahead\(la\);})935
3319 y(else)g(la)f(=)h(left_breakdown\(la\);)909 3402
y(})670 3485 y(})450 3667 y Fu(F)o(ig)n(.)17 b(6.)22
b(An)16 b(incremental)g(parsing)f(algorithm)h(based)g(on)f(Theorem)i
(4.1.2.)23 b(The)16 b(input)f(is)h(a)g(series)g(of)g(subtrees)450
3750 y(representing)22 b(portions)h(of)f(the)g(previous)g(parse)h(tree)
g(intermixed)f(with)g(new)f(material)i(\(generated)f(by)g(in-)450
3833 y(voking)d(the)g(incremental)h(lexer)g(whenever)f(a)h(modi\002ed)g
(token)f(is)h(encountered\).)27 b(After)20 b(each)f(nonterminal)450
3916 y(shift,)d Fq(right_breakdown)e Fu(is)i(invoked)g(to)g(force)i(a)e
(reconsideration)h(of)g(reductions)f(predicated)i(on)e(the)f(next)450
3999 y(terminal)22 b(symbol.)32 b(Non-trivial)21 b(subtrees)g
(appearing)h(in)f(the)g(input)g(stream)h(are)g(broken)g(down)g(when)e
(the)450 4082 y(symbol)i(they)g(represent)h(is)f(not)g(a)g(valid)g
(shift)g(in)f(the)h(current)h(state)f(or)h(when)f(they)g(contain)f
(modi\002ed)i(re-)450 4165 y(gions)n(.)g Fq(next_terminal)15
b Fu(returns)j(the)g(earliest)g(terminal)f(symbol)h(in)f(the)g(input)g
(stream;)i(when)e(the)g(looka-)450 4248 y(head')n(s)g(yield)g(is)g(not)
g(null,)g(this)f(will)h(be)h(the)f(leftmost)g(terminal)g(symbol)g(of)h
(its)f(yield.)22 b(The)c Fq(pop_lookahead)450 4331 y
Fu(and)26 b Fq(left_breakdown)e Fu(methods)i(are)h(shown)f(in)f(F)o
(igure)i(7;)k Fq(has_changes)25 b Fu(is)h(a)g(history-based)g(query)450
4414 y(from)19 b(F)o(igure)g(1.)24 b Fq(bos)18 b Fu(and)g
Fq(eos)g Fu(are)h(the)f(token)h(sentinels)e(illustrated)h(in)g(F)o
(igure)h(2.)450 5189 y Fo(written)c(for)i(ACM)f(Transactions)f(on)g
(Programming)h(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g
(at)f(16)10 b(:)g(54.)p eop
%%Page: 15 15
15 14 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(15)761
441 y Ft(Decompose)20 b(a)f(nonterminal)g(lookahead.)761
524 y Fq(NODE)39 b(*left_breakdown)e(\(NODE)i(*la\))h({)840
607 y(if)g(\(la)p Fd(!)p Fq(arity)e(>)i(0\))f({)920 690
y(NODE)g(*result)g(=)h(la)p Fd(!)p Fq(child\(0,)e(previous_version\);)p
920 726 2209 4 v 920 830 4 105 v 948 795 a(if)i
(\(is_fragile\(result\)\))d(return)h(left_breakdown\(result\);)p
3125 830 V 920 833 2209 4 v 920 900 a(return)h(result;)840
983 y(})h(else)f(return)g(pop_lookahead\(la\);)761 1066
y(})761 1232 y Ft(P)l(op)19 b(right)g(stac)o(k)g(by)g(traver)o(sing)i
(previous)f(tree)h(structure)n(.)761 1315 y Fq(NODE)39
b(*pop_lookahead)f(\(NODE)h(*la\))g({)840 1398 y(while)g(\(la)p
Fd(!)p Fq(right_sibling\(previous_version\))c(==)k(NULL\))920
1481 y(la)g(=)h(la)p Fd(!)p Fq(parent\(previous_version\);)840
1564 y(NODE)f(*result)g(=)h(la)p Fd(!)p Fq
(right_sibling\(previous_version\);)p 840 1601 V 840
1705 4 105 v 868 1670 a(if)g(\(is_fragile\(result\)\))d(return)i
(left_breakdown\(result\);)p 3045 1705 V 840 1708 2209
4 v 840 1775 a(return)g(result;)761 1858 y(})450 2040
y Fu(F)o(ig)n(.)29 b(7.)50 b(Using)26 b(historical)i(structure)g
(queries)f(to)h(update)f(the)g(right)g(\(input\))g(stack)g(in)g(the)h
(incremental)450 2123 y(parser)-7 b(.)35 b(The)22 b(lookahead)h
(subtree)f(is)g(decomposed)h(one)f(level)g(for)h(each)f(invocation)f
(of)h Fq(left_breakdown)p Fu(,)450 2206 y(conceptually)h(popping)f(the)
h(lookahead)g(symbol)g(and)f(pushing)f(its)i(children)g(in)f
(right-to-left)h(order)h(\(anal-)450 2289 y(ogous)d(to)h(one)g
(iteration)f(of)h Fq(right_breakdown)p Fu(')n(s)d(loop\).)34
b Fq(pop_lookahead)20 b Fu(advances)h(the)h(lookahead)g(to)450
2372 y(the)16 b(next)g(subtree)h(for)h(consideration,)g(using)d(the)h
(previous)h(structure)g(of)g(the)g(tree)o(.)23 b(The)17
b(boxed)g(code)h(is)e(used)450 2455 y(to)j(support)f(ambiguous)f
(grammars)i(\(Section)g(6\).)450 2651 y Fr(on)30 b(the)h
Fl(GO)q(T)q(O)f Fr(table)i(\(it)f(cannot)f(be)h(rendered)d(as)j(a)h
(partial)f(map\).)52 b(While)31 b(only)e(le-)450 2751
y(gal)23 b(nonterminal)e(shifts)j(arise)e(in)h(batc)o(h)g(parsing)n(,)g
(as)g(the)g(\002nal)f(stage)h(in)f(a)h(reduction,)450
2850 y(sentential-form)e(parsing)i(needs)e(an)i Fl(exact)f
Fr(test)h(to)g(determine)e(whether)g(a)h(given)g(sub-)450
2950 y(tree)g(in)h(the)g(input)f(can)h(be)g(legally)f(shifted.)533
3049 y(T)-5 b(o)29 b(establish)h(the)f(running)f(time)g(of)h(the)f
(algorithm)g(in)h(F)o(igure)g(6,)2843 3019 y Fo(10)2942
3049 y Fr(suppose)f(that)450 3149 y(the)e(height)f(of)g(a)h(subtree)g
(containing)f Fl(N)30 b Fr(nodes)25 b(is)i Fl(O)p Fr(\(lg)13
b Fl(N)t Fr(\).)37 b(If)26 b(there)f(are)g Fl(s)h Fr(modi\002ca-)450
3249 y(tion)g(sites)n(,)h(the)e(previous)g(version)f(of)h(the)h(tree)f
(will)g(be)h(split)g(into)g Fl(O)p Fr(\()p Fl(s)14 b
Fr(lg)e Fl(N)t Fr(\))26 b(subtrees)n(.)450 3348 y(T)-5
b(okens)33 b(resulting)g(from)f(newly)f(inserted)h(text)h(are)g(parsed)
f(in)h(linear)g(time)o(.)57 b(When)450 3448 y(the)30
b(lookahead)g(symbol)g(is)i(a)f(reused)e(subtree)o(,)j
Fl(O)p Fr(\(lg)13 b Fl(N)t Fr(\))30 b(time)h(is)h(required)d(to)i
(access)450 3548 y(its)d(leading)e(terminal)g(symbol)h(in)g(order)e(to)
i(process)g(reductions)n(.)39 b(If)26 b(the)h(subtree)f(can)450
3647 y(be)e(shifted)g(in)g(the)g(new)g(context,)f Fl(O)p
Fr(\(lg)13 b Fl(N)t Fr(\))24 b(time)h(is)g(also)f(consumed)f(in)h
(reconstructing)450 3747 y(its)31 b(trailing)f(reduction)f(sequence)g
(using)h Fk(right_breakdown)p Fr(.)47 b(If)30 b(we)f(assume)h(that)450
3846 y(eac)o(h)d(c)o(hange)f(has)i(a)g(bounded)d(effect)h(\(results)h
(in)h(a)f(bounded)e(number)i(of)f(additional)450 3946
y(subtree)21 b(breakdowns\),)f(then)h(the)g(combined)f(cost)i(of)e
(shifting)h(a)h(nonterminal)e(symbol)450 4046 y(is)k
Fl(O)p Fr(\(lg)12 b Fl(N)t Fr(\).)29 b(F)-5 b(or)23 b
Fl(t)g Fr(new)f(tokens)n(,)h(this)h(yields)e(a)h(total)h(running)d
(time)i(of)g Fl(O)p Fr(\()p Fl(t)17 b Fr(+)i Fl(s)p Fr(\(lg)13
b Fl(N)t Fr(\))3317 4016 y Fo(2)3353 4046 y Fr(\).)533
4145 y(Note)29 b(that)h(there)f(is)h(no)f(persistent)g(space)h(cost)g
(attributable)g(solely)f(to)h(the)f(incre-)450 4245 y(mental)k(parsing)
g(algorithm,)j(since)d(the)g(syntax)h(tree)e(is)j(required)d(by)h(the)g
(environ-)450 4345 y(ment.)28 b(The)22 b(ability)h(to)f(shift)h
(subtrees)g(independent)c(of)j(their)g(previous)f(parsing)h(state)450
4444 y(a)o(voids)h(the)f(need)g(to)h(record)e(state)j(information)d(in)
i(tree)g(nodes)n(.)p 450 4545 391 1 v 450 4602 a Fj(10)510
4625 y Fu(Section)17 b(7)g(discusses)f(the)h(model)g(of)g(incremental)h
(parsing)e(and)h(the)f(assumptions)g(regarding)h(the)g(form)g(of)450
4708 y(the)h(grammar)h(and)f(parse)h(tree)g(representation.)758
5189 y Fo(written)c(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 16 16
16 15 bop 450 250 a Fn(16)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fv(5.)42
b(OPTIMAL)24 b(INCREMENT)l(AL)j(P)-9 b(ARSING)450 598
y Fr(The)33 b(previous)e(section)i(developed)d(an)j(incremental)f
(parsing)g(algorithm)h(that)g(used)450 698 y(existing)20
b(information)f(in)h(LR)g(\(or)g(similar\))g(parse)g(tables)n(.)29
b(In)20 b(this)g(section)g(we)g(improve)450 798 y(upon)27
b(that)i(result)g(by)f(a)o(voiding)g(unnecessary)f(calls)i(to)g
Fk(right_breakdown)d Fr(and)i(by)450 897 y(eliminating)17
b(the)g(requirement)f(that)i(only)f(terminal)h(symbols)f(can)h(be)f
(used)g(to)h(perform)450 997 y(reductions)n(.)44 b(The)28
b(result)h(is)g(an)f(optimal)h(algorithm)e(for)h(incremental)f(parsing)
n(,)j(with)450 1096 y(a)25 b(running)f(time)h(of)g Fl(O)p
Fr(\()p Fl(t)18 b Fr(+)g Fl(s)c Fr(lg)g Fl(N)t Fr(\))o(.)35
b(\(W)-5 b(e)25 b(focus)g(primarily)f(on)h(the)f Fl(k)j
Fr(=)g(1)f(case)o(,)f(but)h(also)450 1196 y(indicate)d(how)e
(additional)i(lookahead)f(can)h(be)f(accommodated.\))533
1296 y(The)j(algorithm)f(in)h(F)o(igure)f(6)h(can)g(perform)e
(reductions)g(only)h(when)g(the)g(lookahead)450 1395
y(symbol)33 b(is)h(a)g(terminal;)39 b(when)32 b(the)h(lookahead)f(is)j
(a)e(nonterminal,)i(that)g(algorithm)450 1495 y(must)i(tra)o(verse)e
(its)i(structure)f(to)g(locate)g(the)g(leading)f(terminal)h(symbol.)68
b(By)36 b(pro-)450 1595 y(viding)d(slightly)i(more)e(information)h(in)g
(the)g(parsing)g(tables)i(however)-8 b(,)34 b(we)g(can)g(use)450
1694 y(nonterminal)23 b(lookaheads)h(to)h(make)g(reduction)e(decisions)
h Fl(directl)o(y)p Fr(,)g(eliminating)g(one)450 1794
y(source)d(of)g(the)g(extra)g(lg)14 b Fl(N)25 b Fr(factor)d(without)f
(maintaining)g(a)h(`next)f(terminal')g(pointer)g(in)450
1893 y(eac)o(h)i(node)o(.)533 1993 y(When)31 b(the)g(lookahead)g
(symbol)g(is)h(a)g(nonterminal)f(with)g(non-null)f(yield)h(that)h(ex-)
450 2093 y(tends)21 b(the)h(viable)f(pre\002x,)f(there)h(is)h(no)f
(need)g(to)g(access)h(the)f(leftmost)h(terminal)f(symbol)450
2192 y(of)30 b(the)h(yield)f(in)h(order)f(to)h(perform)e(reductions:)44
b(If)30 b Fl(Z)i Fr(can)f(follow)e Fl(Y)38 b Fr(in)31
b(a)g(rightmost)450 2292 y(derivation)i(and)g Fl(Z)1147
2245 y Fe(\003)1135 2292 y Fi(\))23 b Fl(t)1270 2304
y Fo(1)1320 2292 y Fl(.)14 b(.)g(.)g(t)1460 2304 y Ff(m)1516
2292 y Fr(\()p Fl(m)23 b Fi(\025)f Fl(k)p Fr(\),)37 b(then)c(a)i
(reduction)d(of)h(a)h(handle)g(for)f Fl(Y)40 b Fr(by)34
b(a)450 2392 y(batc)o(h)g(parser)g(when)e(the)i(\002rst)g
Fl(k)g Fr(symbols)g(of)f Fl(Z)h Fr(constitute)g(the)f(lookahead)g(can)g
(be)450 2491 y(recorded)25 b(in)j(the)f(parse)h(table)g(as)g(the)f
(action)h(to)f(take)h(with)g(the)f(nonterminal)g(looka-)450
2591 y(head)g Fl(Z)p Fr(.)742 2561 y Fo(11)854 2591 y
Fr(This)i(c)o(hange)e(a)o(voids)h(the)f(performance)e(cost)j(of)f
(extracting)g(the)h(initial)h Fl(k)450 2690 y Fr(terminals)e(from)f
(the)g(subtree)h(representing)d(the)j(current)e(lookahead)h(symbol.)40
b(Only)450 2790 y(when)28 b(the)g(lookahead)g(is)i(invalid)e(\(does)g
(not)h(extend)e(the)i(viable)f(pre\002x\))f(or)i(contains)450
2890 y(modi\002cations)22 b(must)h(it)h(be)f(broken)f(down)f(further)-8
b(.)533 2989 y(Basing)30 b(reductions)f(on)g(nonterminal)g(lookaheads)g
(is)i(not)f(itself)g(suf\002cient)f(to)h(im-)450 3089
y(prove)25 b(the)i(asymptotic)g(performance)d(results)j(of)g(the)f
(previous)g(section')n(s)g(algorithm;)450 3189 y(unnecessary)e
(invocations)g(of)h Fk(right_breakdown)d Fr(must)k(also)f(be)g
(eliminated.)34 b(Spu-)450 3288 y(rious)40 b(reconstructions)g(can)g
(be)h(a)o(voided)e(by)h(parsing)g Fl(optimisticall)o(y)p
Fr(:)61 b(the)40 b(parser)450 3388 y(omits)d(the)f(call)h(to)g
Fk(right_breakdown)d Fr(after)i(shifting)g(a)h(subtree)o(,)i(and)e
(performs)450 3487 y(reductions)27 b(even)f(when)h(the)h(lookahead)e
(contains)i(fewer)f(than)h Fl(k)g Fr(terminal)g(symbols)450
3587 y(in)g(its)i(yield.)43 b(When)28 b(suc)o(h)h(actions)f(turn)g(out)
g(to)g(be)g(correct,)h(unnecessary)e(work)g(has)450 3687
y(been)19 b(a)o(voided.)26 b(If)20 b(one)f(or)h(more)f(actions)i(were)e
(incorrect,)g(the)h(problem)f(will)i(be)f(discov-)450
3786 y(ered)26 b(before)f Fl(k)i Fr(terminal)g(symbols)g(past)h(the)f
(point)f(of)g(the)h(invalid)g(action)g(ha)o(ve)f(been)450
3886 y(shifted.)i(The)22 b(parser)g(bac)o(ktrac)o(ks)i(ef\002ciently)d
(from)g(invalid)h(transitions;)i(in)e(the)g Fl(k)h Fr(=)h(1)450
3986 y(case)o(,)c(bac)o(ktrac)o(king)i(is)e(merely)f(a)h(dela)o(yed)f
(invocation)g(of)g Fk(right_breakdown)p Fr(.)3205 3955
y Fo(12)3299 3986 y Fr(Op-)450 4085 y(timistic)28 b(beha)o(vior)d(thus)
i(improves)e(both)h(the)g(asymptotic)g(and)g(the)g(practical)h(perfor)m
(-)450 4185 y(mance)22 b(of)g(the)h(incremental)f(parser)-8
b(.)533 4284 y(The)36 b(algorithm)g(in)h(F)o(igure)f(8)g(implements)g
(the)g(optimistic)h(strategy)f(by)h(a)f(tec)o(h-)450
4384 y(nique)28 b(similar)h(to)g(the)f Fl(trial)f(par)o(sing)g
Fr(used)h(in)g(batc)o(h)i(parser)e(error)f(recovery)f([Burke)450
4484 y(and)i(F)o(isher)i(1987].)46 b(Suppose)28 b(we)g(can)g(legally)g
(shift)i(a)f(reused)e(subtree)o(,)j(and,)g Fl(in)e(the)p
450 4600 391 1 v 450 4657 a Fj(11)510 4681 y Fu(The)23
b(change)f(to)h(existing)f(table)h(generators)h(is)f(minor:)33
b(the)23 b(parse)g(table)g(must)g(be)g(augmented)g(slightly)450
4764 y(to)h(represent)h Ft(all)g Fu(valid)e(\(and)h(invalid\))g
(nonterminal)f(transitions)g(explicitly)-8 b(.)40 b(Algorithms)23
b(for)i(construct-)450 4847 y(ing)d(parse)h(tables)f(for)h(the)f
(classes)g(of)g(parsers)i(described)f(here)g([Aho)g(et)f(al.)h(1986])f
(are)h(easily)f(modi\002ed)h(to)450 4930 y(enumerate)c(all)f(lookahead)
h(symbols)e(rather)i(than)f(terminals)g(alone)o(.)450
4990 y Fj(12)510 5013 y Fu(If)g(the)g(grammar)h(contains)f
Ft(V)23 b Fu(nonterminals)n(,)c(the)f(amount)f(of)i(backtracking)g(is)f
(limited)g(to)h Ft(O)p Fu(\()p Ft(kV)5 b Fu(\).)450 5189
y Fo(written)15 b(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 17 17
17 16 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(17)450
909 y Fq(void)40 b(inc_parse)e(\(\))i({)530 992 y(bool)f(verifying)g(=)
h(false;)530 1075 y Ft(Initialize)19 b(par)o(se)i(stac)o(k)f(to)f
(contain)g(onl)o(y)g Fq(bos)p Ft(.)530 1158 y Fq(parse_stack)p
Fd(!)p Fq(clear\(\);)37 b(parse_state)h(=)i(0;)f(parse_stack)p
Fd(!)p Fq(push\(bos\);)530 1241 y(NODE)g(*la)h(=)g
(pop_lookahead\(bos\);)d Ft(Set)19 b(lookahead)g(to)g(\002r)o(st)h
(subtree)g(f)o(ollowing)f Fq(bos)p Ft(.)530 1324 y Fq(while)39
b(\(true\))610 1407 y(if)g(\(is_terminal\(la\)\))690
1490 y(if)g(\(la)p Fd(!)p Fq(has_changes\(reference_version\)\))34
b(relex\(la\);)690 1573 y(else)769 1656 y(switch)39 b(\(parse_table)p
Fd(!)p Fq(action\(parse_state,)c(la)p Fd(!)p Fq(symbol\)\))j({)849
1739 y(case)h(ACCEPT:)119 b(if)39 b(\(la)h(==)f(eos\))g({)1526
1822 y(push\(eos\);)g(return;)g Ft(Stac)o(k)19 b(is)g
Fq([bos)39 b(start_symbol)f(eos])p Ft(.)1447 1905 y Fq(})h(else)h
({recover\(\);)e(break;})849 2010 y(case)h(REDUCE)g(r:)p
1447 1941 774 4 v 1447 2046 4 105 v 68 w(verifying)f(=)i(false;)p
2217 2046 V 1447 2049 774 4 v 67 w(reduce\(r\);)f(break;)849
2115 y(case)g(SHIFT)g(s:)80 b(verifying)38 b(=)i(false;)f(shift\(la\);)
1447 2198 y(la)g(=)h(pop_lookahead\(la\);)d(break;)849
2281 y(case)i(ERROR:)159 b(if)39 b(\(verifying\))f({)1526
2364 y(right_breakdown\(\);)g Ft(Delayed)19 b(breakdown.)1526
2447 y Fq(verifying)39 b(=)h(false;)1447 2530 y(})1447
2613 y(else)f(recover\(\);)f Ft(Actual)19 b(par)o(se)i(error)-8
b(.)690 2696 y Fq(})610 2779 y(else)39 b Ft(this)19 b(is)g(a)g
(nonterminal)g(lookahead.)690 2862 y Fq(if)39 b(\(la)p
Fd(!)p Fq(has_changes\(reference_version\)\))769 2945
y(la)h(=)g(left_breakdown\(la\);)d Ft(Split)19 b(to)g(c)o(hanged)f
(point.)690 3029 y Fq(else)769 3112 y(switch)39 b(\(parse_table)p
Fd(!)p Fq(action\(parse_state,)c(la)p Fd(!)p Fq(symbol\)\))j({)849
3217 y(case)h(REDUCE)g(r:)p 1447 3148 1531 4 v 1447 3252
4 105 v 68 w(if)h(\(yield\(la\))e(>)i(1\))f(verifying)g(=)g(false;)p
2974 3252 V 1447 3255 1531 4 v 1447 3322 a(reduce\(r\);)f(break;)849
3405 y(case)h(SHIFT)g(s:)80 b(verifying)38 b(=)i(true;)f(shift\(la\);)
1447 3488 y(la)g(=)h(pop_lookahead\(la\);)d(break;)849
3571 y(case)i(ERROR:)159 b(if)39 b(\(la)p Fd(!)p Fq(arity)g(>)g(0\))h
(la)f(=)h(left_breakdown\(la\);)1447 3654 y(else)f(la)h(=)f
(pop_lookahead\(la\);)690 3737 y(})450 3820 y(})450 4002
y Fu(F)o(ig)n(.)17 b(8.)23 b(An)15 b(improved)i(incremental)f(parsing)g
(algorithm.)22 b(Its)16 b(correctness)h(is)f(expressed)h(by)e(Theorem)j
(5.1.1.)450 4085 y(It)c(works)h(on)f(any)f(LR\(1\))i(or)g(LALR\(1\))g
(table)f(in)f(which)g(the)h(set)g(of)h(nonterminal)e(transitions)g(is)h
(both)g(complete)450 4168 y(and)21 b(correct.)34 b(The)21
b(boxed)g(statements)g(are)g(included)g Ft(onl)o(y)h
Fu(when)e(canonical)h(LR\()p Ft(k)p Fu(\))h(tables)f(are)h(used;)g
(they)450 4251 y(improve)g(performance)h(slightly)c(by)i(also)g
(validating)e Ft(reductions)k Fu(when)d(the)h(lookahead)g(symbol)g(is)g
(not)f(an)450 4334 y Fc(\017)p Fu(-subtree.)j(Since)c(all)f(parsing)g
(classes)g(we)g(consider)h(ha)o(ve)g(the)f(viable)g(pre\002x)g
(property)-8 b(,)20 b(the)e(ability)g(to)h(shift)450
4417 y(any)30 b(non-)p Fc(\017)p Fu(-subtree)f(automatically)h
(validates)g(any)f(speculative)h(reductions)n(,)35 b(including)28
b(speculatively-)450 4500 y(shifted)e Fc(\017)p Fu(-subtrees)o(.)47
b(If)27 b(a)f(real)h(parse)g(error)i(occurs)n(,)h(the)c(algorithm)g
(invokes)g Fq(recover\(\))f Fu(in)h(the)g(same)450 4583
y(con\002guration)18 b(in)f(which)h(a)g(batch)g(parser)h(would)f
(initiate)g(recovery)i(of)f(the)f(error)-7 b(.)758 5189
y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 18 18
18 17 bop 450 250 a Fn(18)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)570 1074 y
@beginspecial 0 @llx 0 @lly 555 @urx 320 @ury 1440 @rwi
@setspecial
%%BeginDocument: figures/errseq1.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-12.0 476.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Polyline
n 2220 6049 m 1429 7444 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7028 5795 m 7028 7063 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7599 4527 m 6965 5795 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7599 4590 m 8487 5858 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3013 4781 m 3774 6049 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8170 3259 m 7536 4590 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3013 4781 m 2253 6049 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2222 6049 m 3013 7444 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3013 3513 m 3013 4781 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 7599 4653 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 3013 4653 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 3013 3385 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7028 5952 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 8169 3385 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 2221 5952 483 483 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 1967 6966 m 1016 6966 l 1016 7917 l 1967 7917 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3488 6966 m 2537 6966 l 2537 7917 l 3488 7917 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8010 5477 m 8961 5477 l 8961 6428 l 8010 6428 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4249 5477 m 3298 5477 l 3298 6428 l 4249 6428 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6552 6966 m 7503 6966 l 7503 7917 l 6552 7917 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 980 3355 46 46 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

/NewCenturySchlbk-Roman ff 360.00 scf sf
7027 6041 m
gs 1 -1 sc (I) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Ellipse
n 1844 3355 46 46 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Polyline
n 225 4020 m 3775 4020 l 3775 2625 l 288 2625 l gs col-1 s gr 
% Rotated Ellipse
gs
8779 3777 tr
-315.012 rot
n 0 0 47 47 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

% Ellipse
n 1411 3355 46 46 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

/NewCenturySchlbk-Roman ff 360.00 scf sf
7599 4741 m
gs 1 -1 sc (H) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
8168 3474 m
gs 1 -1 sc (G) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Rotated Ellipse
gs
9084 4084 tr
-315.012 rot
n 0 0 47 47 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

/NewCenturySchlbk-Roman ff 360.00 scf sf
3013 4741 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
2221 6041 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col-1 sh gr
15.000 slw
% Polyline
 [100.0] 0 sd
gs  clippath
7079 3324 m 7271 3384 l 7079 3444 l 7355 3444 l 7355 3324 l  cp clip
n 6437 3384 m 7325 3384 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 7079 3324 m 7271 3384 l 7079 3444 l 7031 3384 l 7079 3324 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
 [100.0] 0 sd
gs  clippath
6572 4592 m 6764 4652 l 6572 4712 l 6848 4712 l 6848 4592 l  cp clip
n 5930 4652 m 6818 4652 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 6572 4592 m 6764 4652 l 6572 4712 l 6524 4652 l 6572 4592 l  cp gs 0.00 setgray ef gr  col-1 s
7.500 slw
% Rotated Ellipse
gs
9391 4391 tr
-315.012 rot
n 0 0 47 47 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

/NewCenturySchlbk-Roman ff 360.00 scf sf
3013 3474 m
gs 1 -1 sc (A) dup sw pop 2 div neg 0 rm  col-1 sh gr
15.000 slw
% Polyline
 [100.0] 0 sd
gs  clippath
5938 5892 m 6130 5952 l 5938 6012 l 6214 6012 l 6214 5892 l  cp clip
n 5296 5952 m 6184 5952 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 5938 5892 m 6130 5952 l 5938 6012 l 5890 5952 l 5938 5892 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
5938 7381 m 6130 7441 l 5938 7501 l 6214 7501 l 6214 7381 l  cp clip
n 5296 7441 m 6184 7441 l gs col-1 s gr gr

% arrowhead
n 5938 7381 m 6130 7441 l 5938 7501 l 5890 7441 l 5938 7381 l  cp gs 0.00 setgray ef gr  col-1 s
/NewCenturySchlbk-Roman ff 360.00 scf sf
1492 7531 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
3013 7531 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
3774 6041 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
8485 6041 m
gs 1 -1 sc (K) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
7028 7531 m
gs 1 -1 sc (J) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 1652 w @beginspecial 0 @llx 0 @lly 550 @urx
344 @ury 1260 @rwi @setspecial
%%BeginDocument: figures/errseq2.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-14.0 355.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Polyline
n 7859 886 m 7176 2319 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6629 3616 m 6629 4982 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2184 1161 m 3036 2662 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7244 2319 m 8200 3685 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7245 2251 m 6561 3616 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2181 1161 m 1329 2662 l gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4434 476 m 3410 476 l 3410 1500 l 4434 1500 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3547 2148 m 2524 2148 l 2524 3172 l 3547 3172 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Ellipse
n 2182 1056 520 520 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 6629 3786 520 520 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7858 1021 520 520 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7244 2387 520 520 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Polyline
n 1909 2148 m 885 2148 l 885 3172 l 1909 3172 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6117 4878 m 7141 4878 l 7141 5902 l 6117 5902 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7687 3274 m 8711 3274 l 8711 4298 l 7687 4298 l cp gs col7 1.00 shd ef gr gs col-1 s gr 
/NewCenturySchlbk-Roman ff 330.00 scf sf
3036 2756 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 330.00 scf sf
1398 2756 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Ellipse
n 945 988 51 51 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

/NewCenturySchlbk-Roman ff 330.00 scf sf
2182 1151 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Ellipse
n 1423 988 51 51 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Rotated Ellipse
gs
8911 1849 tr
-315.012 rot
n 0 0 62 62 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

% Rotated Ellipse
gs
9315 2252 tr
-315.012 rot
n 0 0 62 62 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

/NewCenturySchlbk-Roman ff 330.00 scf sf
3922 1083 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 330.00 scf sf
6628 3881 m
gs 1 -1 sc (I) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 330.00 scf sf
7857 1117 m
gs 1 -1 sc (G) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Rotated Ellipse
gs
8505 1445 tr
-315.012 rot
n 0 0 62 62 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr
gr

/NewCenturySchlbk-Roman ff 330.00 scf sf
7244 2482 m
gs 1 -1 sc (H) dup sw pop 2 div neg 0 rm  col-1 sh gr
% Ellipse
n 468 988 51 51 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Polyline
n 259 1705 m 4674 1705 l 4674 203 l 259 203 l gs col-1 s gr 
15.000 slw
% Polyline
gs  clippath
5338 5331 m 5530 5391 l 5338 5451 l 5614 5451 l 5614 5331 l  cp clip
n 4628 5391 m 5584 5391 l gs col-1 s gr gr

% arrowhead
n 5338 5331 m 5530 5391 l 5338 5451 l 5290 5391 l 5338 5331 l  cp gs 0.00 setgray ef gr  col-1 s
/NewCenturySchlbk-Roman ff 330.00 scf sf
8199 3881 m
gs 1 -1 sc (K) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 330.00 scf sf
6629 5486 m
gs 1 -1 sc (J) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 570 1199 a Fu(9a.)e(Discarding)f(left)g(edge)h(of)g(right)
f(stack.)359 b(9b)o(.)19 b(Discarding)f(right)g(edge)h(of)f(left)h
(stack.)450 1465 y(F)o(ig)n(.)j(9.)32 b(The)21 b(situation)f(when)g(an)
h(error)i(is)e(detected.)33 b(The)21 b(\002rst)g(course)h(of)g(action)f
(is)g(to)g(progressively)g(tra-)450 1548 y(verse)k(the)g(left)g(edge)g
(of)g(the)g(subtree)g(being)f(considered)i(for)g(reuse)f(\(a\).)43
b(This)24 b(action)h(is)f(the)h(counterpart)450 1631
y(to)18 b Fq(right_breakdown)p Fu(,)f(except)h(that)g(it)g(is)f
(implemented)i(incrementally)f(simply)f(by)h(changing)e(the)i(looka-)
450 1714 y(head)j(item)g(on)g(top)g(of)g(the)g(right)f(stack.)31
b(If)21 b(an)g(error)i(persists)e(with)f(a)h(terminal)g(symbol)f(in)h
(the)f(lookahead)450 1797 y(position,)e(then)f Fq(right_breakdown)f
Fu(is)i(used)f(to)h(ensure)g(that)f(the)h(topmost)g(element)g(of)g(the)
g(parse)g(stack)g(is)450 1880 y(also)c(a)h(terminal)g(symbol.)21
b(If)15 b(the)f(input)g(is)g(correct,)k(parsing)c(will)g(continue)g(as)
h(usual)e(from)j(this)d(point.)22 b(In)14 b(the)450 1963
y(event)21 b(an)g(actual)g(parse)h(error)i(exists)n(,)e(one)f(or)i
(more)f(invalid)f(reductions)g(will)g(typically)g(be)h(\(re\)performed)
450 2046 y(at)d(this)g(point)g(unless)g(the)g(parse)h(tables)f(are)i
(canonical.)26 b(In)20 b(any)f(event,)g(the)h(error)h(will)e(be)h
(detected)h(before)450 2129 y(any)e(further)i(terminal)f(symbols)f(are)
i(shifted,)g(and)f(error)i(recovery)f(will)f(be)g(initiated)g(in)g
Ft(exactl)o(y)i Fu(the)e(same)450 2212 y(con\002guration)e(as)g(in)g(a)
g(batch)g(parser)-7 b(.)450 2408 y Fl(resulting)29 b(state)p
Fr(,)k(can)e(continue)e(by)i(shifting)g(additional)f(symbols)i
(deriving)d(at)i(least)450 2508 y(one)j(terminal)g(symbol)g(\(or)g
(incorporating)f(the)i(end)e(of)h(the)h(input\).)63 b(The)34
b(only)g(w)o(a)o(y)450 2607 y(this)27 b(can)f(happen)e(is)j(if)f(the)g
(\002rst)g(subtree)g(w)o(as)g(correct)f(in)h(its)h(entirety)-10
b(,)25 b Fl(including)f Fr(its)450 2707 y(\002nal)31
b(reduction)e(sequence)o(.)49 b(Further)31 b(shifts)g(of)f
Fl(k)h Fr(terminal)f(symbols)h(indicate)g(they)450 2807
y(were)d(in)h(the)h(lookahead)e(set)i(after)f(shifting)g(the)g(initial)
h(subtree)o(,)h(proving)c(that)j(any)450 2906 y(reductions)22
b(optimistically)i(retained)e(\(or)h(applied)f(based)h(on)g
(insuf\002cient)g(lookahead\))450 3006 y(were)33 b(indeed)g(valid.)1173
2976 y Fo(13)1305 3006 y Fr(These)h(reductions)g(inc)o(lude)g(any)g
(subtrees)h(with)f(null)h(yield)450 3105 y(\()p Fh(\017)p
Fr(-subtree)n(\))24 b(on)f(top)g(of)g(the)h(parse)f(stac)o(k,)j(as)e
(well)f(as)i(the)e(right-hand)f(edge)g(of)h(the)h(top-)450
3205 y(most)f(non-)p Fh(\017)p Fr(-subtree)n(.)533 3305
y(W)o(ith)35 b(this)h(optimistic)g(strategy)-10 b(,)38
b(several)c(possibilities)j(obtain)e(when)f(the)h(looka-)450
3404 y(head)30 b(symbol)h(does)f(not)h(indicate)g(a)g(shift)h(or)e
(reduce)f(action.)53 b(\(F)o(igure)30 b(9)i(illustrates)450
3504 y(the)25 b(sequence)e(of)h(events)n(.\))33 b(The)25
b(parser)f(begins)h(by)f(incrementally)g(discarding)g(struc-)450
3604 y(ture)g(in)g(a)g(nonterminal)f(lookahead)g(until)i(either)e(a)i
(valid)f(action)g(is)h(indicated)e(by)h(the)450 3703
y(parse)k(table)g(or)f(the)g(lookahead)g(is)i(a)f(terminal)f(symbol.)43
b(At)28 b(that)g(point,)h(if)f(the)f(error)450 3803 y(persists)n(,)d
(the)f(algorithm)g(uses)g Fk(right_breakdown)e Fr(to)i(discard)g
(speculative)f(\(unver)m(-)450 3902 y(i\002ed\))d(reductions)n(.)27
b(At)21 b(this)g(point)f(the)g(top)g(of)g(the)g(parse)h(stac)o(k)h(and)
e(the)g(lookahead)f(are)450 4002 y(both)27 b(terminal)g(symbols)n(.)41
b(If)27 b(the)g(input)g(is)h(valid,)g(the)f(incremental)f(parser)h
(proceeds)450 4102 y(to)c(shift)g(it)h(after)e(zero)g(or)h(more)e
(\(valid\))h(reductions)n(.)533 4201 y(In)f(the)h(event)e(of)h(an)g
(actual)h(parse)g(error)-8 b(,)20 b(the)h(algorithm)g(of)g(F)o(igure)g
(8)h(invokes)f(error)450 4301 y(handling)31 b(in)h(exactly)f(the)h
(same)g(con\002guration)e(where)g(a)i(batc)o(h)h(parser)e(would)g(dis-)
450 4401 y(cover)d(the)i(error)-8 b(.)47 b(F)-5 b(or)31
b(canonical)e(tables)n(,)j(this)f(con\002guration)d(will)i(ha)o(ve)f(a)
h(terminal)450 4500 y(symbol)c(on)f(the)h(top)f(of)h(the)f(parse)h
(stac)o(k)h(and)f(in)g(the)g(lookahead)e(position.)38
b(F)-5 b(or)26 b(other)450 4600 y(c)o(lasses)37 b(of)d(parsers)n(,)k
(one)c(or)g(more)g(invalid)h(reductions)f(ma)o(y)h(be)f(performed)f
(before)p 450 4716 391 1 v 450 4773 a Fj(13)510 4797
y Fu(The)17 b Ft(k)j Fc(>)f Fu(1)f(case)g(is)f(complicated)i(by)e(the)g
(fact)h(that)e(up)i(to)f Ft(k)12 b Fd(\000)h Fu(1)k(terminal)h(symbols)
e(can)i(be)g(shifted)f(before)450 4880 y(the)h(error)i(is)f
(discovered.)450 5189 y Fo(written)c(for)i(ACM)f(Transactions)f(on)g
(Programming)h(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g
(at)f(16)10 b(:)g(54.)p eop
%%Page: 19 19
19 18 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(19)450
465 y Fr(the)28 b(error)g(is)h(detected.)1265 435 y Fo(14)1377
465 y Fr(\(When)f(this)h(happens)n(,)g(note)f(that)h(setting)g
Fk(verifying)e Fr(to)450 565 y Fk(false)e Fr(is)h(essential)g(to)f
(prevent)f(the)h(incremental)g(parser)g(from)f(cyc)o(ling)n(.)36
b(Otherwise)450 665 y(the)23 b(invalid)f(reductions)g(would)g(be)h
(re-applied,)e(only)h(to)h(be)g(followed)e(once)h(again)h(by)g(a)450
764 y(call)g(of)g Fk(right_breakdown)p Fr(.\))533 864
y(When)17 b(using)h(canonical)f(LR\(1\))g(tables)n(,)j
Fl(reductions)c Fr(based)h(on)h(a)f(non-)p Fh(\017)p
Fr(-subtree)f(look-)450 964 y(ahead)32 b(can)h(be)g(used)f(to)h
(validate)g(speculative)f(reductions)n(.)57 b(Lossy)33
b(compression)f(of)450 1063 y(the)c(terminal)f(reduction)g(actions)h
(and)g(the)g(invalid)f(reductions)g(permitted)g(by)h(other)450
1163 y(parser)c(c)o(lasses)h(\(LALR\(1\),)g(SLR\(1\)\))e(limit)i
(validation)f(to)g(shifts)h(of)e(non-)p Fh(\017)p Fr(-subtrees)n(.)3370
1133 y Fo(15)450 1262 y Fr(However)-8 b(,)17 b(if)i(an)g(LALR)h(or)e
(SLR)i(parser)f(generator)e(identi\002es)h(reductions)g(guaranteed)450
1362 y(never)k(to)i(be)f(erroneous)n(,)f(reduction)g(validation)i(can)g
(be)f(employed)f(on)h(a)h(case-by-case)450 1462 y(basis)n(.)533
1561 y(The)43 b(\003ow)f(of)h(control)f(in)i(F)o(igure)e(8)i(is)g
(similar)g(to)f(that)h(of)f(the)g(previous)f(algo-)450
1661 y(rithm,)32 b(except)c(for)h(the)g(two)h(optimizations)f
(de\002ned)f(above)o(.)48 b(In)29 b(simple)h(cases)n(,)i(suc)o(h)450
1761 y(as)h(the)g(example)e(illustrated)i(in)f(F)o(igure)g(3,)k(eac)o
(h)c(subtree)g(appearing)f(in)i(the)f(input)450 1860
y(stream)41 b(is)h(shifted)e(with)h(no)f(breakdowns)g(except)f(for)h
(those)g(required)g(to)h(expose)450 1960 y(the)29 b(modi\002cation)e
(sites)n(.)47 b(The)29 b(conservative)e(invocation)h(of)g
Fk(right_breakdown)e Fr(af-)450 2060 y(ter)k(eac)o(h)g(nonterminal)f
(shift)i(has)f(been)g(replaced)e(by)i(the)g Fk(ERROR)g
Fr(cases)n(,)i(whic)o(h)e(use)450 2159 y Fk(right_breakdown)35
b Fr(to)i(implement)f(bac)o(ktrac)o(king)n(.)72 b(The)37
b(ability)h(to)g(reduce)d(on)i(a)450 2259 y(nonterminal)31
b(lookahead)f(results)j(in)f(a)g(new)f Fk(REDUCE)g Fr(case)h(that)h(is)
f(identical)g(to)g(its)450 2358 y(terminal)23 b(counterpart.)450
2519 y Fv(5.1)41 b(Correctness)450 2652 y Fr(W)-5 b(e)20
b(now)f(demonstrate)g(that)h(the)g(parse)g(tree)f(produced)e(by)j(the)g
(algorithm)f(in)h(F)o(igure)g(8)450 2752 y(is)29 b(the)e(same)h(as)g
(the)g(parse)f(tree)g(resulting)h(from)f(a)h(batc)o(h)g(parse)g(using)f
(an)h(identical)450 2851 y(parse)23 b(table)o(,)g(thus)g(establishing)g
(correctness)f(in)h(the)g Fl(k)g Fr(=)h(1)f(case)o(.)2706
2821 y Fo(16)533 2951 y Fr(F)o(irst,)30 b(we)d(justify)g(the)g
(optimized)g(shifting)g(strategy)-10 b(.)42 b(Recall)27
b(that)h(Theorem)e(4.1.1)450 3050 y(does)f(not)f(apply)h(to)g(the)g
(set)h(of)f(reductions)f(removed)f(by)i Fk(right_breakdown)p
Fr(.)33 b(But)25 b(if)450 3150 y(the)i(parser)f(can)h(continue)e(by)i
(shifting)g(\(or)-8 b(,)26 b(in)h(the)g(case)g(of)f(a)h(canonical)f
(parse)h(table)o(,)450 3250 y(reducing\))e(using)h(a)h(non-)p
Fh(\017)p Fr(-subtree)d(lookahead,)j(then)f(c)o(learly)g(the)h
(con\002guration)d(im-)450 3349 y(mediately)k(after)h(the)g(shift)h
(represented)d(a)j(valid)f(pre\002x)f(of)g(a)i(rightmost)f(derivation)
450 3449 y(and)j(the)g(use)g(of)g Fk(right_breakdown)d
Fr(w)o(as)j(unnecessary)-10 b(.)55 b(Since)32 b(the)g(lookahead)f(is)
450 3549 y(known)26 b(to)i(be)f(valid,)i(Theorem)d(4.1.2)i(ensures)f
(that)h(the)f(con\002guration)e(of)i(the)g(batc)o(h)450
3648 y(and)h(incremental)g(parsers)h(are)f(identical)g(after)g(the)h
(shift)g(operation,)f(even)f(without)450 3748 y(the)c(breakdown)e
(procedure)o(.)533 3848 y(Second,)31 b(consider)e(making)h(parsing)g
(actions)h(on)e(the)h(basis)i(of)e(a)g(lookahead)f(sym-)450
3947 y(bol)h(represented)d(by)j(an)g Fh(\017)p Fr(-subtree)f(in)h(the)f
(input)h(stream.)49 b(Since)30 b(the)f(length)g(of)g(the)450
4047 y(terminal)i(yield)g(of)f(the)h(lookahead)f(is)i(less)g(than)g
Fl(k)p Fr(,)h(any)e(decisions)g(based)h(on)e(it)i(are)450
4146 y(potentially)22 b(invalid.)28 b(Three)23 b(cases)g(can)g(arise:)
450 4285 y(\227In)e(the)g(case)h(of)e(an)i(error)-8 b(,)20
b Fk(left_breakdown\(la\))e Fr(is)k(invoked.)k(Eventually)21
b(either)533 4385 y(a)i(non-)p Fh(\017)p Fr(-subtree)e(lookahead)g(is)j
(reac)o(hed)e(or)g(one)g(of)g(the)h(cases)h(below)e(applies)n(.)p
450 4486 391 1 v 450 4542 a Fj(14)510 4566 y Fu(Replacing)c(error)j
(entries)e(in)g(the)g(terminal)f(transition)h(portion)g(of)g(a)g
(canonical)g(parse)h(table)f(with)f(reduc-)450 4649 y(tions)g(has)f
(the)i(same)f(effect.)450 4709 y Fj(15)510 4732 y Fu(All)25
b(the)g(parsing)g(classes)g(we)h(consider)g(here)g(retain)g(the)f
(viable)g(pre\002x)h(property)h(when)d Ft(k)33 b Fu(=)f(1,)c(which)450
4815 y(ensures)d(that)f(a)h(shift)g(of)g(a)h(non-)p Fc(\017)p
Fu(-subtree)e(is)h(possible)g(only)g(if)g(the)g(preceding)h(reduction)f
(sequence)h(w)o(as)450 4898 y(valid.)450 4958 y Fj(16)510
4982 y Fu(The)21 b(general)g(case)h(is)f(similar)-7 b(,)22
b(but)f(bookkeeping)h(in)f(the)g(proof)n(,)i(as)d(in)h(the)g
(algorithm,)h(is)f(more)h(complex)450 5065 y(due)c(to)h(the)f(need)h
(to)f(backtrack)h(after)h(shifting)c(a)j(non-)p Fc(\017)p
Fu(-subtree)o(.)758 5189 y Fo(written)c(for)h(ACM)g(Transactions)f(on)h
(Programming)g(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h
(at)e(16)10 b(:)g(54.)p eop
%%Page: 20 20
20 19 bop 450 250 a Fn(20)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fr(\227In)h(the)g
(case)g(of)g(a)h Fk(REDUCE)e Fr(action,)h(a)h(new)e(node)g(is)i
(created)e(without)h(advancing)f(the)533 565 y(lookahead.)450
681 y(\227In)26 b(the)g(case)g(of)g(a)h Fk(SHIFT)e Fr(action,)i(the)f
Fh(\017)p Fr(-subtree)g(is)h(pushed)e(onto)g(the)h(parse)g(stac)o(k.)
533 781 y(\(This)d(is)h(equivalent)e(to)h(the)g(application)f(of)g(one)
g(or)h(more)e(reductions)n(.\))533 930 y(Shifting)i(or)f(reducing)g
(based)h(on)f(an)h Fh(\017)p Fr(-subtree)f(lookahead)g(merely)g(adds)h
(to)g(the)g(set)450 1030 y(of)e(pending)f(reductions)n(.)27
b(No)21 b(subsequent)h(shift)g(of)g(a)g(non-)p Fh(\017)p
Fr(-subtree)d(can)j(occur)f(unless)450 1130 y(it)k(extends)e(a)h
(viable)g(pre\002x;)g(if)g Fl(any)f Fr(of)g(the)h(reductions)f(are)h
(invalid,)g(an)h(eventual)d(call)450 1229 y(to)e Fk(right_breakdown)d
Fr(will)j(remove)d(the)j(entire)e(reduction)h(sequence)f(and)h(apply)g
(the)450 1329 y(correct)j(set)h(of)f(reductions)g(using)h(the)g
(following)e(terminal)h(symbol.)533 1429 y(W)-5 b(e)20
b(can)g(now)e(establish)j(that)g(the)e(con\002guration)f(of)h(this)h
(parser)g(is)g(identical)g(to)f(that)450 1528 y(of)j(a)h(batc)o(h)h
(parser)f(at)g(a)h(number)d(of)i(well-de\002ned)d Fl(matc)o(h)h(points)
p Fr(.)535 1678 y(T)t Fu(H)t(E)t(O)t(R)t(E)t(M)46 b Fr(5)t(.)t(1)t(.)t
(1)t(.)450 1777 y Fl(T)n(he)18 b(con\002guration)d(of)i(the)h
(incremental)e(par)o(ser)h(de\002ned)g(by)h(the)g(algorithm)e(in)h(F)o
(igure)h(8)450 1877 y(matc)o(hes)28 b(that)i(of)f(a)h(batc)o(h)f(par)o
(ser)g(using)f(the)i(same)f(par)o(se)g(table)h(inf)o(ormation)d(in)i
(the)450 1976 y(f)o(ollowing)20 b(cases:)450 2126 y(\(1\))46
b(At)30 b(the)g(beginning)e(of)h(the)h(par)o(se)m(,)h(with)e(an)g
(empty)g(stac)o(k)g(and)h(the)f(lookahead)f(set)598 2226
y(to)22 b Fk(bos)p Fl(.)450 2342 y(\(2\))46 b(At)23 b(the)g(end)g(of)f
(the)h(par)o(se)m(,)f(when)g(the)h Fk(accept)f Fl(routine)f(is)i
(invoked.)450 2458 y(\(3\))46 b(W)n(hen)22 b(an)h(error)f(is)g
(detected)h(\(and)f(the)g Fk(recover)g Fl(routine)g(is)g(invoked\).)450
2574 y(\(4\))46 b(Immediatel)o(y)20 b(prior)i(to)h(a)f(shift)g(of)g
(any)g(non-)p Fh(\017)p Fl(-subtree)f(by)h(the)h(incremental)e(par)o
(ser)-10 b(.)535 2724 y Fr(P)t Fu(R)t(O)t(O)t(F)28 b
Fr(S)t Fu(K)t(E)t(T)t(C)t(H)t Fr(.)45 b(Equality)23 b(c)o(learly)g
(holds)f(in)h(the)g(\002rst)g(case)o(.)29 b(\(2\))22
b(can)h(be)g(modeled)450 2823 y(as)29 b(a)f(special)h(case)f(of)g
(\(4\))f(by)h(treating)g(it)h(as)g(a)g(`shift')f(of)g(one)f(or)g(more)g
(end-of-stream)450 2923 y(\()p Fk(eos)o Fr(\))i(symbols)h(in)g(order)e
(to)h(reduce)f(to)h(the)h(start)g(symbol)g(of)f(an)g(augmented)f(gram-)
450 3023 y(mar)-8 b(.)38 b(The)26 b(argument)e(for)i(\(3\))f(has)i
(already)e(been)h(presented.)36 b(Case)26 b(\(4\))g(relies)g(on)f(the)
450 3122 y(argument)18 b(for)h(optimized)f(shifting)i(in)f(conjunction)
e(with)j(bac)o(ktrac)o(king)g(as)h(presented)450 3222
y(above)o(,)e(observing)g(that)i(the)f(incremental)f(parser)h(has)h
(performed)c(all)k(possible)g(reduc-)450 3321 y(tions)i(when)f(a)h
(shift)g(is)h(about)f(to)g(occur)-8 b(.)p 1882 3272 57
4 v 1882 3321 4 50 v 1935 3321 V 1882 3324 57 4 v 535
3521 a(C)t Fu(O)t(R)t(O)t(L)t(L)t(A)t(R)t(Y)46 b Fr(5)t(.)t(1)t(.)t(2)t
(.)450 3620 y Fl(T)n(he)32 b(incremental)f(par)o(sing)f(algorithm)h(of)
h(F)o(igure)f(8)i(produces)e(the)h(same)g(par)o(se)g(tree)450
3720 y(constructed)22 b(by)g(a)h(batc)o(h)f(par)o(ser)g(reading)f(the)i
(same)g(terminal)e(yield.)450 3886 y Fv(5.2)41 b(Optim)n(ality)450
4019 y Fr(W)-5 b(e)28 b(now)e(investigate)h(the)g(c)o(laim)h(that)g
(the)f(algorithm)g(in)g(F)o(igure)g(8)h(\(algorithm)f
Fl(A)p Fr(\))g(is)450 4118 y(optimal)k(with)g(respect)f(to)h(a)g
(general)f(model)g(of)g(incremental)g(shift/reduce)f(parsing)n(.)450
4218 y(W)-5 b(e)23 b(do)e(this)j(by)e(establishing)h(that)g(no)f(other)
g(algorithm)f Fl(A)2459 4188 y Fe(0)2506 4218 y Fr(of)h(this)h(form)e
(can)i(improve)450 4318 y(asymptotically)h(on)g(the)g(total)g(number)f
(of)h(steps)n(,)h(independent)c(of)j(the)g(grammar)f(and)450
4417 y(edit)g(sequence)o(.)j(F)o(irst,)f(assume)e(as)h(input)450
4567 y(\227A)g(sequence)e(of)g(reused)h(subtrees)g(and)g(new)g(tokens;)
g(the)g(reused)g(subtrees)g(are)g(pro-)533 4666 y(vided)31
b(by)i(a)g(tra)o(versal)g(of)f(the)h(c)o(hanged)e(regions)h(of)g(the)g
(previous)g(version)f(of)h(the)533 4766 y(tree)o(.)450
4882 y(\227A)d(parse)g(table)h(for)e(a)h(grammar)g(G)m(,)g(in)g(whic)o
(h)f(nonterminal)g(transitions)i(are)f(both)533 4982
y(complete)21 b(and)i(correct.)450 5189 y Fo(written)15
b(for)i(ACM)f(Transactions)f(on)g(Programming)h(Languages)g(and)g
(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p
eop
%%Page: 21 21
21 20 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(21)533
465 y Fr(W)-5 b(e)25 b(use)g(the)g(conventional)e(model)g(of)i
(shift/reduce)e(parsing)n(,)i(augmented)e(with)i(the)450
565 y(ability)i(to)f(shift)h(nonterminals)e(in)h(the)g(form)f(of)g
(non-trivial)h(subtrees)g(retained)f(from)450 665 y(the)i(previous)g
(version)f(of)h(the)h(tree)o(.)41 b(A)28 b(node)e(ma)o(y)i(be)g(reused)
e(in)i(the)f(new)g(version)g(of)450 764 y(the)20 b(tree)g(if)g(its)i(c)
o(hild)e(nodes)f(are)i(identical)f(in)g(both)g(trees)n(.)28
b(\(Section)19 b(8)i(explores)e(models)450 864 y(of)f(node)g(reuse)g
(in)i(greater)e(detail.\))27 b(The)19 b(cost)g(model)f(c)o(harges)h
Fl(O)p Fr(\(1\))f(time)h(for)f(eac)o(h)h(node)450 964
y(visited)k(or)f(constructed.)533 1063 y(As)30 b(stated)f(previously)
-10 b(,)29 b(our)f(version)g(of)g(sentential-form)g(parsing)h(uses)g(a)
g(subtree)450 1163 y(shift)c(test)h(that)f(is)h(both)e(necessary)g(and)
h(suf\002cient.)33 b(It)25 b(follows)f(immediately)g(that)i(no)450
1262 y(other)c(parsing)h(algorithm)f(can)h(perform)e(fewer)g(shifts)n
(.)533 1362 y(T)-5 b(o)27 b(understand)e(why)g(the)h(number)f(of)h
(reductions)f(is)i(asymptotically)f(optimal,)h(we)450
1462 y(\002rst)21 b(consider)e(a)i(restricted)f(case:)27
b(LR\(1\))20 b(parse)g(tables)i(in)e(whic)o(h)g(the)g(terminal)g
(action)450 1561 y(transitions)h(are)f(also)g(complete)f(\(i.e)o(.,)h
(no)f(use)h(of)g(`default)f(reductions')t(\).)26 b(W)-5
b(e)21 b(also)f(make)450 1661 y(a)29 b(straightforw)o(ard)f
(replacement)f(of)h(the)h Fk(right_breakdown)d Fr(routine)i(in)h(F)o
(igure)g(4)450 1761 y(with)h(one)g(that)h(operates)f(in)g(a)h(stepwise)
f(fashion.)51 b(Now)29 b(assume)i(some)f(other)g(algo-)450
1860 y(rithm)c Fl(A)754 1830 y Fe(0)804 1860 y Fr(a)o(voids)g(a)h
(reduction)e(that)i(our)e(algorithm)h(performs)n(.)37
b(Since)26 b(the)f(reduction)450 1960 y(can)g(be)h(a)o(voided)e(by)h
Fl(A)1217 1930 y Fe(0)1241 1960 y Fr(,)h(it)g(must)g(reuse)f(a)h(node)e
Fl(N)29 b Fr(to)d(represent)e(the)h(same)g(reduction)450
2060 y(in)34 b(both)f(trees)n(.)61 b(If)33 b Fl(N)38
b Fr(w)o(as)33 b(marked)g(with)h(nested)f(c)o(hanges)g(prior)g(to)g
(parsing)n(,)k(then)450 2159 y(the)d(cost)g(of)g(the)g(extra)f
(reduction)g(is)i(asymptotically)f(subsumed)g(by)g(the)g(tra)o(versal)
450 2259 y(needed)21 b(to)j(generate)e(the)h(input)g(to)g(the)h
(algorithm.)29 b(Otherwise)23 b Fl(N)k Fr(w)o(as)d(broken)e(down)450
2358 y(by)36 b Fk(left_breakdown)e Fr(unnecessarily)h(in)h(order)f(to)i
(trigger)e(one)g(or)h(more)f(calls)i(to)450 2458 y Fk(right_breakdown)p
Fr(.)27 b(But)d(the)f(order)f(in)i(whic)o(h)f(reductions)f(are)h
(reconsidered)e(when)450 2558 y(two)e(non-trivial)g(subtrees)h
(adjacent)f(in)g(the)h(input)f(stream)h(cannot)f(be)h(adjacent)f(in)g
(the)450 2657 y(new)25 b(tree)g(is)h(arbitrary:)35 b(without)25
b(additional)g(knowledge)o(,)f(no)h(algorithm)g(can)h(c)o(hoose)450
2757 y(an)i(optimal)g(order)e(for)h(these)h(tests)h(a)f(priori.)43
b(Thus)28 b(some)f(different)g(combination)g(of)450 2857
y(grammar)d(and)h(edit)f(sequence)g(must)h(result)g(in)g
Fl(A)2179 2826 y Fe(0)2228 2857 y Fr(requiring)e(more)h(reductions)g
(than)450 2956 y(our)e(algorithm.)533 3056 y(Now)k(suppose)g(a)h
(parser)g(c)o(lass)h(that)g(permits)f(erroneous)e(reductions)h(and/or)g
(lossy)450 3155 y(compression)j(of)i(terminal)f(reduction)g(actions)h
(in)f(the)h(parse)g(table)o(,)h(along)f(with)f(the)450
3255 y(version)k(of)g Fk(right_breakdown)f Fr(shown)h(in)h(F)o(igure)f
(4.)65 b(In)35 b(this)h(case)o(,)h(a)e(reduction)450
3355 y(performed)c(by)i Fl(A)1061 3325 y Fe(0)1119 3355
y Fr(and)g(not)h(by)f(our)g(algorithm)g(ma)o(y)h(also)g(be)g(due)e(to)i
(the)f(fact)h(that)450 3454 y Fk(right_breakdown)25 b
Fr(removes)i(a)h(reduction)f(unnecessarily)-10 b(.)42
b(\(Recall)28 b(that)g(this)h(rou-)450 3554 y(tine)g(must)g(assure)g(a)
h(con\002guration)d(in)i(whic)o(h)f(a)i(terminal)e(symbol)h(is)h(on)e
(top)h(of)f(the)450 3654 y(parse)23 b(stac)o(k)h(in)f(order)f(to)h(a)o
(void)f(cyc)o(ling)g(in)h(the)g(presence)e(of)h(erroneous)f(reductions)
n(.\))533 3753 y(F)o(irst,)31 b(suppose)c Fl(A)1166 3723
y Fe(0)1218 3753 y Fr(predicates)h(a)g(node')n(s)f(reusability)i(\(in)f
(part\))g(on)f(the)h(lookahead)450 3853 y(symbol,)34
b(as)f(is)g(done)e(in)h(state-matc)o(hing)g(approac)o(hes)n(.)55
b(Since)32 b(the)g(two)g(subtrees)g(in)450 3952 y(question)j(were)e
(not)i(necessarily)f(adjacent)g(in)h(the)g(previous)e(version)h(of)h
(the)f(parse)450 4052 y(tree)o(,)22 b(we)g(can)h(easily)g(exhibit)g
(grammars)g(and)g(edit)g(sequences)f(in)h(whic)o(h)g
Fl(A)3048 4022 y Fe(0)3095 4052 y Fr(performs)450 4152
y(more)k(reductions)f(than)i Fl(A)g Fr(by)g(arranging)f(for)g(the)g
(following)f(terminal)i(symbol)f(to)h(be)450 4251 y(different)21
b(than)i(in)g(the)g(previous)e(parse)i(tree)o(.)533 4351
y(Now)h(suppose)g Fl(A)1121 4321 y Fe(0)1170 4351 y Fr(does)h
Fl(not)g Fr(predicate)f(reusability)h(on)g(the)g(lookahead)e(symbol.)35
b(T)-5 b(o)450 4451 y(a)o(void)33 b(con\002gurations)e(in)j(whic)o(h)f
Fl(A)h Fr(invokes)e Fk(right_breakdown)p Fr(,)i Fl(A)2924
4420 y Fe(0)2981 4451 y Fr(must)g(either)450 4550 y(shift)20
b(sub-optimally)f(or)g(remove)f(reductions)g(unnecessarily)h(in)g(some)
g(circumstances)n(.)450 4650 y(If)26 b Fl(A)596 4620
y Fe(0)646 4650 y Fl(does)f Fr(enter)h(suc)o(h)g(a)h(con\002guration,)e
(then)h(to)g(a)o(void)g(cyc)o(ling)g(it)g(must)h(remove)d(all)450
4749 y(reductions)e(dependent)e(upon)i(the)g(lookahead)g(symbol\(s\),)h
(exactly)f(as)i Fl(A)f Fr(does)n(.)758 5189 y Fo(written)15
b(for)h(ACM)g(Transactions)f(on)h(Programming)g(Languages)f(and)i
(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10 b(:)g(54.)p
eop
%%Page: 22 22
22 21 bop 450 250 a Fn(22)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fv(6.)42
b(AMBIGUOUS)24 b(GRAMMARS)i(AND)e(P)-9 b(ARSE)24 b(FOREST)h(FIL)l
(TERING)450 598 y Fr(Ambiguous)33 b(grammars)h(frequently)e(ha)o(ve)h
(important)h(advantages)f(over)g(their)h(un-)450 698
y(ambiguous)h(counterparts:)54 b(they)35 b(are)g(shorter)g(and)h
(simpler)g(and)f(result)h(in)g(faster)450 798 y(parsers)n(,)k(smaller)d
(parse)f(trees)n(,)k(and)c(easier)h(maintenance)o(.)67
b(Many)37 b(parser)f(gener)m(-)450 897 y(ator)k(tools)n(,)k(suc)o(h)c
(as)g Fk(bison)p Fr(,)j(permit)d(some)f(forms)g(of)g(ambiguity)g(in)h
(conjunction)450 997 y(with)27 b(mec)o(hanisms)g(for)f(eliminating)h
(the)g(resulting)g(non-determinism)d(in)j(the)g(parse)450
1096 y(table)o(.)664 1066 y Fo(17)789 1096 y Fr(These)k(methods)g(inc)o
(lude)h(default)f(resolution)g(mec)o(hanisms)i(\(prefer)c(shift,)450
1196 y(prefer)19 b(earliest)j(reduction)d(in)i(order)f(of)h(appearance)
e(in)i(grammar\))g(as)g(well)g(as)h(a)f(nota-)450 1296
y(tion)i(for)f(expressing)f(operator)h(precedence)e(and)i
(associativity)i([Aho)e(et)h(al.)g(1975].)3303 1266 y
Fo(18)533 1395 y Fr(Resolving)c(the)h(con\003icts)h(in)f(the)g(parse)g
(table)h(through)e(additional)h(information)g(\(in-)450
1495 y(c)o(luding)33 b(default)h(mec)o(hanisms)g(built)g(into)g(the)g
(parser)g(generator\))d(interferes)i(with)450 1595 y(sentential-form)19
b(parsing)n(,)i(whic)o(h)f(assumes)h(that)g(the)f(parse)h(table)g
(re\003ects)f(the)g(gram-)450 1694 y(mar)h(of)f(the)g(language)o(.)26
b(In)21 b(particular)-8 b(,)21 b Fl(transitions)d(on)i(nonterminal)f
(lookaheads)f(that)450 1794 y(appear)26 b(to)h(be)g(valid)f(may)h
(result)f(in)h(a)g(par)o(se)g(tree)g(that)g(would)f(not)g(be)i
(produced)d(by)i(a)450 1893 y(batc)o(h)22 b(par)o(ser)p
Fr(.)533 1993 y(F)o(igure)39 b(10)h(illustrates)h(one)d(suc)o(h)i
(problem.)77 b(A)39 b(text)h(edit)f(converting)e(addition)450
2093 y(to)c(multiplication)g(should)f(trigger)g(a)i(re-structuring)d
(to)i(accommodate)f(the)g(higher)450 2192 y(precedence)26
b(of)j(the)g(new)f(operator)-8 b(.)45 b(However)-8 b(,)29
b(the)g(grammar)f(is)i(ambiguous)n(,)h(and)e(a)450 2292
y(straightforw)o(ard)j(implementation)g(of)h(incremental)f
(sentential-form)g(parsing)h(pro-)450 2392 y(duces)28
b(the)h(wrong)e(parse)i(tree)o(.)45 b(This)30 b(situation)f(occurs)f
(because)h(con\003ict)f(resolution)450 2491 y(encoded)j(in)i(the)g
(parse)g(table)h(is)g(not)f(a)o(vailable)h(when)e(the)h(lookahead)f
(symbol)i(is)g(a)450 2591 y(nonterminal.)533 2690 y(Incremental)18
b(parsing)h(methods)f(based)h(on)f(state)i(matc)o(hing)f(do)g(not)g(ha)
o(ve)f(this)i(prob-)450 2790 y(lem,)35 b(because)e(their)f
(incrementality)g(derives)g(from)g(re-creating)f(con\002gurations)h(in)
450 2890 y(the)18 b(pushdown)f(automaton)h(itself)m(.)28
b(W)o(ith)19 b(respect)f(to)g(unambiguous)g(grammars)n(,)h(state)450
2989 y(matc)o(hing)39 b(is)g(a)h(suf\002cient)e(but)h(not)g(necessary)f
(test.)77 b(In)39 b(the)f(case)h(of)g(ambiguous)450 3089
y(grammars)n(,)34 b(however)-8 b(,)31 b(the)g(stronger)g(state-matc)o
(hing)h(test)h(is)f(useful:)46 b(treating)31 b(the)450
3189 y(parse)21 b(table)i(as)f(de\002nitive)e(permits)i(the)f
(incremental)f(parser)i(to)f(ignore)f(the)i(relation-)450
3288 y(ship)j(between)e(the)i(parse)g(table)g(and)g(the)f(grammar)-8
b(.)34 b(State)26 b(matc)o(hing)e(thus)i(intrinsi-)450
3388 y(cally)g(supports)f(any)h(\(static\))g(con\003ict-resolution)e
(mec)o(hanism.)37 b(Since)25 b(most)h(existing)450 3487
y(and)d(future)g(grammars)g(are)g(likely)g(to)h(be)f(ambiguous)n(,)g
(incremental)f(sentential-form)450 3587 y(parsers)h(will)g(only)f(be)h
(practical)g(if)g(they)f(can)h(also)g(support)g(this)g(type)f(of)h
(ambiguity)-10 b(.)533 3687 y(One)31 b(possible)g(solution)h(would)e
(be)h(to)h(encode)d(the)j(dynamic)e(selection)h(of)g(desired)450
3786 y(parse)f(trees)h(in)f(the)g(incremental)g(parsing)g(algorithm)g
(itself)m(.)51 b(F)-5 b(or)31 b(example)o(,)g(an)f(ex-)450
3886 y(isting)e(theory)e(of)g(operators)g([Aasa)i(1995])g(could)e(be)h
(extended)e(to)j(produce)d(an)i(incre-)450 3986 y(mental)19
b(evaluator)f(by)h(maintaining)g(synthesized)f(attributes)i(that)g
(describe)o(,)f(for)f(eac)o(h)450 4085 y(expression)j(subtree)o(,)i
(the)f(precedence)e(and)j(associativity)g(of)g(the)f(`exposed')f
(operators)450 4185 y(within)27 b(it.)43 b(The)28 b(incremental)e
(parser)h(would)g(expose)f(operands)g(through)g(additional)450
4284 y(left-)h(and)h(right-breakdown)e(operations)h(in)h(accordance)f
(with)h(the)f(operator)g(speci\002-)p 450 4401 391 1
v 450 4458 a Fj(17)510 4481 y Fu(The)f(methods)g(we)h(describe)g(in)f
(this)g(section)g(also)h(apply)f(to)g(unambiguous)f(grammars)i(that)e
(are)i(non-)450 4564 y(deterministic)20 b(\(with)e(respect)i(to)g(a)f
(particular)h(parsing)f(algorithm\))g(in)g(the)g(absence)g(of)h
(con\003ict)f(resolution)450 4647 y(during)f(parse)h(table)f
(construction.)450 4707 y Fj(18)510 4731 y Fu(These)30
b(resolution)g(methods)h(are)g(the)f(most)g(widely)g(used,)k(but)c(ha)o
(ve)g(several)h(theoretical)g(disadvan-)450 4814 y(tages)n(,)h
(including)27 b(the)i(fact)g(that)f(they)h(ma)o(y)g(result)f(in)h
(incomplete)g(or)h(even)f(non-terminating)e(parsers)n(.)450
4897 y(Thorup)19 b([1994])h(examines)f(methods)h(that)g(eliminate)f
(con\003icts)h(while)g(preserving)g(the)g(completeness)n(,)i(ter)n(-)
450 4980 y(mination,)h(and)f(performance)j(results)d(of)h(classic)g(LR)
g(parsers)n(.)37 b(Klint)21 b(and)h(V)o(isser)h([1994])g(describe)g
(parse)450 5063 y(tree)c Ft(\002lter)o(s)p Fu(,)i(some)e(of)f(which)g
(can)g(be)h(applied)g(at)f(parse)h(table)f(construction)h(time)o(.)450
5189 y Fo(written)c(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 23 23
23 22 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(23)691
441 y Fq(\045token)39 b(IDENT)691 524 y Ft(Order)19 b(indicates)h
(precedence:)691 607 y Fq(\045left)39 b('+')h Ft(low)691
690 y Fq(\045left)f('*')h Ft(high)691 773 y Fq(\045\045)691
856 y(s)g(:)g(e;)691 939 y(e)g(:)g(IDENT)771 1022 y(|)g(e)f('+')h(e)771
1105 y(|)g(e)f('*')h(e)771 1188 y(|)g('\(')f(e)h('\)')771
1271 y(;)1545 b @beginspecial 0 @llx 0 @lly 155 @urx
174 @ury 720 @rwi @setspecial
%%BeginDocument: figures/prec1.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-21.0 190.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
15.000 slw
% Polyline
gs  clippath
2190 2546 m 2250 2354 l 2310 2546 l 2310 2270 l 2190 2270 l  cp clip
n 2250 2750 m 2250 2300 l gs col0 s gr gr

% arrowhead
n 2190 2546 m 2250 2354 l 2310 2546 l 2250 2594 l 2190 2546 l  cp gs 0.00 setgray ef gr  col0 s
7.500 slw
% Polyline
n 975 1050 m 600 1425 l gs col-1 s gr 
% Polyline
n 1650 1650 m 1650 1950 l gs col-1 s gr 
% Polyline
n 1125 1050 m 1500 1425 l gs col-1 s gr 
% Polyline
n 1800 450 m 2700 1350 l gs col-1 s gr 
% Polyline
n 450 1650 m 450 1950 l gs col-1 s gr 
% Polyline
n 2850 1650 m 2850 1950 l gs col-1 s gr 
% Polyline
n 1050 1050 m 1050 1950 l gs col-1 s gr 
% Polyline
n 1680 450 m 2250 1950 l gs col-1 s gr 
% Polyline
n 1575 450 m 1200 825 l gs col-1 s gr 
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 375 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1050 975 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
450 1575 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 1575 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2850 1575 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
450 2225 m
gs 1 -1 sc (a) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 2240 m
gs 1 -1 sc (b) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2850 2225 m
gs 1 -1 sc (c) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1045 2225 m
gs 1 -1 sc (+) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2250 2225 m
gs 1 -1 sc (+) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
2250 3125 m
gs 1 -1 sc (*) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 611 1395 a Fu(10a.)19 b(Bison)f(input)g(\002le)o(.)808
b(10b)o(.)18 b(Original)g(program)h(with)f(edit)g(site)2056
1478 y(marked.)911 2134 y @beginspecial 0 @llx 0 @lly
166 @urx 133 @ury 720 @rwi @setspecial
%%BeginDocument: figures/prec2.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-10.0 144.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
% Interp Spline
gs n 1050 2400 m
	1246.5 2400.0 1642.1 2382.9 1800 2175 curveto
	2005.1 1905.0 1954.8 1423.2 1820 1158 curveto
	1698.7 919.3 1369.6 633.0 1070 633 curveto
	770.4 633.0 443.8 925.8 320 1158 curveto
	182.4 1416.0 96.4 1895.7 300 2175 curveto
	456.7 2390.0 853.5 2400.0 1050 2400 curveto
 cp gs 0.90 setgray ef gr  gr

7.500 slw
% Polyline
n 975 975 m 600 1350 l gs col-1 s gr 
% Polyline
n 1650 1575 m 1650 1875 l gs col-1 s gr 
% Polyline
n 1125 975 m 1500 1350 l gs col-1 s gr 
% Polyline
n 1800 375 m 2700 1275 l gs col-1 s gr 
% Polyline
n 450 1575 m 450 1875 l gs col-1 s gr 
% Polyline
n 2850 1575 m 2850 1875 l gs col-1 s gr 
% Polyline
n 1050 975 m 1050 1875 l gs col-1 s gr 
% Polyline
n 1680 375 m 2250 1875 l gs col-1 s gr 
% Polyline
n 1575 375 m 1200 750 l gs col-1 s gr 
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 300 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1050 900 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
450 1500 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 1500 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2850 1500 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
450 2174 m
gs 1 -1 sc (a) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1050 2189 m
gs 1 -1 sc (+) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2850 2174 m
gs 1 -1 sc (c) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
2250 2300 m
gs 1 -1 sc (*) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1650 2180 m
gs 1 -1 sc (b) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 1445 w @beginspecial 0 @llx 0 @lly 155 @urx
123 @ury 720 @rwi @setspecial
%%BeginDocument: figures/prec3.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-12.0 134.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Polyline
n 2025 900 m 1650 1275 l gs col-1 s gr 
% Polyline
n 2175 900 m 2550 1275 l gs col-1 s gr 
% Polyline
n 1350 375 m 450 1275 l gs col-1 s gr 
% Polyline
n 1650 375 m 1950 675 l gs col-1 s gr 
% Polyline
n 2101 900 m 2101 1800 l gs col-1 s gr 
% Polyline
n 1501 375 m 901 1800 l gs col-1 s gr 
% Polyline
n 1501 1500 m 1501 1800 l gs col-1 s gr 
% Polyline
n 2701 1500 m 2701 1800 l gs col-1 s gr 
% Polyline
n 301 1500 m 301 1800 l gs col-1 s gr 
/NewCenturySchlbk-Roman ff 300.00 scf sf
2100 825 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1500 300 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
301 2095 m
gs 1 -1 sc (a) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
895 2090 m
gs 1 -1 sc (+) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1510 2095 m
gs 1 -1 sc (b) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 360.00 scf sf
2100 2200 m
gs 1 -1 sc (*) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2705 2090 m
gs 1 -1 sc (c) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
1501 1425 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
2701 1425 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 300.00 scf sf
301 1425 m
gs 1 -1 sc (e) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 611 2259 a(10c)o(.)i(Incorrect)g(parse)f(due)f(to)h
(ambiguity;)611 2342 y(the)g(reused)f(subtree)h(is)f(shaded.)2056
2259 y(10d.)h(Correct)h(parse)f(due)f(to)h(additional)2056
2342 y(breakdowns)n(.)450 2583 y(F)o(ig)n(.)c(10.)22
b(Incremental)14 b(parsing)g(in)g(the)f(presence)j(of)e(ambiguity)-8
b(.)20 b(The)14 b(grammar)h(in)f(\(a\))g(would)g(be)g(ambiguous)450
2666 y(without)g(the)h(precedence/associativity)i(declarations)n(,)f
(which)e(control)j(how)d(the)h(parser)i(generator)f(resolves)450
2749 y(con\003icts)n(.)38 b(As)22 b(shown)g(in)h(\(c\),)j(a)d
(sentential-form)g(parser)h(produces)g(the)f(wrong)f(parse)i(tree)o(,)h
(since)e(its)g(test)450 2832 y(for)g(subtree)g(reuse)f(does)h(not)f
(take)h(con\003ict)f(resolution)g(into)g(account)h(\(unlike)f
(state-matching)e(methods\).)450 2915 y(F)l(orcing)f(the)f(parser)h(to)
f(break)h(down)f Ft(fragile)h Fu(productions)g(when)e(they)g(occur)j
(as)d(lookaheads)i(will)e(result)h(in)450 2998 y(correctly)i(parsed)f
(structure)g(\(d\).)450 3194 y Fr(cations)n(.)30 b(This)24
b(tec)o(hnique)f(would)f(be)i(limited)f(to)g(the)g(c)o(lass)i(of)e
(ambiguities)h(addressed)450 3294 y(by)f(the)f(operator)g(notation.)450
3460 y Fv(6.1)41 b(Enca)r(psulating)22 b(Ambiguity)450
3593 y Fr(A)i(second,)g(more)f(general,)g(solution)h(is)h(to)f(employ)e
(the)i(less)h(ef\002cient)e(state-matc)o(hing)450 3692
y(implementation)28 b(on)h(a)g(restricted)g(basis)n(,)k(limiting)c(it)h
(to)f(just)h(those)f(portions)g(of)f(the)450 3792 y(parse)f(tree)f
(involving)g(ambiguous)h(constructs)n(.)41 b(In)27 b(ambiguous)f
(regions)n(,)h(the)g(parser)450 3892 y(uses)20 b(state)h(matc)o(hing)f
(to)g(determine)e(the)i(set)h(of)e(reusable)h(subtrees;)h(in)f
(unambiguous)450 3991 y(regions)n(,)g(sentential-form)f(parsing)i(can)g
(be)f(used.)27 b(State)22 b(matc)o(hing)e(is)i(required)d(when)450
4091 y(the)27 b(current)f(state)j(\(item)e(set\))g(contains)h(a)f
(con\003ict)g(or)g(when)f(the)h(lookahead)f(symbol)450
4190 y(is)31 b(a)h(node)d(constructed)g(using)i(state-matc)o(hing)g
(\(a)g Fl(fragile)d Fr(node\).)50 b(Both)31 b(conditions)450
4290 y(signal)23 b(the)g(parser)f(to)h(switc)o(h)h(to)f(the)f(more)g
(conservative)f(subtree)i(reuse)f(test.)533 4390 y(The)32
b(set)g(of)f(fragile)g(nodes)f(is)j(determined)c(through)i(a)h
(combination)f(of)g(grammar)450 4489 y(analysis)23 b(and)f(dynamic)f
(\(`parse-time')t(\))f(trac)o(king)n(.)29 b(F)o(irst,)24
b(the)d(set)i(of)e(directly)h(ambigu-)450 4589 y(ous)k(productions)g
(can)g(be)h(output)f(by)g(the)h(parser)f(generator:)34
b(these)26 b(are)h(the)f(produc-)450 4689 y(tions)31
b(that)g(appear)f(in)h(any)g(state)g(\(item)g(set\))f(containing)g(a)h
(con\003ict,)i(and)d(any)g(node)450 4788 y(representing)g(an)h
(instance)h(of)f(a)h(production)e(in)h(this)i(list)g(is)f(fragile)o(.)
53 b(\(Most)32 b(parser)450 4888 y(generators)j(already)g(provide)f
(this)j(information)d(in)i(`verbose)f(mode'.\))66 b(The)35
b(analy-)450 4987 y(sis)28 b(applies)e(to)g Fl(any)g
Fr(framework)f(that)i(produces)e(a)i(deterministic)f(parse)g(table)h
(by)f(se-)758 5189 y Fo(written)15 b(for)h(ACM)g(Transactions)f(on)h
(Programming)g(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h
(at)e(16)10 b(:)g(54.)p eop
%%Page: 24 24
24 23 bop 450 250 a Fn(24)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fr(lective)28
b(elimination)g(of)h(con\003icts)n(,)h(inc)o(luding)e(both)g
(shift/reduce)g(and)g(reduce/reduce)450 565 y(con\003icts)n(.)785
535 y Fo(19)533 665 y Fr(Nodes)21 b(can)h(also)h(be)f
Fl(indirectl)o(y)e Fr(fragile;)i(for)f(example)o(,)f(a)j(c)o(hain)f
(reduction)f(of)g(a)i(frag-)450 764 y(ile)j(production)d(would)h
(likewise)i(be)f(fragile)o(.)35 b(This)27 b(propagation)d(stops)i(when)
e(a)i(num-)450 864 y(ber)h(of)g(terminal)h(symbols)g(equal)f(to)h(the)f
(lookahead)f(used)h(for)g(parsing)h(\()p Fl(k)p Fr(\))f(has)h(been)450
964 y(accumulated)i(at)i(the)f(beginning)e(and)i(end)f(of)h(a)g
(fragile)f(region;)k(in)d(the)g(example)f(of)450 1063
y(F)o(igure)24 b(10,)g(adding)g(parentheses)f(to)h(an)g(arithmetic)g
(expression)e(encases)i(the)g(fragile)450 1163 y(region)d(and)i
(results)h(in)e(an)h(unambiguous)f(construct.)533 1262
y(Indirect,)f(or)g Fl(dynamic)p Fr(,)g(fragility)g(is)i(determined)c
(by)j(synthesizing)f(the)h(exposure)e(of)450 1362 y(con\003icts)25
b(along)f(the)h(left)f(and)h(right)g(sides)g(of)f(a)h(subtree)o(,)g(as)
h(shown)e(in)h(F)o(igure)f(11.)35 b(As)450 1462 y(eac)o(h)25
b(node)f(is)i(shifted)f(onto)g(parse)g(stac)o(k)i(its)g(dynamic)d
(fragility)h(can)h(be)f(determined:)450 1561 y(a)i(node)e(is)j
(explicitly)e(fragile)g(\(and)g(therefore)e(requires)i(a)i(state\))f
(if)f(either)g(the)h(left)f(or)450 1661 y(right)33 b(side)g(of)f(its)i
(yield)e(exposes)g(a)i(fragile)e(production.)57 b(Eac)o(h)33
b(entry)f(in)h(the)g(parse)450 1761 y(stac)o(k)g(can)f(be)f(extended)f
(to)h(inc)o(lude)h(the)f(additional)g(information)g(needed)e(to)j(trac)
o(k)450 1860 y(terminal)23 b(yield)f(counts)h(and)f(left)h(and)f(right)
h(con\003ict)f(exposure)o(.)2654 1830 y Fo(20)450 2026
y Fv(6.2)41 b(Implementing)21 b(Limited)h(State-Matching)450
2159 y Fr(Constructing)31 b(a)i(sentential-form)e(parser)h(that)g
(applies)g(state)i(matc)o(hing)e(to)g(fragile)450 2259
y(nodes)f(is)i(a)f(straightforw)o(ard)f(combination)g(of)h(the)f(two)h
(algorithms)n(.)56 b(However)-8 b(,)32 b(we)450 2358
y(prefer)37 b(to)i(a)o(void)f(the)h(additional)g(space)f(overhead)f(of)
h(explicit)h(state)g(storage:)60 b(in-)450 2458 y(stead)23
b(of)f(applying)g(state)i(matc)o(hing)f(to)g(the)f(portions)h(of)f(the)
h(parse)f(tree)h(not)f(correctly)450 2558 y(handled)27
b(by)i(sentential-form)e(parsing)n(,)j(these)e(areas)h(are)g(simply)f
(re-created)f(on)h(de-)450 2657 y(mand.)60 b(\()t(The)33
b(`state')i(information)d(on)h(affected)f(nodes)h(is)h(effectively)d
(reduced)h(to)i(a)450 2757 y(single)22 b(boolean)f(value)o(.\))27
b(This)c(approac)o(h)f(is)h(simple)o(,)f(can)g(often)f(be)i
(implemented)d(with)450 2857 y(no)27 b(explicit)g(storage)f(costs)i
(whatsoever)-8 b(,)27 b(and\227given)f(the)h(small)h(size)f(of)g(the)g
(regions)450 2956 y(affected\227is)22 b(very)g(fast)h(in)g(practice)o
(.)533 3056 y(In)j(order)e(to)j(implement)d(this)j(approac)o(h,)f
(regions)f(of)h(the)g(parse)g(tree)f(described)g(by)450
3155 y(ambiguous)f(portions)h(of)f(the)g(grammar)h(must)g(be)g
(re-created)e(whenever)f(any)i(modi\002-)450 3255 y(cation)19
b(occurs)g(that)h(might)f(affect)f(their)h(structure)o(.)26
b(The)19 b(only)g(c)o(hange)f(required)g(to)h(the)450
3355 y(sentential-form)i(algorithm)h(is)h(the)f(inc)o(lusion)g(of)g
(the)f(boxed)g(code)g(in)i(F)o(igure)f(7,)g(whic)o(h)450
3454 y(replaces)f(eac)o(h)g(fragile)g(node)f(appearing)h(in)g(the)g
(input)h(stream)g(with)f(its)i(constituents)n(.)533 3554
y(Unambiguous)35 b(symbols)h(\(even)f(those)h(containing)f(ambiguous)g
(structures)n(,)40 b(e)o(.g)n(.,)450 3654 y(parenthesized)21
b(expressions)g(in)i(the)f(grammar)g(of)f(F)o(igure)h(10\))h(continue)e
(to)h(be)h(parsed)450 3753 y(as)31 b(fast)f(as)h(before)o(.)47
b(Only)29 b(a)h(lookahead)e(with)i(exposed)e(ambiguous)h(structure)h
(must)450 3853 y(be)e(broken)g(down)f(further)g(in)i(order)e(to)i
(determine)d(the)i(next)g(action.)45 b(F)o(ragile)29
b(nodes)450 3952 y(constitute)21 b(a)h(negligible)e(portion)g(of)g(the)
h(tree)f(across)i(a)f(variety)g(of)f(programs)g(and)h(lan-)450
4052 y(guages)31 b(studied)h(\(C)m(,)f(J)n(a)o(va,)k(F)-5
b(ortran,)34 b(Modula-2\);)i(the)c(additional)f(\(re\)computation)450
4152 y(has)d(no)f(noticeable)g(impact)h(on)f(parsing)g(performance)o(.)
40 b(F)-5 b(or)28 b(grammars)g(of)f(practical)450 4251
y(interest,)g(the)f(combination)g(of)g(sentential-form)f(parsing)h(and)
g(limited)h(state)g(matc)o(h-)p 450 4368 391 1 v 450
4425 a Fj(19)510 4448 y Fu(V)o(isser)19 b([1995])h(examines)f(an)g
(alternative)g(approach)h(that)f(instead)g(modi\002es)g(the)h(item)f
(set)h(construction)450 4531 y(to)e(encode)h(parse)g(forest)f
(\002lters)g([Heering)h(et)f(al.)h(1992].)k(T)l(o)c(use)e(this)g
(approach)i(in)f(conjunction)f(with)g(incre-)450 4614
y(mental)f(parsing)n(,)g(the)g(productions)g(to)g(which)f(priority)i
(constraints)e(apply)h(must)f(be)h(indicated)g(in)g(a)g(manner)450
4697 y(analogous)h(to)i(the)f(itemization)g(of)g(con\003ict-causing)g
(productions)h(in)f(an)g(LR)g(parser)i(generator)-7 b(.)450
4757 y Fj(20)510 4781 y Fu(In)15 b(practice)j(it)e(is)g(unnecessary)g
(to)g(store)h(yield)f(counts)g(persistently;)h(the)f(count)g(for)h(a)f
(non-trivial)g(subtree)450 4864 y(reused)j(by)g(the)f(parser)i(can)f
(be)g(approximated)g(conservatively)f(by)h(the)f(minimum)g(yield)h(of)g
(the)f(production)450 4947 y(it)f(represents)n(.)24 b(If)18
b(the)f(environment)g(already)h(maintains)e(the)h(length)f(of)i(a)f
(subtree')n(s)h(text)f(as)g(a)g(synthesized)450 5030
y(node)i(attribute)o(,)f(this)f(information)i(can)f(replace)i(yield)e
(computation)h(in)f(the)g Ft(k)h Fu(=)h(1)e(case)o(.)450
5189 y Fo(written)d(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 25 25
25 24 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(25)464
704 y Fq(bool)39 b(is_fragile)f(\(NODE)h(*node\))g({)543
787 y(return)g(grammar)p Fd(!)p Fq(is_fragile_production\(node)p
Fd(!)p Fq(prog\))34 b(||)39 b(node)p Fd(!)p Fq(dyn_fragility;)464
870 y(})464 1036 y(class)g(PARSE_STACK_ENTRY)e({)464
1119 y(protected:)543 1202 y(int)j(beginning_state;)543
1285 y(NODE)g(*node;)543 1368 y(void)g(push)f(\(int)g(old_state,)g
(NODE)g(*node\);)543 1451 y(...)464 1534 y(})464 1700
y Ft(Extend)18 b(the)h(normal)g(par)o(se)i(stac)o(k)e(entry)h(object)g
(with)e(additional)h(\002elds)464 1783 y Fq(class)39
b(EXTENDED_STACK_ENTRY)e(:)i(public)g(PARSE_STACK_ENTRY)f({)464
1866 y(private:)543 1949 y(bool)i(left_fragile,)e(right_fragile;)543
2032 y(int)i(total_yield;)464 2115 y(public:)543 2198
y Ft(Push)19 b Fq(node)f Ft(onto)h(the)f(stac)o(k;)j(its)e(c)o(hildren)
g(are)g(the)g(nodes)g(in)f(the)h(stac)o(k)h(entries)g(represented)543
2281 y(by)f(the)g Fq(children)e Ft(array)-5 b(.)543 2364
y Fq(EXTENDED_STACK_ENTRY)37 b(\(node,)i(PARSE_STACK_ENTRY)f
(children[]\))g({)623 2447 y(int)i(i;)623 2530 y(int)g(num_kids)e(=)i
(node)p Fd(!)p Fq(arity;)623 2613 y Ft(Compute)19 b(conservative)k
(estimate)e(of)d(eac)o(h)h(c)o(hild')n(s)g(yield,)g(as)g(well)g(as)g
(total)h(yield.)623 2696 y Fq(int)40 b(yield[num_kids];)623
2779 y(for)g(\(i)f(=)h(0;)f(i)h(<)g(num_kids;)e(i++\))h({)703
2862 y(if)g(\(is_token\(children[i])p Fd(!)p Fq(node\)\))d(yield[i])i
(=)i(1;)703 2945 y(else)f(if)h(\(has_type\(EXTENDED_STACK_ENTRY,)35
b(children[i]\)\))783 3029 y(yield[i])j(=)i(children[i])p
Fd(!)p Fq(yield;)703 3112 y(else)f(return)g(grammar)p
Fd(!)p Fq(estimate_yield\(children[i])p Fd(!)p Fq(node\))o(;)703
3195 y(total_yield)f(+=)i(yield[i];)623 3278 y(})623
3361 y Ft(Compute)19 b(and)f(record)i(left)g(side')n(s)f(fragility)-5
b(.)623 3444 y Fq(left_fragile)38 b(=)i(false;)623 3527
y(int)g(exposed_yield)d(=)j(0;)623 3610 y(for)g(\(i)f(=)h(0;)f(i)h(<)g
(num_kids;)e(i++\))h({)703 3693 y(if)g(\(grammar)p Fd(!)p
Fq(is_fragile_production\(children[i])p Fd(!)o Fq(node)p
Fd(!)o Fq(type\))33 b(||)862 3776 y(has_type\(EXTENDED_STACK_ENTRY,)j
(children[i]\))i(&&)942 3859 y(children[i])p Fd(!)p Fq(left_fragile\))
783 3942 y({left_fragile)f(=)j(true;)f(break;})703 4025
y(else)g(if)h(\(\(exposed_yield)d(=)j(yield[i]\))e(>=)i
Ft(k)p Fq(\))g(break;)623 4108 y(})623 4191 y Ft(Compute)19
b(and)f(record)i(right)f(side')n(s)h(fragility)f(\(symmetric\).)623
4274 y(.)12 b(.)h(.)623 4357 y(Set)20 b Fq(node)p Ft(')n(s)e(dynamic)h
(fragility)g(status)m(.)623 4440 y Fq(node)p Fd(!)p Fq(dyn_fragility)37
b(=)j(left_fragile)e(||)h(right_fragile;)543 4523 y(})464
4606 y(};)1281 4788 y Fu(F)o(ig)n(.)20 b(11.)66 b(Computation)18
b(of)h(dynamic)f(fragility)-8 b(.)758 5189 y Fo(written)15
b(for)h(ACM)g(Transactions)f(on)h(Programming)g(Languages)f(and)i
(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10 b(:)g(54.)p
eop
%%Page: 26 26
26 25 bop 450 250 a Fn(26)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fr(ing)d(uses)g
(less)h(time)f(and)g(space)g(than)g(full)g(state-matc)o(hing)h(parsers)
n(,)g(while)e(supporting)450 565 y(the)23 b(same)g(c)o(lass)h(of)e
(con\003ict)h(resolution)f(mec)o(hanisms)n(.)450 748
y Fv(7.)42 b(REPRESENTING)27 b(REPETITIVE)e(STRUCTURE)450
881 y Fr(The)g(asymptotic)g(performance)e(results)i(described)g(in)g
(this)h(paper)e(require)g(the)h(parse)450 980 y(tree)e(to)g(support)f
(logarithmic)h(searc)o(h)h(times)n(.)29 b(This)24 b(is)g
Fl(not)f Fr(the)g(usual)h(case:)29 b(repetitive)450 1080
y(structure)o(,)24 b(suc)o(h)h(as)g(sequences)f(of)g(statements)h(or)f
(lists)i(of)e(dec)o(larations)n(,)h(is)g(typically)450
1179 y(expressed)k(in)i(grammars)f(and)h(represented)d(in)j(trees)g(in)
f(a)i(left-)e(or)g(right-recursive)450 1279 y(manner)-8
b(.)60 b(Thus)34 b(parse)f(`trees')h(are)f(really)h(linked)f(lists)i
(in)f(practice)o(,)i(with)e(the)f(con-)450 1379 y(comitant)26
b(performance)d(implication:)35 b(any)26 b(incremental)f(algorithms)g
(degenerate)f(to)450 1478 y(at)34 b(best)f(linear)g(beha)o(vior)-8
b(,)35 b(providing)c(no)h(asymptotic)h(advantage)g(over)e(their)i(batc)
o(h)450 1578 y(counterparts)n(.)533 1678 y(There)c(are)h(two)g(types)g
(of)f(operators)g(in)i(grammars)f(that)h(create)e(recursive)g(struc-)
450 1777 y(ture:)41 b(those)29 b(that)g(might)g(ha)o(ve)g(semantic)g
(signi\002cance)o(,)h(suc)o(h)f(as)h(arithmetic)f(opera-)450
1877 y(tors)n(,)36 b(and)c(those)h(that)g(are)g(truly)f(associative)o
(,)j(suc)o(h)f(as)f(the)g(\(possibly)f(implicit\))h(se-)450
1976 y(quencing)h(operators)g(that)j(separate)e(statements)n(.)66
b(The)36 b(former)d(do)i(not)g(represent)450 2076 y(true)g(performance)
f(problems)h(because)g(the)h(sequences)f(they)g(construct)h(are)f
(natu-)450 2176 y(rally)23 b(limited;)g(for)f(instance)o(,)g(we)g(can)h
(assume)g(that)g(the)g(size)g(of)f(an)h(expression)e(in)i(a)g(C)450
2275 y(program)30 b(is)j(bounded)c(in)j(practice)o(.)54
b(The)31 b(latter)h(type)f(are)g(problematic)o(,)i(since)f(they)450
2375 y(are)c(substantial)i(in)e(any)f(program)g(of)g(non-trivial)h
(length.)42 b(Depending)26 b(on)h(the)h(form)450 2475
y(of)f(the)h(grammar)-8 b(,)29 b(modifying)d(either)h(the)g(beginning)g
(or)h(end)f(of)g(the)h(program\227both)450 2574 y(common)20
b(cases\227will)j(require)e(time)g(linear)h(in)g(the)f(length)h(of)f
(the)g(program)g(text)g(even)450 2674 y(for)h(an)h(optimal)g
(incremental)f(parser)-8 b(.)533 2773 y(T)j(o)37 b(a)o(void)f(this)h
(problem,)i(we)d(represent)f(associative)i(sequences)f(non-determin-)
450 2873 y(istically;)i(the)33 b(ordering)d(of)i(the)g(yield)g(is)h
(maintained,)h(but)f(otherwise)e(the)h(internal)450 2973
y(structure)e(is)h(unspeci\002ed)e([Gafter)g(1990].)51
b(This)32 b(convention)c(permits)i(the)g(environ-)450
3072 y(ment)j(and)h(its)g(tools)g(the)g(freedom)d(to)j(impose)f(a)h
Fl(balancing)d(condition)p Fr(,)j(of)f(the)h(sort)450
3172 y(normally)d(used)g(for)f(binary)i(trees)n(.)54
b(\(The)31 b(small)h(amount)f(of)g(reorganization)e(due)i(to)450
3272 y(re-balancing)19 b(does)h(not)g(affect)g(user)m(-visible)f(tree)h
(structure)g(and)g(results)h(in)f(a)h(net)f(per)m(-)450
3371 y(formance)30 b(gain)h(in)h(practice)o(.\))53 b(The)32
b(appropriate)e(data)i(structures)g(and)f(algorithms)450
3471 y(are)e(well-known)f([T)-5 b(arjan)30 b(1983],)h(so)f(we)f(will)h
(concentrate)e(instead)h(on)g(the)h(interac-)450 3571
y(tion)23 b(of)f(non-deterministic)f(structure)i(with)g(incremental)e
(parsing)n(.)533 3670 y(An)h(obvious)f(w)o(a)o(y)g(to)g(indicate)h(the)
f(freedom)f(to)h(c)o(hoose)g(an)h(internal)g(representation)450
3770 y(for)e(associative)i(sequences)e(is)i(to)g(describe)e(the)h
(syntax)g(of)g(the)g(language)f(using)h(an)g(ex-)450
3869 y(tended)h(context-free)e(\(regular)i(right)h(part\))f(grammar)h
([LaLonde)f(1977].)30 b(W)-5 b(e)23 b(can)g(use)450 3969
y(the)29 b(grammar)g(both)g(to)g(specify)g(the)g(syntax)g(of)g(the)g
(language)f Fl(and)g Fr(to)i(dec)o(laratively)450 4069
y(describe)f(the)g(representation)f(of)h(the)g(resulting)g(syntax)h
(trees)n(.)48 b(Productions)29 b(in)g(the)450 4168 y(grammar)17
b(correspond)e(directly)i(to)g(nodes)g(in)g(the)h(tree)o(,)f(while)g
(regular)f(expressions)h(de-)450 4268 y(noting)26 b(sequences)g(ha)o
(ve)g(an)h(internal)f(representation)g(c)o(hosen)g(by)g(the)h
(system\227one)450 4368 y(that)c(is)h(guaranteed)d(to)h(maintain)h
(logarithmic)f(performance)o(.)j(Choice)d(operators)f(are)450
4467 y(not)h(provided,)d(since)j(alternatives)g(are)g(conveniently)d
(expressed)h(as)j(alternative)e(pro-)450 4567 y(ductions)26
b(for)f(the)h(same)g(grammar)g(symbol.)38 b(W)-5 b(e)26
b(will)g(assume)h(that)g(any)e(unbounded)450 4666 y(sequences)d(are)h
(expressed)e(in)i(this)g(fashion)g(in)g(the)f(grammar)-8
b(.)533 4766 y(Note)20 b(that)h(c)o(hanges)f(to)h(the)f(grammar)g(are)h
(necessary\227the)e(parser)i(generator)d(can-)450 4866
y(not)37 b(intuit)h(the)e(associativity)i(properties)e(of)h(sequences)n
(,)i(since)e(it)h(must)g(treat)f(the)450 4965 y(grammar)30
b(as)i(a)f(dec)o(larative)g(speci\002cation)f(of)g(the)g(form)g(of)h
(the)f(parse)h(tree)o(.)51 b(\(Other)450 5065 y(tools)22
b(will)g(also)h(base)f(their)g(understanding)e(of)i(the)f(program)g
(structure)h(on)f(the)h(gram-)450 5189 y Fo(written)15
b(for)i(ACM)f(Transactions)f(on)g(Programming)h(Languages)g(and)g
(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p
eop
%%Page: 27 27
27 26 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(27)450
465 y Fr(mar)-8 b(.\))31 b(Associativity)-10 b(,)25 b(while)e(regarded)
f(as)j(an)f(algebraic)f(property)f(of)i(the)f(sequencing)450
565 y(operator)-8 b(,)25 b(is)i(essentially)f(a)g(semantic)g(notion,)g
(determined)e(by)h(the)h Fl(interpretation)e Fr(of)450
665 y(the)f(operators)n(.)533 764 y(Since)40 b(sequence)f
(speci\002cation)h(affects)g(only)f(the)i(performance)c(of)j
(incremental)450 864 y(parsing)33 b(and)h(not)f(its)i(correctness)n(,)g
(existing)e(grammars)h(can)f(be)h(introduced)d(to)j(an)450
964 y(environment)c(and)j(then)f(subsequently)g(modi\002ed)f(to)i
(provide)e(incremental)g(perfor)m(-)450 1063 y(mance)o(.)82
b(Changes)40 b(required)g(to)h(port)g(existing)g(grammars)g(\(inc)o
(luding)f(J)n(a)o(va)h(and)450 1163 y(Modula-2\))34 b(to)g(our)g
(prototype)f(environment)f(amounted)h(to)i(less)g(than)g(1\045)g(of)f
(their)450 1262 y(text.)57 b(These)33 b(c)o(hanges)f(also)h
(simpli\002ed)f(the)g(grammars)n(,)j(since)e(regular)e(expression)450
1362 y(notation)g(is)h(more)e(compact)g(and)h(readable)f(than)i(the)e
(recursive)g(productions)g(it)i(re-)450 1462 y(places)n(.)533
1561 y(Given)e(a)i(grammar)f(containing)g(sequence)f(notation,)j(we)e
(transform)g(it)h(to)f(a)h(con-)450 1661 y(ventional)18
b(LR\()p Fl(k)p Fr(\))h(grammar)g(by)g(expanding)e(eac)o(h)i(sequence)f
(into)h(a)g(set)h(of)e(productions)450 1761 y(for)k(a)i(unique)e
(symbol.)1232 1730 y Fo(21)1330 1761 y Fr(The)h(form)g(of)f(the)h
(productions)f(expresses)g(the)h(associativity)450 1860
y(of)28 b(the)h(sequence;)h(F)o(igure)f(12)g(illustrates)h(the)f
(transformation.)46 b(\(The)28 b(intermediate)450 1960
y(symbol)23 b(is)g(required)f(only)g(for)g(possibly-empty)g(sequences)n
(.\))533 2060 y(The)27 b(incremental)f(parsing)g(algorithm)h(requires)f
(no)g(c)o(hanges)h(in)g(order)f(to)h(process)450 2159
y(sequences)n(.)858 2129 y Fo(22)957 2159 y Fr(The)d(expanded)d
(grammar)i(will)h(be)g(ambiguous)n(,)g(but\227unlike)f(con\003icts)450
2259 y(in)f(the)f(original)g(grammar)m(\227con\003icts)g(induced)f(by)i
(the)f(expansion)f(of)h(sequence)f(nota-)450 2358 y(tion)j(do)f
Fl(not)h Fr(require)e(the)i(special)g(handling)f(described)g(in)h(the)f
(previous)g(section.)533 2458 y(The)j(simple)h(`reconstruction')e
(approac)o(h)g(to)i(handling)e(ambiguity)i(requires)e(that)j(a)450
2558 y(left-recursive)k(expansion)g(of)h(sequence)f(notation)i(result)g
(in)f(a)i(grammar)e(that)h(con-)450 2657 y(tains)i(no)f(con\003icts)g
(involving)f(the)h(sequences)f(themselves)n(.)62 b(Suc)o(h)35
b(con\003icts)f(would)450 2757 y(represent)22 b(an)i(impediment)f(to)g
(incremental)g(performance)o(,)e(requiring)i(the)g(sequence)450
2857 y(to)k(be)h(reconstructed)e(in)h(its)i(entirety)d(whenever)f(it)j
(appeared)e(as)i(a)g(lookahead)e(sym-)450 2956 y(bol.)53
b(The)31 b(general)e(approac)o(h)h(to)h(combining)f(state-matc)o(hing)i
(with)e(the)h(sentential-)450 3056 y(form)e(framework)g(does)g(not)h
(impose)g(this)h(limitation,)h(but)f(running)e(time)h(increases)450
3155 y(to)23 b Fl(O)p Fr(\()p Fl(t)18 b Fr(+)h Fl(s)p
Fr(\(lg)13 b Fl(N)t Fr(\))1005 3125 y Fo(2)1041 3155
y Fr(\))32 b(without)f(the)h(assumption)h(that)g(sequences)e(do)h(not)f
(con\003ict)h(with)450 3255 y(other)22 b(productions)n(.)450
3421 y Fv(7.1)41 b(P)n(erf)m(or)r(m)n(ance)24 b(Analysis)450
3554 y Fr(Although)18 b(the)i(tec)o(hniques)f(of)g(earlier)g(sections)h
(alw)o(a)o(ys)g(produce)d Fl(correct)i Fr(incremental)450
3654 y(parsers)27 b(for)g(any)g(grammar)f(accepted)g(by)h(the)g(parser)
g(generator)-8 b(,)27 b(the)g(c)o(hoice)f(among)450 3753
y(grammars)g(accepting)e(the)i(same)g(language)f(matters)h(greatly)f
(for)g(the)h(sake)g(of)f(incre-)450 3853 y(mental)g Fl(perf)o(ormance)p
Fr(.)31 b(W)-5 b(e)25 b(now)f(examine)f(the)i(assumptions)g(that)g
(accompanied)e(the)p 450 3969 391 1 v 450 4026 a Fj(21)510
4050 y Fu(Note)c(that)e(the)i(most)f(powerful)h
(transformations\227those)g(involving)d(right-recursive)j(expansions)f
(of)h(se-)450 4133 y(quences)j([Heilbrunner)h(1979]\227cannot)g(be)g
(employed,)h(since)f(the)f(goal)h(of)g(non-deterministic)f(sequences)
450 4216 y(is)c(to)h(reuse)f(non-trivial)g(subtrees)g(as)g(they)g
(occur)i(in)e(the)g(input)g(stream,)h(which)e(precludes)i(dela)o(ying)f
(all)g(re-)450 4299 y(ductions)f(until)f(the)h(entire)h(sequence)f(has)
g(been)g(seen.)23 b(The)17 b(class)g(of)h(grammars)g(permitted)g(will)f
(be)g(exactly)450 4382 y(those)24 b(that)f(are)i(acceptable)g(given)e
(a)h(left-recursive)i(expansion)d(of)h(all)g(sequences)n(.)41
b(Existing)22 b(techniques)450 4465 y(for)c(constructing)e(batch)g
(parsers)i Ft(directl)o(y)h Fu(from)f(ELR\()p Ft(k)p
Fu(\))f(grammars)g([Sassa)g(and)f(Nakata)h(1987])g(cannot)g(be)450
4548 y(used;)i(these)f(algorithms)f(treat)i(sequences)f(in)g(an)g
(inherently)g(batch)g(fashion.)450 4608 y Fj(22)510 4631
y Fu(It)c(is)g(not)g(only)f(not)h(necessary)g(but)g Ft(undesirable)h
Fu(for)g(the)f(incremental)h(parser)g(itself)f(to)h(restore)g(the)f
(balanc-)450 4714 y(ing)g(condition.)23 b(Not)15 b(only)g(would)f(this)
h(complicate)h(parsing)n(,)g(it)f(would)g(not)g(assist)f(any)g(other)i
(transformation)450 4797 y(tool)22 b(in)g(maintaining)e(the)i
(balancing)f(condition.)35 b(Instead,)23 b(the)f(environment)f(should)h
(alw)o(a)o(ys)f(re-balance)450 4880 y(modi\002ed)i(sequences)f
(immediately)g(before)i(committing)e(the)g(update)o(.)36
b(T)l(ools)23 b(should)f(perform)i(on-line)e(re-)450
4963 y(balancing)e(only)h(when)f(performance)j(would)e(be)h(severely)f
(degraded)h(by)f(w)o(aiting)f(until)g(the)h(completion)g(of)450
5046 y(the)d(edit.)758 5189 y Fo(written)d(for)h(ACM)g(Transactions)f
(on)h(Programming)g(Languages)f(and)i(Systems)o(,)e(August)f(30,)j
(1997)h(at)e(16)10 b(:)g(54.)p eop
%%Page: 28 28
28 27 bop 450 250 a Fn(28)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)670 568 y Fu(s)33
b Fd(!)57 b Fu(L)906 545 y Fq(*)1663 482 y Fu(s)33 b
Fd(!)58 b Fu(B)1646 565 y(B)33 b Fd(!)58 b Fc(\017)1778
648 y Fd(j)g Fu(B)18 b(L)2731 441 y(s)33 b Fd(!)58 b
Fu(A)2714 524 y(A)33 b Fd(!)58 b Fu(B)18 b Fd(j)g Fc(\017)2714
607 y Fu(B)33 b Fd(!)58 b Fu(L)2846 690 y Fd(j)g Fu(B)18
b(B)504 855 y(12a.)g(Grammar)h(with)504 938 y(sequence)f(notation.)1499
855 y(12b)o(.)g(Conventional)1499 938 y(left-recursive)h(formulation.)
2577 855 y(12c)o(.)g(Non-deterministic)2577 938 y(speci\002cation.)902
1902 y @beginspecial 0 @llx 0 @lly 429 @urx 428 @ury
864 @rwi @setspecial
%%BeginDocument: figures/unbalanced.eps
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-163.0 469.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 7848 m 0 0 l 9902 0 l 9902 7848 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 3299 1276 m 3299 7276 l gs col-1 s gr 
% Polyline
n 4799 2776 m 4799 7276 l gs col-1 s gr 
% Polyline
n 6299 4276 m 6299 7276 l gs col-1 s gr 
% Polyline
n 7799 5776 m 7799 7276 l gs col-1 s gr 
% Polyline
n 3299 1276 m 9375 7350 l gs col-1 s gr 
% Ellipse
n 7798 5777 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 9283 7229 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7771 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 3301 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col7 s gr

% Ellipse
n 4771 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col7 s gr

% Ellipse
n 6271 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 3299 1276 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 6299 4276 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 4799 2776 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

/NewCenturySchlbk-Bold ff 480.00 scf sf
3300 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
9544 7414 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
6270 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
9265 7280 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
7770 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
8014 5927 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
7765 5853 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
6514 4427 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
4770 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
6265 4353 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
3265 1353 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
3514 1427 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
4765 2853 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
5014 2927 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 1569 w @beginspecial 0 @llx 0 @lly 341 @urx
441 @ury 720 @rwi @setspecial
%%BeginDocument: figures/balanced.eps
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-165.0 469.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 7848 m 0 0 l 8458 0 l 8458 7848 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 5587 2850 m 5587 1050 l gs col-1 s gr 
% Polyline
n 3300 7200 m 3300 5625 l 4125 3900 l 5625 2475 l gs col-1 s gr 
% Polyline
n 4800 7275 m 4800 5625 l 4125 3900 l gs col-1 s gr 
% Polyline
n 7125 3825 m 5625 2550 l gs col-1 s gr 
% Polyline
n 7800 7200 m 7800 5400 l 7125 3825 l gs col-1 s gr 
% Polyline
n 6300 7275 m 6300 5550 l 7125 3825 l gs col-1 s gr 
% Ellipse
n 3338 7201 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col7 s gr

% Ellipse
n 4808 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col7 s gr

% Ellipse
n 4839 5627 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7839 5627 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 3339 5627 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7089 3902 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 4089 3902 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 7808 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 6308 7229 571 571 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 5589 1052 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 6339 5627 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

% Ellipse
n 5589 2552 571 571 0 360 DrawEllipse gs col7 1.00 shd ef gr gs col-1 s gr

/NewCenturySchlbk-Roman ff 390.00 scf sf
5727 2703 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
5478 2629 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
3497 5778 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
4728 5704 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
7807 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
7728 5704 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
3978 3979 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
4227 4053 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
7227 4053 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
6978 3979 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
6307 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
4807 7371 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Bold ff 480.00 scf sf
3337 7343 m
gs 1 -1 sc (L) dup sw pop 2 div neg 0 rm  col7 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
7997 5778 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
3228 5704 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
6228 5704 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
6497 5778 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
4997 5778 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
5478 1129 m
gs 1 -1 sc (A) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 390.00 scf sf
5775 1275 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 653 2027 a(12d.)g(Right-recursive)f(tree)h(structure)o(.)
567 b(12e)o(.)19 b(Balanced)f(tree)i(structure)o(.)450
2292 y(F)o(ig)n(.)c(12.)22 b(Supporting)14 b(balanced)i(structure)o(.)
22 b(Regular)15 b(expressions)f(in)h(the)f(grammar)i(\(a\))f(are)h
(used)f(to)g(denote)450 2375 y(the)26 b(associative)g(sequences)n(.)48
b(Instead)26 b(of)h(the)f(conventional)f(left-linear)i(expansion)e
(employed)i(in)f(batch)450 2458 y(parsing)i(\()7 b(b\),)32
b(each)d(sequence)g(operator)h(is)f(expanded)g(into)g(an)f(additional)h
(symbol)f(whose)g(productions)450 2541 y(allow)d(non-deterministic)f
(grouping)h(\(c\).)43 b(The)25 b(tree)h(constructed)f(by)g(the)g
(parser)g(for)h(a)f(sequence)g(of)g(new)450 2624 y(tokens)15
b(is)f(initially)f(unbalanced)h(\(d\).)22 b(Commit-time)15
b(processing)g(restores)g(the)f(balancing)g(condition)g(\(e\);)j(the)
450 2707 y(actual)23 b(representation)g(will)f(vary)h(depending)f(on)h
(the)f(exact)h(location)g(of)h(modi\002cations)e(and)h(the)f
(speci\002c)450 2790 y(re-balancing)16 b(algorithm)f(used.)23
b(The)16 b(meta-syntax)e(for)j(sequence)f(operators)i(is)d(summarized)h
(in)g(F)o(igure)g(13.)1491 2962 y(rhs)33 b Fd(!)57 b
Fu(symlist)1368 3045 y(symlist)32 b Fd(!)57 b Fc(\017)18
b Fd(j)g Fu(symlist)g(sym)1466 3128 y(sym)33 b Fd(!)57
b Fu(basesym)1676 3211 y Fd(j)g Fu(basesym)18 b(type)g(separator)1676
3294 y Fd(j)57 b Fq(\()19 b Fu(baselist)e Fq(\))i Fu(type)f(separator)
1355 3377 y(baselist)33 b Fd(!)57 b Fu(basesym)18 b Fd(j)g
Fu(baselist)g(basesym)1459 3460 y(type)33 b Fd(!)1753
3469 y Fq(*)1812 3460 y Fd(j)18 b Fq(+)1298 3543 y Fu(separator)34
b Fd(!)57 b Fc(\017)18 b Fd(j)g Fq([)h Fu(seplist)f Fq(])1391
3626 y Fu(seplist)33 b Fd(!)57 b Fu(basesym)18 b Fd(j)g
Fu(seplist)g(basesym)1328 3709 y(basesym)33 b Fd(!)57
b Fs(ident)20 b Fd(j)e Fs(charlit)h Fd(j)f Fs(stringlit)450
3891 y Fu(F)o(ig)n(.)j(13.)28 b(Meta-syntax)18 b(for)i(describing)g
(non-deterministic)g(sequences)n(.)28 b(This)19 b(is)h(one)g(possible)g
(notation:)25 b(it)450 3974 y(differentiates)g(between)f(zero-or)n
(-more)j(and)d(one-or)n(-more)i(sequences)n(,)h(and)d(allows)g
(multiple)g(symbols)g(in)450 4057 y(each)16 b(sequence)g(element)h(as)e
(well)h(as)g(an)g(optional)g(separator)-7 b(.)24 b(A)16
b(comma-separated)i(list)e(of)g(identi\002ers)n(,)h(e)o(.g)n(.,)450
4140 y(would)h(be)h(written)f(as)g Fq(idlist)p Fd(!)p
Fq(ID+[','])p Fu(.)450 4330 y Fr(performance)i(analysis)k(of)e(the)h
(algorithms)g(in)g(Sections)g(4)g(and)f(5.)533 4430 y(The)i(basic)h
(goal)e(is)i(to)e(ensure)g(that)i(any)e(node)g(in)h(the)f(tree)h(can)f
(be)h(reac)o(hed)f(in)h(loga-)450 4529 y(rithmic)o(,)j(rather)f(than)g
(linear)-8 b(,)27 b(time)o(.)38 b(The)26 b(tree)f(must)i(therefore)d
(be)i(suf\002ciently)f(well)450 4629 y(balanced;)42 b(in)36
b(particular)-8 b(,)40 b(any)35 b(sequence)g(that)i(is)g(unbounded)c
(\(in)j(practice\))g(must)450 4728 y(be)e(represented)e(as)j(an)g
(associative)f(sequence)f(in)i(the)f(grammar)-8 b(.)62
b(Note)33 b(that)i(non-)450 4828 y(associative)27 b(sequences)n(,)g
(though)e(syntactically)i(unbounded,)f(are)g(limited)g(in)h(size)g(by)
450 4928 y(semantic)36 b(or)g(pragmatic)g(considerations)n(.)67
b(\(F)-5 b(or)36 b(example)o(,)i(the)d(length)h(of)f(individ-)450
5027 y(ual)22 b(expressions)f(and)g(dec)o(larations)h(in)g(imperative)e
(languages)n(,)i(rules)f(in)h(Prolog)n(,)f(and)450 5189
y Fo(written)15 b(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 29 29
29 28 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(29)450
465 y Fr(primitive)22 b(forms)h(in)g(Lisp)g(are)g(all)g(effectively)e
(bounded.\))533 565 y(Given)e(the)i(assumption)g(that)g(all)g
(unbounded)e(sequences)g(appear)h(in)h(the)g(grammar)450
665 y(using)29 b(the)f(list)i(notation,)g(we)f(can)f(only)h(violate)f
(the)h(performance)d(guarantee)h(if)i(the)450 764 y(interpretation)i
(of)g(the)g(yield)g(of)h(a)g(sequence)e(depends)g(on)i(its)h(context.)
54 b(Consider)31 b(a)450 864 y(`bad')23 b(grammar)f(for)g(the)h
(regular)f(language)g(\(A)p Fi(j)p Fr(B\)X)2242 834 y
Fo(+)2281 864 y Fr(:)1643 1013 y(s)34 b Fi(!)58 b Fr(A)23
b(c)1976 982 y Fo(+)2038 1013 y Fi(j)h Fr(B)f(d)2216
982 y Fo(+)1645 1112 y Fr(c)33 b Fi(!)58 b Fr(X)1634
1212 y(d)33 b Fi(!)58 b Fr(X)450 1361 y(This)32 b(grammar)f(is)i(c)o
(learly)e(problematic)o(,)i(since)e(the)g(reduction)f(of)h(an)h(X)g(to)
f(either)g(c)450 1461 y(or)e(d)g(is)h(determined)d(by)i(the)g(initial)i
(symbol)e(in)g(the)g(sentence)o(,)g(whic)o(h)g(is)h(arbitrarily)450
1561 y(distant.)e Fl(O)p Fr(\()p Fi(j)9 b Fr(sentence)e
Fi(j)p Fr(\))18 b(recomputation)f(is)i(therefore)d(needed)g(eac)o(h)i
(time)g(the)g(leading)450 1660 y(symbol)23 b(is)g(toggled)f(between)f
(A)i(and)g(B)m(.)533 1760 y(Situations)32 b(like)f(this)h(cannot)e
(arise)i(when)e(the)g(interpretation)g(of)g(an)i(associative)450
1860 y(sequence')n(s)e(terminal)g(yield)g(is)i(independent)c(of)i(its)i
(surrounding)d(context.)51 b(In)31 b(fact,)450 1959 y(as)f(long)e(as)h
(the)g(contextual)f(effect)f(on)h(the)h(structure)f(of)h(the)f(phrase)g
(is)i(limited)f(to)g(a)450 2059 y(bounded)23 b(number)g(of)h(terminals)
n(,)h(the)f(performance)e(constraints)j(hold.)33 b(Since)24
b(`incre-)450 2158 y(mentalizing')33 b(a)i(grammar)f(to)g(gain)g
(optimum)f(performance)e(already)j(requires)f(the)450
2258 y(determination)23 b(of)i(its)h(associative)f(sequences)n(,)f(the)
h(c)o(hec)o(k)g(for)f(invalid)h(dependencies)450 2358
y(can)e(be)g(handled)e(by)i(inspection.)1581 2328 y Fo(23)450
2540 y Fv(8.)42 b(NODE)23 b(REUSE)450 2673 y Fr(Incremental)d(parsing)i
(is)g(only)f(one)g(of)g(several)g(tools)h(that)h(collectively)d
(support)h(incre-)450 2773 y(mental)e(compilation)g(and)h(associated)g
(environment)d(services)n(.)27 b(Overall)19 b(performance)450
2872 y(is)29 b(affected)e(not)h(just)g(by)g(the)g(time)h(it)f(takes)h
(the)f(incremental)g(parser)g(to)g(update)f(the)450 2972
y(program')n(s)j(structure)o(,)j(but)f(also)f(by)h(the)f(impact)g(of)g
(the)g(parser')n(s)g(c)o(hanges)g(on)g Fl(other)450 3072
y Fr(tools)k(in)f(the)g(environment.)61 b(The)34 b(reuse)g(of)g
(nonterminal)f(nodes)h(by)g(the)g(parser)g(is)450 3171
y(essential)22 b(both)g(in)g(ac)o(hieving)f(overall)f(environment)g
(performance)f(and)i(in)h(maintain-)450 3271 y(ing)j(user)g
(annotations)n(.)36 b(F)o(igure)25 b(3)h(indicates)g(the)f(set)h(of)f
(nodes)f(that)i(can)g(be)f(retained)450 3371 y(through)18
b(explicit)i(reuse)f(calculation)g(in)h(the)f(common)g(case)g(of)h(c)o
(hanging)e(an)i(identi\002er)450 3470 y(spelling)n(.)450
3636 y Fv(8.1)41 b(Char)n(acter)r(izing)22 b(Node)h(Reuse)450
3769 y Fr(W)-5 b(e)31 b(\002rst)g(de\002ne)d(and)j(justify)f(the)g
(concept)f(of)h Fl(reuse)g(paths)p Fr(,)h(then)f(discuss)i(a)f
(speci\002c)450 3869 y(policy)d(for)g(determining)f(the)i(set)g(of)g(a)
o(vailable)g(paths)n(.)47 b(A)29 b(second,)h(more)d(aggressive)o(,)450
3968 y(policy)f(is)j(described)d(in)h(the)g(following)f(section.)41
b(Methods)27 b(for)g(computing)e(both)j(poli-)450 4068
y(cies)23 b(are)g(covered)d(in)j(Section)g(8.3.)533 4168
y(Any)30 b(node)f(reuse)h(strategy)g(must)h(consider)f(both)g(tool)g
(and)h(user)f(needs)n(.)50 b(Our)30 b(ap-)450 4267 y(proac)o(h)25
b(is)i(based)f(on)f(a)i(simple)f(concept:)33 b(reuse)25
b(of)g(a)h(given)f(node)g(is)h(indicated)g(when-)450
4367 y(ever)j(its)j Fl(context)d Fr(or)h(its)i Fl(contents)d
Fr(\(or)h(both\))g(are)g(retained.)50 b(Thus)31 b(reuse)f(is)h
(justi\002ed)450 4466 y(by)26 b(exhibiting)g(one)f(or)h(more)f(paths)i
(from)e(some)h(base)g(case)h(to)f(the)g(node)f(in)h(question.)450
4566 y(Reused)k(context)f(typically)i(corresponds)d(to)j(a)g(path)g
(between)e(the)h Fk(UltraRoot)f Fr(and)450 4666 y(a)d(reusable)g(node)o
(.)36 b(This)27 b(is)f(referred)e(to)i(as)g Fl(top-down)e
Fr(reuse)o(.)37 b(Reused)24 b(content)i(corre-)450 4765
y(sponds)c(to)g(a)h(path)f(from)g(a)g(reused)f(token)h(to)g(the)g
(reusable)g(nonterminal)g(node)o(,)e(and)i(is)p 450 4882
391 1 v 450 4939 a Fj(23)510 4962 y Fu(F)l(ortunately)-8
b(,)23 b(the)f(form)i(required)f(for)h(good)f(incremental)f
(performance)j(is)d(also)g(the)h(simpler)g(and)f(more)450
5045 y(`natural')17 b(expression)h(of)h(the)f(syntax.)758
5189 y Fo(written)d(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 30 30
30 29 bop 450 250 a Fn(30)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)1044 1212 y
@beginspecial 0 @llx 0 @lly 560 @urx 258 @ury 2160 @rwi
@setspecial
%%BeginDocument: figures/paths.eps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-17.0 365.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Polyline
n 1200 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 1350 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 1500 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 1650 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 1800 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 1950 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 2100 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 2250 5400 m 1800 4800 l gs col-1 s gr 
% Polyline
n 2400 5400 m 1800 4800 l gs col-1 s gr 
% Ellipse
n 1800 4795 54 54 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Polyline
n 3600 5400 m 4200 4800 l gs col-1 s gr 
% Polyline
n 3900 5400 m 4200 4800 l gs col-1 s gr 
% Polyline
n 4050 5400 m 4200 4800 l gs col-1 s gr 
% Polyline
n 4650 5400 m 4200 4800 l gs col-1 s gr 
% Polyline
n 4800 5400 m 4200 4800 l gs col-1 s gr 
% Ellipse
n 4200 4795 54 54 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 7229 4245 54 54 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Ellipse
n 3012 4795 54 54 0 360 DrawEllipse gs 0.00 setgray ef gr gs col-1 s gr

% Polyline
n 5400 1800 m 300 5400 l 9600 5400 l 5400 1800 l gs col-1 s gr 
% Polyline
gs  clippath
7145 4069 m 7192 4183 l 7097 4105 l 7194 4235 l 7242 4199 l  cp clip
n 6759 3605 m 7209 4205 l gs col-1 s gr gr

% arrowhead
n 7145 4069 m 7192 4183 l 7097 4105 l 7121 4087 l 7145 4069 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
6650 3712 m 6736 3623 l 6702 3742 l 6783 3602 l 6732 3572 l  cp clip
n 5700 5400 m 6750 3600 l gs col-1 s gr gr

% arrowhead
n 6650 3712 m 6736 3623 l 6702 3742 l 6676 3727 l 6650 3712 l  cp gs 0.00 setgray ef gr  col-1 s
% Interp Spline
gs n 3000 4800 m
	3090.7 4269.5 3165.7 4044.5 3300 3900 curveto
	3484.0 3702.0 4017.0 3730.6 4200 3525 curveto
	4302.5 3409.8 4257.7 3115.3 4350 3000 curveto
	4508.8 2801.5 5028.8 2796.4 5175 2550 curveto
	5233.4 2451.7 5150.2 2264.5 5175 2175 curveto
	5196.7 2096.7 5252.9 2002.9 5400 1800 curveto
 gs col-1 s gr
 gr

/NewCenturySchlbk-Roman ff 480.00 scf sf
1800 6000 m
gs 1 -1 sc (a) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
2700 4500 m
gs 1 -1 sc (b) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
4200 6000 m
gs 1 -1 sc (c) dup sw pop 2 div neg 0 rm  col-1 sh gr
/NewCenturySchlbk-Roman ff 480.00 scf sf
6750 6000 m
gs 1 -1 sc (d) dup sw pop 2 div neg 0 rm  col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 450 1394 a Fu(F)o(ig)n(.)27 b(14.)45 b(Illustration)24
b(of)i(reuse)g(paths)n(.)45 b(In)25 b(each)h(case)o(,)i(the)d(circle)i
(represents)f(a)g(reused)g(node)o(,)i(and)d(the)450 1477
y(lines)c(indicate)g(the)g(reuse)h(path)f(the)g(justify)f(its)h
(retention)h(in)f(the)g(current)h(version)f(by)g(linking)g(it)g(to)h
(some)450 1560 y(base)f(case)o(.)33 b(\(a\))21 b(Unambiguous)f
(bottom-up)h(reuse)h(\(reused)g(contents\).)32 b(\()7
b(b\))21 b(T)l(op-down)h(reuse)g(\(reused)f(con-)450
1643 y(text\).)29 b(\(c\))21 b(Ambiguous)e(bottom-up)h(reuse)h(policy;)
h(only)e(a)g(subset)g(of)g(the)h(children)f(are)h(required)g(to)g
(remain)450 1726 y(unchanged.)h(\(d\))c(Additional)g(top-down)h(reuse)f
(that)g(can)h(result)f(under)g(the)g(ambiguous)f(model.)450
1923 y Fr(referred)j(to)j(as)h Fl(bottom-up)e Fr(reuse)o(.)1631
1893 y Fo(24)533 2022 y Fr(In)k(both)h(cases)n(,)h(the)f(existence)f
(of)g(suc)o(h)h(a)g(path)g(justi\002es)f(the)h(node')n(s)f(reuse)g(by)g
(`an-)450 2122 y(c)o(horing')d(it)h(to)f(another)g(retained)f(node)o(.)
29 b(Given)22 b(the)i(goals)f(of)g(node)f(reuse)o(,)h(in)g(particu-)450
2222 y(lar)d(the)g(need)f(to)h(a)o(void)f(spurious)h(or)g(surprising)g
(results)g(from)f(the)h(user')n(s)g(perspective)o(,)450
2321 y(we)27 b(also)g(assert)h(that)g(the)f(converse)f(is)i(true:)37
b(the)27 b Fl(absence)f Fr(of)h(suc)o(h)g(a)h(path)f(w)o(arrants)450
2421 y(the)j(use)g(of)g(a)h(new)e(name)h(for)g(the)g(associated)h
(nonterminal.)49 b(\(Note)30 b(that)h(other)e(for)m(-)450
2521 y(mulations)h(of)f(optimality)-10 b(,)32 b(suc)o(h)e(as)h(minimal)
f(edit)g(distance)o(,)h(are)f(not)g(useful)f(in)h(the)450
2620 y(context)35 b(of)g(an)h(ISDE,)g(given)e(the)i(objective)e(of)i
(preserving)e(conceptual)g(names)i(for)450 2720 y(program)30
b(entities)n(.\))53 b(Eac)o(h)31 b(reuse)g(path)g(establishes)h(an)f
(inductive)f(proof)g(justifying)450 2819 y(the)i(reuse)g(of)f(nodes)h
(along)f(the)h(path,)j(in)d(a)h(manner)e(that)i(matc)o(hes)g(user)f
(intuition)450 2919 y(and)27 b(is)i(likely)e(to)h(improve)e(overall)h
(environment)e(response)i(time)o(.)42 b(\(The)27 b(description)450
3019 y(of)19 b(reuse)g(paths)i(is)f(actually)g(a)h Fl(sc)o(hema)p
Fr(:)k(different)18 b(policies)i(can)f(be)h(employed)d(in)j(deter)m(-)
450 3118 y(mining)26 b(the)h(local)g(constraints)g(on)f(node)g(reuse)o
(,)g(generating)g(different)f(sets)i(of)g(paths)450 3218
y(in)c(general.\))533 3318 y(Bottom-up)k(reuse)g(is)i(a)g(natural)g
(extension)d(of)i(the)g(`implicit')h(node)d(reuse)i(that)h(oc-)450
3417 y(curs)18 b(when)f(an)h(incremental)e(parser)i(shifts)h(a)f
(non-trivial)f(subtree)o(.)26 b(In)18 b(the)f(unambigu-)450
3517 y(ous)26 b(policy)-10 b(,)25 b(the)h(physical)f(object)g
(representing)f(a)i(nonterminal)f(node)g(can)g(be)h(reused)450
3616 y(whenever)21 b Fl(all)h Fr(its)j(c)o(hildren)d(from)h(the)g
(reference)e(version)h(are)h(reused.)29 b(Even)23 b(with)g(an)450
3716 y(optimal)28 b(incremental)g(parser)-8 b(,)29 b(explicit)g
(bottom-up)e(reuse)h(c)o(hec)o(ks)h(are)f(necessary)g(to)450
3816 y(reverse)d(the)h(effect)g(of)f(a)i(breakdown)f(that)h(turned)e
(out)i(to)f(be)h(unnecessary)-10 b(,)25 b(since)i(an)450
3915 y(optimal)g(c)o(hoice)f(of)g(breakdown)f(order)g(cannot)h(be)h
(known)e(in)i(advance)f(\(Section)g(5.2\).)450 4015 y(Explicit)32
b(reuse)f(of)h(modi\002ed)e(tokens)i(by)g(the)g(incremental)f(lexer)g
(and)h(the)g(presence)450 4115 y(of)27 b(errors)f(in)i(the)f(input)g
(stream)g(introduce)f(additional)h(possibilities)i(for)e(node)f(reuse)
450 4214 y(through)c(explicit)g(bottom-up)g(c)o(hec)o(ks)n(.)533
4314 y(T)-5 b(op-down)26 b(reuse)g(is)i(de\002ned)d(analogously:)37
b(if)27 b(a)h(node)d(exists)j(in)g(both)f(the)g(current)450
4413 y(and)c(previous)g(version)f(of)h(the)g(tree)g(and)h(its)g
Fl(i)2007 4383 y Ff(th)2091 4413 y Fr(c)o(hild)g(is)g(c)o(hanged)f(but)
h(represents)e(the)450 4513 y(same)31 b(production)e(in)i(both)g
(versions)f(of)g(the)h(tree)o(,)g(then)g(the)f Fl(i)2635
4483 y Ff(th)2726 4513 y Fr(c)o(hild)h(node)e(ma)o(y)i(be)450
4613 y(reused)22 b(in)h(the)f(new)g(version.)28 b(F)o(igure)22
b(14)i(illustrates)g(both)f(types)f(of)g(reuse)g(paths)n(.)p
450 4729 391 1 v 450 4786 a Fj(24)510 4809 y Fu(Recall)d(from)g
(Section)g(3)g(that)f(the)g Fq(UltraRoot)g Fu(persists)g(across)i
(changes)n(.)j(W)l(e)c(also)g(assume)f(that)g(the)g(set)450
4893 y(of)f(reused)g(tokens)f(is)h(known)f(and)g(that)g(the)g
(incremental)h(lexer)g(does)g(not)f(change)g(the)g(relative)h(order)h
(of)f(any)450 4976 y(reused)22 b(tokens)n(.)32 b Fc(\017)p
Fu(-subtrees)20 b(retained)i(by)f(the)g(parsing)f(algorithm)h(can)g
(also)h(serve)f(as)g(starting)f(points)h(for)450 5059
y(bottom-up)d(reuse)h(paths)n(.)450 5189 y Fo(written)c(for)i(ACM)f
(Transactions)f(on)g(Programming)h(Languages)g(and)g(Systems)o(,)f
(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p eop
%%Page: 31 31
31 30 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(31)533
465 y Fr(Several)34 b(incremental)g(parsing)h(algorithms)g(ha)o(ve)f
(tried)h(to)f(capture)h(a)g(subset)h(of)450 565 y(top-down)g(reuse)i
(by)h(implementing)e(a)i Fl(matc)o(hing)e(condition)f
Fr([Larc)o(hev)3020 564 y(\210)3013 565 y(eque)h(1995;)450
665 y(Li)31 b(1995b;)j(P)m(etrone)29 b(1995].)49 b(This)31
b(is)g(a)f(test)g(that)h(indicates)f(when)e(a)i(c)o(hange)f(can)h(be)
450 764 y(`spliced')20 b(into)g(existing)h(tree)e(structure)o(,)i(thus)
g(a)o(voiding)e(the)h(complete)f(reconstruction)450 864
y(of)h(the)h(spine)g(nodes)n(.)27 b(The)21 b(tec)o(hnique)f(has)i(a)f
(historical)h(basis)h(\(it)e(w)o(as)g(\002rst)h(introduced)450
964 y(by)f(Ghezzi)f(and)h(Mandrioli)h([Ghezzi)e(and)h(Mandrioli)g
(1980]\))g(that)h(has)g(prec)o(luded)d(bet-)450 1063
y(ter)31 b(approac)o(hes:)44 b(the)31 b(time)g(to)h(test)g(matc)o(hing)
f(conditions)f(and)h(maintain)h(the)f(data)450 1163 y(needed)25
b(to)i(perform)e(the)i(tests)i(outweighs)d(the)h(cost)g(of)g(a)g
(simple)h(parsing)f(algorithm)450 1262 y(followed)21
b(by)i(a)g(direct)f(reuse)g(computation.)1953 1232 y
Fo(25)533 1362 y Fr(The)29 b(combination)g(of)g(bottom-up)g(and)g
(top-down)f(reuse)g(results)j(in)e Fl(optimal)f Fr(node)450
1462 y(reuse:)51 b(the)34 b(set)h(of)f(reuse)g(paths)h(computed)d(are)j
(globally)f(maximal,)j(and)e(no)f(addi-)450 1561 y(tional)23
b(reuse)f(is)i(justi\002ed)e(given)f(the)i(unambiguous)e(policy)h
(decision.)28 b(This)23 b(de\002nition)450 1661 y(of)g(reuse)h(is)g
(expressed)f(without)g(reference)e(to)j(a)h(particular)f(parsing)f
(algorithm,)h(lan-)450 1761 y(guage)o(,)d(or)i(editing)f(model.)450
1927 y Fv(8.2)41 b(Ambiguous)24 b(Reuse)g(Model)450 2060
y Fr(The)g(policy)g(of)g(restricting)g(bottom-up)f(reuse)h(to)h(only)e
(those)h(nodes)g(for)g(whic)o(h)g Fl(all)f Fr(the)450
2159 y(c)o(hildren)29 b(are)g(reused)f(ma)o(y)i(appear)e(overly)g
(restrictive)o(.)47 b(W)-5 b(e)30 b(can)f(relax)g(the)h(bottom-)450
2259 y(up)41 b(reuse)g(constraint)g(to)h(inc)o(lude)f(any)g(case)g
(where)f(at)i(least)g(one)f(c)o(hild)g(remains)450 2358
y(unc)o(hanged.)56 b(This)34 b(expanded)c(de\002nition)i(can)g(only)g
(increase)g(the)h(total)g(number)f(of)450 2458 y(reused)j(nodes)n(,)j
(since)e(cases)g(of)f Fl(partial)g(overlap)f Fr(with)i(new)f(material)h
(are)f(now)g(in-)450 2558 y(c)o(luded.)62 b(As)35 b(an)f(example)o(,)i
(consider)d(c)o(hanging)g(the)h(conditional)g(expression)f(in)h(an)450
2657 y Fk(if/then)24 b Fr(statement:)34 b(the)26 b(statement)f(node)f
(itself)i(can)g(be)f(retained)g(despite)g(the)g(re-)450
2757 y(placement)d(of)g(one)g(of)g(its)i(c)o(hildren.)533
2857 y(The)d(relaxed)e(constraint)i(on)g(bottom-up)f(reuse)g
(introduces)g(a)h(potential)f(ambiguity)-10 b(.)450 2956
y(Consider)23 b(what)g(happens)g(if)g(two)g(c)o(hildren)g(of)g(a)h
(node)e(both)i(exist)f(in)h(the)f(new)g(version)450 3056
y(of)33 b(the)f(tree)h(but)h(with)f(different)e(parents\227whic)o(h,)k
(if)e(either)-8 b(,)35 b(should)e(be)g(the)g(reuse)450
3155 y(site?)65 b(Suc)o(h)35 b(decisions)f(require)g(resolution)g
(outside)g(the)g(scope)g(of)g(syntactic)i(reuse)450 3255
y(computation)21 b(per)g(se:)28 b(the)22 b(desired)f(outcome)f(ma)o(y)i
(depend)e(on)i(the)f(speci\002c)h(language)o(,)450 3355
y(details)32 b(of)f(the)g(environment,)h(or)f(the)g(user')n(s)h
(preference)o(.)51 b(The)31 b(policy)g(we)g(adopt)g(in)450
3454 y(our)22 b(implementation)f(is)j(\002rst-come/\002rst-served;)c
(the)j(order)e(is)i(determined)e(by)i(oper)m(-)450 3554
y(ational)d(details)g(of)f(the)g(parser)-8 b(.)1513 3524
y Fo(26)1608 3554 y Fr(Ambiguous)19 b(bottom-up)f(reuse)h(can)g(also)h
(create)f(new)450 3654 y(starting)24 b(points)e(from)g(whic)o(h)h
(top-down)e(reuse)h(paths)h(can)g(originate)f(\(F)o(igure)g(14d\).)533
3753 y(Under)h(the)h(ambiguous)g(policy)-10 b(,)24 b(the)g(set)h(of)f
(reuse)f(paths)i(is)h(maximal)e(\(no)g(path)g(can)450
3853 y(be)35 b(legally)g(extended\),)h(but)g(a)g(global)f(maximum)g(is)
h(not)f(well-de\002ned;)k(it)d(depends)450 3952 y(in)d(general)f(on)g
(the)h(policy)f(for)g(resolving)g(`competition')f(when)h(the)h(reuse)f
(paths)i(do)450 4052 y(not)28 b(form)e(a)i(tree)o(.)42
b(\(However)-8 b(,)27 b(suc)o(h)h(differences)d(are)j(slight,)i(and)d
(the)h(time)f(required)450 4152 y(to)h(compute)f(more)g(elaborate)h
(metrics\227suc)o(h)h(as)g(maximizing)e(the)h(total)h(number)f(of)450
4251 y(reused)18 b(nodes\227require)g(more)g(time)i(to)f(compute)g
(than)g(they)g(could)g(potentially)g(sa)o(ve)o(.\))p
450 4368 391 1 v 450 4425 a Fj(25)510 4448 y Fu(In)27
b(addition,)i(the)e(use)g(of)h(matching)e(conditions)h(precludes)g
(incremental)h(synthesized)e(attribution)g(in)450 4531
y(conjunction)18 b(with)f(parsing)n(.)450 4591 y Fj(26)510
4615 y Fu(Other)i(reasonable)g(policies)n(,)i(such)d(as)h(refusing)g
(to)g(reuse)h(a)f(node)g(if)h(there)f(are)h(competing)g(reuse)f(sites)g
(or)450 4698 y(a)h(voting)e(scheme)i(based)f(on)h(the)f(site)g(with)g
(the)g(larger)h(number)g(of)g(children,)g(are)g(facilitated)g(by)f
(replacing)450 4781 y(the)e(bottom-up)f(reuse)i(check)f(with)f(the)g
(creation)i(of)f(a)g Ft(list)h Fu(of)g(potential)e(sites;)h(these)g
(sites)f(can)h(be)g(processed)450 4864 y(once)i(parsing)f(is)g
(complete)i(and)e(the)g(tree)h(is)f(intact,)h(but)e(before)j(top-down)e
(reuse)h(takes)g(place)o(.)758 5189 y Fo(written)c(for)h(ACM)g
(Transactions)f(on)h(Programming)g(Languages)f(and)i(Systems)o(,)e
(August)f(30,)j(1997)h(at)e(16)10 b(:)g(54.)p eop
%%Page: 32 32
32 31 bop 450 250 a Fn(32)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)670 441 y Ft(Reuse)f(a)f
(parent)g(when)f(the)h(same)h(production)f(is)g(used)g(and)e(all)i(c)o
(hildren)g(remain)g(the)g(same)n(.)670 524 y Fq(NODE)40
b(*unambig_reuse_check)d(\(int)i(prod,)g(NODE)g(*kids[]\))g({)750
607 y(if)h(\(arity)f(of)g(prod)g(==)h(0\))g(return)f
(make_new_node\(prod\);)750 690 y(NODE)g(*old_parent)g(=)g(kids[0])p
Fd(!)p Fq(parent\(previous_version\);)750 773 y(if)h(\(old_parent)p
Fd(!)p Fq(type)d(!=)i(prod\))h(return)f(make_new_node\(prod\);)750
856 y(for)h(\(int)f(i)h(=)f(0;)h(i)f(<)h(arity)f(of)h(prod;)f(i++\))830
939 y(if)g(\(node)p Fd(!)p Fq(is_new\(kids[i]\)\))e(return)i
(make_new_node\(prod\);)830 1022 y(else)g(if)h(\(old_parent)e(!=)h
(kids[i])p Fd(!)p Fq(parent\(previous_version\)\))910
1105 y(return)g(make_new_node\(prod\);)750 1188 y(return)g(old_parent;)
670 1271 y(})450 1453 y Fu(F)o(ig)n(.)24 b(15.)35 b(Computing)22
b(unambiguous)e(bottom-up)i(node)h(reuse)g(at)f(reduction)h(time)o(.)36
b(The)22 b(reuse)h(algorithm)450 1536 y(will)18 b(either)h(return)g(a)g
(node)g(from)g(the)f(previous)h(version)g(of)g(the)f(tree)i(\(when)d
(the)i(production)g(is)g(unchanged)450 1619 y(and)e(all)h(the)f
(children)h(ha)o(ve)f(the)h(same)f(former)j(parent\))e(or)g(create)h(a)
f(new)f(node)h(to)f(represent)i(the)e(reduction)450 1702
y(in)28 b(the)f(new)h(tree)h(\()p Fq(make_new_node)p
Fu(\).)50 b(Access)29 b(to)f(the)g(previous)g(children)g(is)g(provided)
h(by)f(the)f(history)450 1785 y(interface)19 b(presented)g(in)f(F)o
(igure)h(1.)450 1981 y Fv(8.3)41 b(Implementation)450
2114 y Fr(W)-5 b(e)39 b(now)f(consider)g(implementation)g(methods)g
(for)h(discovering)e(bottom-up)h(reuse)450 2214 y(during)27
b(incremental)h(parsing)n(,)h(and)g(top-down)d(reuse)i(as)h(a)g
(post-pass)g(following)d(the)450 2313 y(parse)o(.)34
b(Our)24 b(methods)g(a)o(void)h(the)g(space)f(overhead)f(and)i
(sub-optimal)g(beha)o(vior)f(asso-)450 2413 y(ciated)f(with)g(reuse)f
(computed)f(through)g(matc)o(hing)i(conditions)n(.)533
2513 y(Bottom-up)f(reuse)h(is)i(computed)d(most)h(easily)h(by)g(adding)
f(an)g(explicit)h(c)o(hec)o(k)g(when-)450 2612 y(ever)j(the)h
(incremental)f(parser)g(performs)g(a)h(reduction.)43
b(In)27 b(the)h(unambiguous)f(case)o(,)450 2712 y(eac)o(h)21
b(node)f(representing)f(a)j(symbol)f(in)g(the)g(right-hand)f(side)i(of)
e(the)h(production)f(must)450 2811 y(itself)28 b(be)f(reused)f(and)h
(must)h(share)f(the)h(same)f(parent)g(node)f(from)g(the)h(previous)f
(ver)m(-)450 2911 y(sion.)i(F)o(igure)23 b(15)g(illustrates)i(this)e
(test.)533 3011 y(Ambiguous)g(bottom-up)g(reuse)h(can)g(be)g(computed)e
(in)i(a)h(similar)g(manner)e(by)h(relax-)450 3110 y(ing)29
b(the)f(reuse)g(condition)g(\(F)o(igure)g(16\).)47 b(Under)27
b(this)j(policy)-10 b(,)29 b(only)f(a)h(single)g(retained)450
3210 y(c)o(hild)f(is)g(required)f(to)g(trigger)g(the)g(reuse)g(of)g
(its)i(former)d(parent.)43 b(Since)27 b(the)g(previous)450
3310 y(set)22 b(of)f(c)o(hildren)f(ma)o(y)i(be)f(split)h(across)g
(multiple)f(sites)i(in)e(the)g(new)g(version)f(of)h(the)g(tree)o(,)450
3409 y(this)k(algorithm)g(must)g(guard)f(against)h(duplicate)f(reuse)g
(of)g(the)g(parent)g(by)h(maintain-)450 3509 y(ing)k(an)g(explicit)g
(table)h(of)f(reused)f(nodes)g(during)h(the)g(parse)o(.)47
b(\()8 b(In)29 b(the)g(unambiguous)450 3608 y(policy)-10
b(,)22 b(competition)f(for)h(a)i(single)e(node)g(cannot)g(occur)-8
b(.\))533 3708 y(T)j(op-down)22 b(reuse)h(is)h(computed)e(as)i(a)g
(separate)f(post-pass)n(.)31 b(It)24 b(involves)e(a)i(recursive)450
3808 y(tra)o(versal)19 b(of)f(the)h(current)f(tree)o(,)g(limited)h(to)g
(the)f(regions)g(modi\002ed)f(by)i(the)f(incremental)450
3907 y(parser)-8 b(.)27 b(Eac)o(h)21 b(non-new)d(node)i(with)g(one)g
(or)g(more)f(c)o(hanged)h(c)o(hildren)g(is)h(subject)g(to)f(the)450
4007 y(top-down)f(c)o(hec)o(k,)i(whic)o(h)g(attempts)g(to)g(replace)f
(eac)o(h)h(new)f(c)o(hild)h(with)f(its)i(counterpart)450
4107 y(from)g(the)h(previous)e(version)h(of)g(the)h(tree)o(.)533
4206 y(The)32 b(algorithm)g(in)g(F)o(igure)g(17)h(illustrates)g(this)g
(process)n(.)56 b Fl(Reac)o(hability)29 b(anal)o(ysis)450
4306 y Fr(discovers)d(nodes)g(in)h(the)g(previous)f(version)g(of)g(the)
h(tree)f(that)i(ha)o(ve)f(been)f(eliminated)450 4405
y(in)g(the)f(new)g(version;)h(the)f(deleted)f(nodes)h(constitute)g(the)
g(\(only\))f(candidates)i(for)f(top-)450 4505 y(down)i(reuse)o(.)42
b(\(W)o(ithout)28 b(the)f(reac)o(hability)i(c)o(hec)o(k,)g(top-down)d
(reuse)i(could)f(duplicate)450 4605 y(nodes)k(reused)g(implicitly)h(by)
g(the)f(incremental)g(parser)-8 b(.\))54 b(No)32 b(c)o(hanges)f(to)h
(the)g(algo-)450 4704 y(rithm)23 b(in)g(F)o(igure)f(17)i(are)e
(required)g(to)h(support)f(the)h(ambiguous)f(reuse)g(model.)450
5189 y Fo(written)15 b(for)i(ACM)f(Transactions)f(on)g(Programming)h
(Languages)g(and)g(Systems)o(,)f(August)g(30,)i(1997)g(at)f(16)10
b(:)g(54.)p eop
%%Page: 33 33
33 32 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(33)614
487 y Ft(Reuse)20 b(a)e(parent)i(when)e(the)h(same)g(production)g(is)h
(used)e(and)g(at)h(least)h(one)f(c)o(hild)f(is)h(unc)o(hanged.)614
570 y Fq(NODE)39 b(*ambig_reuse_check)e(\(int)j(prod,)f(NODE)g
(*kids[]\))g({)694 653 y(if)g(\(arity)g(of)h(prod)f(==)h(0\))f(return)g
(make_new_node\(prod\);)694 736 y(for)g(\(int)g(i)h(=)g(0;)f(i)h(<)g
(arity)f(of)g(prod;)g(i++\))773 819 y(if)h(\(!node)p
Fd(!)p Fq(is_new\(kids[i]\)\))c({)853 902 y(NODE)j(*old_parent)g(=)g
(kids[i])p Fd(!)p Fq(parent\(previous_version\);)853
985 y(if)h(\(old_parent)p Fd(!)p Fq(type)d(==)i(prod)h(&&)f
(!in_reuse_list\(old_parent\)\))d({)933 1068 y
(add_to_reuse_list\(old_parent\);)933 1151 y(return)j(old_parent;)853
1234 y(})773 1317 y(})694 1400 y(return)g(make_new_node\(prod\);)614
1483 y(})450 1665 y Fu(F)o(ig)n(.)20 b(16.)25 b(Computing)18
b(ambiguous)f(bottom-up)i(node)g(reuse)h(at)e(reduction)i(time)o(.)25
b(This)18 b(method)h(differs)h(from)450 1748 y(that)e(of)h(F)o(igure)g
(15)f(by)g(allowing)g(a)g(partial)h(match)f(to)h(succeed:)24
b(if)19 b(a)f(reuse)h(candidate)g(can)f(be)h(found)f(among)450
1831 y(the)k(former)h(parents)f(of)h(reused)f(children,)h(it)f(will)g
(be)g(used)f(to)i(represent)f(the)g(production)h(being)e(reduced.)450
1914 y(A)h(simple)g(FCFS)h(policy)f(resolves)g(competition)h(for)g(the)
e(same)h(parent)h(when)e(its)g(former)j(children)e(appear)450
1997 y(in)c(multiple)h(sites)f(in)g(the)h(new)f(tree)o(.)25
b(Duplicate)18 b(reuse)i(is)e(a)o(voided)h(by)g(maintaining)e(a)h(list)
h(of)g(the)f(explicitly)450 2081 y(reused)h(nodes)n(.)698
2332 y Ft(Compute)g(top-down)g(reuse)h(in)e(a)h(single)f(traver)o(sal)k
(of)d(the)g(new)f(tree)n(.)698 2415 y Fq(top_down_reuse)38
b(\(\))i({)778 2498 y(compute_reachability\(\);)c Ft(Mar)o(k)19
b(deleted)g(nodes)m(.)778 2581 y Fq
(top_down_reuse_traversal\(UltraRoot)-5 b(\);)698 2664
y(})698 2830 y Ft(Appl)o(y)19 b(a)g(localized)g(top-down)g(reuse)h(c)o
(hec)o(k)f(at)g(eac)o(h)g(modi\002cation)g(site)n(.)698
2913 y Fq(top_down_reuse_traversal)36 b(\(NODE)k(*node\))f({)778
2996 y(if)g(\(node)p Fd(!)p Fq(has_changes\(local\))d(&&)k(!node)p
Fd(!)p Fq(is_new\(\)\))858 3079 y(reuse_isomorphic_structure\(node\);)
778 3162 y(else)f(if)h(\(node)p Fd(!)p Fq(has_changes\(nested\)\))858
3245 y(foreach)e(child)i(of)f(node)g(do)h
(top_down_reuse_traversal\(child\);)698 3328 y(})698
3494 y Ft(Restore)21 b(reuse)f(paths)g(descending)e(from)h
Fq(node)p Ft(.)698 3577 y Fq(reuse_isomorphic_structure)36
b(\(NODE)j(*node\))g({)778 3660 y(for)g(\(int)h(i)f(=)h(0;)g(i)f(<)h
(node)p Fd(!)p Fq(arity;)e(i++\))h({)858 3743 y(NODE)g(*current_child)f
(=)h(node)p Fd(!)p Fq(child\(i\);)858 3826 y(NODE)g(*previous_child)e
(=)j(node)p Fd(!)p Fq(child\(i,)e(previous_version\);)858
3909 y(if)h(\(current_child)p Fd(!)p Fq(is_new\(\))d(&&)k
(!previous_child)p Fd(!)p Fq(exists\(\))c(&&)1017 3993
y(current_child)p Fd(!)p Fq(type)h(==)i(previous_child)p
Fd(!)p Fq(type\))e({)937 4076 y(replace_with\(current_child,)f
(previous_child\);)937 4159 y
(reuse_isomorphic_structure\(previous_child\);)858 4242
y(})j(else)h(if)f(\(current_child)p Fd(!)p Fq(has_changes\(nested\)\))
937 4325 y(top_down_reuse_traversal\(current_child\);)778
4408 y(})698 4491 y(})450 4673 y Fu(F)o(ig)n(.)18 b(17.)23
b(Computing)16 b(top-down)i(reuse)o(.)23 b(The)17 b(algorithm)g
(performs)i(a)e(top-down)g(tra)o(versal)h(of)g(the)f(structure)450
4756 y(that)26 b(includes)f(each)h(modi\002cation)g(site)o(,)j
(attempting)c(to)h(replace)i(newly)d(created)j(nodes)e(with)g
(discarded)450 4839 y(nodes)n(.)32 b Fq(compute_reachability)19
b Fu(identi\002es)h(the)h(set)g(of)h(nodes)f(from)i(the)e(previous)g
(version)g(of)h(the)f(tree)450 4922 y(that)j(were)h(discarded)h(in)e
(producing)h(the)g(current)g(version;)j(these)d(nodes)f(are)i(the)e
(\(only\))g(candidates)h(for)450 5005 y(top-down)18 b(reuse)o(.)758
5189 y Fo(written)d(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 34 34
34 33 bop 450 250 a Fn(34)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)450 465 y Fv(8.4)41
b(Correctness)24 b(and)e(P)n(erf)m(or)r(m)n(ance)450
598 y Fr(Adding)35 b(explicit)g(reuse)h(to)f(the)h(incremental)f
(parser)h(can)g(never)e(result)i(in)g(a)g(node)450 698
y(being)29 b(used)h(twice)o(.)49 b(Unambiguous)28 b(bottom-up)h(reuse)g
(a)o(voids)h(node)f(duplication)g(by)450 798 y(construction.)56
b(Bottom-up)31 b(reuse)g(in)i(the)f(ambiguous)f(model)h(and)g(top-down)
e(reuse)450 897 y(both)g(contain)g(an)g(explicit)g(guard)f(against)i
(duplication.)50 b(Eac)o(h)31 b(bottom-up)e(c)o(hec)o(k)h(is)450
997 y(performed)e(in)i(constant)h(time)g(and)f(adds)h(no)f
(signi\002cant)g(overhead)e(to)j(incremental)450 1096
y(parsing)n(.)50 b(T)-5 b(op-down)28 b(reuse)i(does)f(not)h(affect)g
(the)g(asymptotic)g(results)h(in)f(Section)g(7,)450 1196
y(since)f(only)f(nodes)g(touc)o(hed)g(by)h(the)g(incremental)f(parser)g
(are)h(examined.)45 b(The)29 b(com-)450 1296 y(bination)24
b(of)f(optimistic)h(sentential-form)e(parsing)n(,)h(reuse)g(c)o(hec)o
(ks)h(at)g(reduction)e(time)o(,)450 1395 y(and)g(a)h(separate)f
(top-down)f(reuse)g(pass)j(results)f(in)f(optimal)h(reuse)e(in)i(the)f
(unambigu-)450 1495 y(ous)e(case)g(and)g(a)h(maximal)f(solution)f(in)i
(the)e(ambiguous)h(model,)g(computed)e(in)i(optimal)450
1595 y(space)j(and)f(time)o(.)533 1694 y(Our)28 b(preferred)e(approac)o
(h)i(in)h(practice)f(is)i(to)f(apply)f(ambiguous)g(bottom-up)g(reuse)
450 1794 y Fl(without)34 b Fr(the)g(top-down)f(pass:)53
b(this)36 b(locates)f(virtually)f(all)i(the)e(reusable)h(nodes)f
Fl(in-)450 1893 y(cluding)d Fr(most)h(of)g(those)g(on)g(top-down)e
(reuse)i(paths)n(.)57 b(\(Only)32 b(some)g(cases)h(involving)450
1993 y Fh(\017)p Fr(-subtrees)21 b(and)g(c)o(hain)h(rules)g(can)f(be)h
(missed,)g(when)e(no)h(c)o(hildren)g(exist)h(to)f(anc)o(hor)g(the)450
2093 y(parent)29 b(node')n(s)f(reuse)o(.\))46 b(In)29
b(the)h(example)d(shown)i(in)g(F)o(igure)g(3,)j(this)e(simple)f(method)
450 2192 y(results)23 b(in)g(only)g(one)e(c)o(hanged)h(node)g(in)g(the)
h(entire)f(tree:)28 b(the)23 b(modi\002ed)e(token.)3168
2162 y Fo(27)450 2370 y Fv(9.)42 b(CONCLUSION)450 2503
y Fr(This)22 b(paper)f(provides)e(four)i(main)g(researc)o(h)g
(contributions)n(.)27 b(F)o(irst,)d(it)d(offers)g(a)g(general)450
2603 y(algorithm)d(for)g(incremental)g(parsing)h(of)f(LR)i(grammars)e
(that)i(is)g(optimal)e(in)h(both)g(time)450 2702 y(and)i(space)g(and)g
(supports)g(an)g(unrestricted)f(editing)h(model.)27 b(Existing)21
b(tec)o(hniques)g(for)450 2802 y(constructing)k(LR\()p
Fl(k)p Fr(\),)i(LALR\()p Fl(k)p Fr(\),)g(and)f(SLR\()p
Fl(k)p Fr(\))h(parsers)f(can)g(be)g(used)f(with)h(very)f(little)450
2902 y(modi\002cation.)533 3001 y(Second,)k(it)h(extends)e
(sentential-form)f(parsing)i(theory)e(to)i(permit)g(the)f(use)h(of)f
(am-)450 3101 y(biguous)33 b(grammars)h(\(in)f(conjunction)f(with)h
(static)i(disambiguation)f(mec)o(hanisms\),)450 3200
y(allowing)h(the)g(sentential-form)f(approac)o(h)g(to)i(apply)f(to)g
(grammars)g(in)h(widespread)450 3300 y(use)o(.)27 b(Extensions)19
b(to)i(the)e(parsing)h(algorithm)g(to)g(support)f(static)j(\002ltering)
d(of)g(the)h(parse)450 3400 y(forest)i(are)h(both)g(simple)g(and)f
(ef\002cient.)533 3499 y(Third,)f(it)h(describes)e(the)h(importance)e
(of)h(balancing)h(lengthy)f(sequences)n(,)g(providing)450
3599 y(a)32 b(solution)f(in)g(terms)h(of)f(grammar)g(notation,)i(parse)
e(table)h(construction,)h(and)e(run-)450 3699 y(time)23
b(services)n(.)29 b(In)23 b(conjunction)e(with)i(this)h
(representation,)d(a)j(realistic)g(performance)450 3798
y(model)31 b(is)j(offered)c(that)j(allows)f(for)g(meaningful)f
(comparisons)h(with)g(batc)o(h)h(parsing)450 3898 y(and)23
b(other)f(incremental)f(algorithms)n(.)533 3997 y(F)o(inally)-10
b(,)23 b(we)f(de\002ne)f(optimal)i(node)e(reuse)h(independent)e(of)i
(the)h(operational)e(details)450 4097 y(of)35 b(parsing)n(.)67
b(General)35 b(models)g(of)h(ambiguous)f(and)h(unambiguous)e(reuse)h
(are)h(pre-)450 4197 y(sented,)19 b(along)e(with)i(simple)f(and)g
(ef\002cient)f(methods)h(to)g(implement)g(both)g(approac)o(hes)n(.)450
4410 y Fb(A)m(CKNO)o(WLEDGMENTS)450 4526 y Fr(W)-5 b(e)26
b(are)f(grateful)f(to)i(the)f Fl(Ensemble)g Fr(developers)e(for)i
(helping)f(to)h(create)g(an)h(appropri-)450 4626 y(ate)c(testbed)g(for)
f(this)i(project.)k(Special)22 b(thanks)g(go)g(to)g(J)n(ohn)f(Boyland,)
g(T)-5 b(odd)22 b(F)-5 b(eldman,)p 450 4736 391 1 v 450
4792 a Fj(27)510 4816 y Fu(If)35 b(the)f(lexer)i(reuses)e(this)g
(token,)40 b(the)35 b(tree)g(will)g(possess)f(no)h(changes)e
(whatsoever)i(after)g(the)g(lex-)450 4899 y(ing/parsing)27
b(analysis)n(.)52 b(Obviously)27 b(the)h(user')n(s)g(modi\002cation)g
(has)g Ft(semantic)i Fu(signi\002cance;)j(the)28 b(original)450
4982 y(edit,)f(along)d(with)g(its)h(path)f(information,)j(remains)e(a)o
(vailable)g(to)g(tools)n(,)i(such)d(as)g(semantic)h(analysis)n(,)h(for)
450 5065 y(their)18 b(own)g(analyses)n(.)450 5189 y Fo(written)d(for)i
(ACM)f(Transactions)f(on)g(Programming)h(Languages)g(and)g(Systems)o(,)
f(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p eop
%%Page: 35 35
35 34 bop 1555 250 a Fn(Ef)l(\002cient)21 b(and)g(Flexible)f
(Incremental)f(P)o(ar)q(sing)159 b Fm(\001)141 b Fn(35)450
465 y Fr(W)o(illiam)20 b(Maddox,)f(V)-7 b(ance)18 b(Ma)o(veric)o(k,)i
(and)f(the)g(anonymous)e(reviewers)g(for)h(their)h(com-)450
565 y(ments)k(on)f(drafts)h(of)g(this)g(paper)-8 b(.)450
731 y Fb(REFERENCES)452 847 y Fu(A)t Fa(A)t(S)t(A)t Fu(,)29
b(A)t(.)d(1995.)46 b(Precedences)27 b(in)d(speci\002cations)h(and)g
(implementations)f(of)i(programming)f(languages)n(.)516
930 y Ft(T)n(heor)-8 b(.)21 b(Comput.)e(Sci.)h(142,)e
Fu(1)h(\(Ma)o(y\),)g(3\22626.)452 1022 y(A)t Fa(G)t(R)t(A)q(W)q(A)t(L)t
Fu(,)27 b(R)t(.)g Fa(A)t(N)t(D)g Fu(D)t Fa(E)t(T)t(R)t(O)r
Fu(,)f(K)t(.)h(D)r(.)d(1983.)43 b(An)23 b(ef\002cient)h(incremental)g
(LR)h(parser)g(for)f(grammars)h(with)516 1105 y(epsilon)19
b(productions)n(.)26 b Ft(Acta)20 b(Inf)-5 b(.)18 b(19)p
Fu(,)h(369\226376.)452 1196 y(A)t Fa(H)t(O)r Fu(,)32
b(A)t(.)e(V)l(.)r(,)h(J)t Fa(O)t(H)t(N)t(S)t(O)t(N)q
Fu(,)f(S)r(.)g(C)r(.)r(,)h Fa(A)t(N)t(D)f Fu(U)t Fa(L)t(L)t(M)t(A)t(N)q
Fu(,)h(J)o(.)g(D)r(.)d(1975.)52 b(Deterministic)28 b(parsing)e(of)i
(ambiguous)516 1279 y(grammars)n(.)f Ft(Commun.)19 b(A)o(CM)h(18,)e
Fu(8)h(\(Aug)n(.\),)g(441\226452.)452 1370 y(A)t Fa(H)t(O)r
Fu(,)25 b(A)t(.)f(V)l(.)r(,)g(S)t Fa(E)t(T)t(H)t(I)t
Fu(,)g(R)t(.)r(,)g Fa(A)t(N)t(D)g Fu(U)t Fa(L)t(L)t(M)t(A)t(N)q
Fu(,)g(J)o(.)h(D)r(.)d(1986.)36 b Ft(Compiler)o(s:)c(Principles)m(,)25
b(T)-5 b(ec)o(hniques)m(,)24 b(and)d(T)-5 b(ools)p Fu(.)516
1453 y(Addison-W)l(esley)d(,)19 b(Reading)n(,)f(Mass)n(.)452
1545 y(B)s Fa(A)t(L)t(L)t(A)t(N)t(C)t(E)t Fu(,)j(R)t(.)i(A)t(.)r(,)f(B)
t Fa(U)t(T)t(C)t(H)t(E)t(R)t Fu(,)g(J)o(.)r(,)g Fa(A)t(N)t(D)h
Fu(G)t Fa(R)t(A)t(H)t(A)t(M)t Fu(,)e(S)r(.)i(L)t(.)e(1988.)31
b(Grammatical)20 b(abstraction)g(and)g(incre-)516 1628
y(mental)25 b(syntax)e(analysis)g(in)h(a)h(language-based)e(editor)-7
b(.)46 b(In)24 b Ft(Proceedings)j(of)e(the)g(A)o(CM)f(SIGPLAN)h('88)516
1711 y(Symposium)20 b(on)e(Compiler)i(Construction)p
Fu(.)h(ACM)d(Press)n(,)h(Atlanta,)f(Ga.,)h(185\226198.)452
1802 y(B)t Fa(E)t(E)t(T)t(E)t(M)t Fu(,)j(J)o(.)i(F)l(.)f
Fa(A)t(N)t(D)h Fu(B)t Fa(E)t(E)t(T)t(E)t(M)t Fu(,)e(A)t(.)i(F)l(.)d
(1991.)32 b(Incremental)21 b(scanning)e(and)h(parsing)g(with)g(Galaxy.)
31 b Ft(IEEE)516 1885 y(T)m(rans)m(.)20 b(Softw)-5 b(.)20
b(Eng)m(.)d(17,)i Fu(7)f(\(J)n(ul.\),)i(641\226651.)452
1976 y(B)t Fa(U)t(R)t(K)t(E)t Fu(,)j(M)t(.)g(G)r(.)f
Fa(A)t(N)t(D)i Fu(F)t Fa(I)t(S)t(H)t(E)t(R)t Fu(,)e(G)r(.)g(A)t(.)g
(1987.)32 b(A)20 b(practical)h(method)g(for)g(LR)g(and)f(LL)h
(syntactic)f(error)i(diag-)516 2060 y(nosis)c(and)g(recovery)-8
b(.)28 b Ft(A)o(CM)17 b(T)m(rans)m(.)j(Program.)g(Lang)m(.)e(Syst.)j
(9,)d Fu(2)h(\(Apr)-7 b(.\),)20 b(164\226197.)452 2151
y(C)t Fa(O)t(R)t(B)t(E)t(T)t(T)m Fu(,)f(R)t(.)h(1992.)26
b Fq(bison)17 b Fu(release)i(1.24.)452 2242 y(D)t Fa(E)t(G)t(A)t(N)t(O)
r Fu(,)f(P)l(.)r(,)g(M)t Fa(A)t(N)t(N)t(U)t(C)t(C)t(I)t
Fu(,)f(S)r(.)r(,)h Fa(A)t(N)t(D)h Fu(M)t Fa(O)t(J)s(A)t(N)t(A)t
Fu(,)e(B)r(.)h(1988.)k(Ef\002cient)16 b(incremental)h(LR)g(parsing)f
(for)h(syntax-)516 2325 y(directed)j(editors)n(.)27 b
Ft(A)o(CM)18 b(T)m(rans)m(.)i(Program.)g(Lang)m(.)e(Syst.)i(10,)f
Fu(3)g(\(J)n(ul.\),)g(345\226373.)452 2417 y(G)t Fa(A)t(F)t(T)t(E)t(R)t
Fu(,)41 b(N.)f(M)t(.)d(1990.)78 b(P)n(arallel)36 b(incremental)g
(compilation.)79 b(Ph.D)n(.)36 b(dissertation,)k(University)35
b(of)516 2500 y(Rochester)-7 b(,)20 b(Rochester)-7 b(,)20
b(N)l(.Y)-7 b(.)452 2591 y(G)t Fa(H)t(E)t(Z)t(Z)t(I)t
Fu(,)18 b(C)r(.)i Fa(A)t(N)t(D)g Fu(M)t Fa(A)t(N)t(D)t(R)t(I)t(O)t(L)t
(I)t Fu(,)d(D)r(.)g(1980.)24 b(Augmenting)16 b(parsers)i(to)g(support)f
(incrementality)-8 b(.)24 b Ft(J)n(ournal)16 b(of)516
2674 y(the)j(A)o(CM)h(27,)f Fu(3)f(\(J)n(ul.\),)i(564\226579.)452
2765 y(H)t Fa(E)t(D)t(I)t(N)q Fu(,)28 b(G)r(.)d(1992.)47
b(Incremental)25 b(semantic)g(analysis)n(.)45 b(Ph.D)n(.)26
b(dissertation,)h(Department)e(of)g(Computer)516 2848
y(Science)o(,)20 b(Lund)e(University)-8 b(.)452 2940
y(H)t Fa(E)t(E)t(R)t(I)t(N)t(G)r Fu(,)24 b(J)o(.)r(,)i(H)t
Fa(E)t(N)t(D)t(R)t(I)t(K)t(S)r Fu(,)d(P)l(.)j(R)t(.)g(H)t(.)r(,)g(K)t
Fa(L)t(I)t(N)t(T)m Fu(,)e(P)l(.)r(,)h Fa(A)t(N)t(D)h
Fu(R)t Fa(E)t(K)t(E)t(R)t(S)r Fu(,)f(J)o(.)f(1992.)39
b Ft(T)n(he)23 b(syntax)h(de\002nition)f(f)o(or)-5 b(-)516
3023 y(malism)20 b(SDF)f(\227)f(Reference)k(Manual)p
Fu(.)27 b(A)t(S)t(F)t(+)t(S)t(D)t(F)16 b(Project.)452
3114 y(H)t Fa(E)t(I)t(L)t(B)t(R)t(U)t(N)t(N)t(E)t(R)t
Fu(,)i(S)r(.)h(1979.)26 b(On)17 b(the)h(de\002nition)g(of)h(elr\()p
Ft(k)p Fu(\))g(and)f(ell\()p Ft(k)p Fu(\))h(grammars.)26
b Ft(Acta)19 b(Inf)-5 b(.)19 b(11)p Fu(,)g(169\226176.)452
3205 y(J)s Fa(A)t(L)t(I)t(L)t(I)t Fu(,)i(F)l(.)i Fa(A)t(N)t(D)g
Fu(G)t Fa(A)t(L)t(L)t(I)t(E)t(R)t Fu(,)e(J)o(.)j(H)t(.)d(1982.)32
b(Building)19 b(friendly)h(parsers)n(.)33 b(In)20 b Ft(9th)g(A)o(CM)g
(Symp)m(.)h(Principles)h(of)516 3288 y(Prog)m(.)e(Lang)m(.)e
Fu(ACM)g(Press)n(,)i(Albuquerque)o(,)e(N)l(.Mex.,)i(196\226206.)452
3380 y(K)t Fa(L)t(I)t(N)t(T)m Fu(,)j(P)l(.)j Fa(A)t(N)t(D)f
Fu(V)t Fa(I)t(S)t(S)t(E)t(R)t Fu(,)f(E)t(.)f(1994.)37
b(Using)21 b(\002lters)h(for)h(the)f(disambiguation)e(of)j
(context-free)g(grammars)n(.)516 3463 y(In)18 b Ft(Proc)m(.)j(ASMICS)d
(W)l(or)o(kshop)h(on)f(P)l(ar)o(sing)i(T)n(heory)p Fu(.)h(Milan,)d
(Italy)-8 b(.)452 3554 y(L)t Fa(A)t Fu(L)t Fa(O)t(N)t(D)t(E)t
Fu(,)24 b(W)l(.)h(R)t(.)d(1977.)36 b(Regular)22 b(right)f(part)h
(grammars)g(and)g(their)f(parsers)n(.)38 b Ft(Commun.)21
b(A)o(CM)i(20,)f Fu(10,)516 3637 y(731\226740.)452 3728
y(L)t Fa(A)t(R)t(C)t(H)t(E)t(V)766 3720 y Fu(\210)758
3728 y Fa(E)t(Q)t(U)t(E)t Fu(,)15 b(J)o(.)j(M)t(.)d(1995.)j(Optimal)c
(incremental)g(parsing)n(.)k Ft(A)o(CM)c(T)m(rans)m(.)i(Program.)g
(Lang)m(.)e(Syst.)j(17,)d Fu(1,)516 3811 y(1\22615.)452
3903 y(L)t Fa(I)t Fu(,)23 b(W)l(.)g(X)t(.)e(1995a.)31
b(A)20 b(simple)g(and)g(ef\002cient)g(incremental)g(LL\(1\))h(parsing)f
([sic].)32 b(In)19 b Ft(SOFSEM)i('95:)26 b(T)n(heory)516
3986 y(and)18 b(Practice)k(of)c(Inf)o(ormatics)j Fu(\(Milovy)-8
b(,)18 b(Czech)g(Republic\).)h(LNCS)n(.)g(Springer)n(-V)-5
b(erlag)n(,)19 b(Berlin,)g(399\226404.)452 4077 y(L)t
Fa(I)t Fu(,)f(W)l(.)f(X)t(.)e(1995b)o(.)j(T)l(ow)o(ards)d(generating)f
(practical)h(language-based)e(editing)h(systems)n(.)j(Ph.D)n(.)e
(dissertation,)516 4160 y(University)j(of)h(W)l(estern)g(Australia.)452
4251 y(M)t Fa(A)t(D)t(D)t(O)t(X)t Fu(,)h(W)l(.)f(1997.)26
b(Incremental)19 b(static)f(semantic)g(analysis)n(.)25
b(Ph.D)n(.)19 b(dissertation,)f(University)g(of)516 4334
y(California,)h(Berkeley)-8 b(.)27 b(A)n(vailable)18
b(as)g(technical)g(report)i(UCB/CSD\22697\226948)o(.)452
4426 y(M)t Fa(AV)t(E)t(R)t(I)t(C)t(K)t Fu(,)e(V)l(.)h(1997.)26
b(Presentation)19 b(by)f(tree)h(transformation.)26 b(Ph.D)n(.)18
b(dissertation,)h(University)f(of)516 4509 y(California,)h(Berkeley)-8
b(.)27 b(A)n(vailable)18 b(as)g(technical)g(report)i
(UCB/CSD\22697\226947)o(.)452 4600 y(M)t Fa(U)t(R)t(C)t(H)t(I)t(N)t(G)r
Fu(,)e(A)t(.)j(M)t(.)r(,)f(P)t Fa(R)t(A)t(S)t(A)t(D)r
Fu(,)g(Y)m(.)i(V)l(.)r(,)d Fa(A)t(N)t(D)j Fu(S)t Fa(R)t(I)t(K)t(A)t(N)t
(T)m Fu(,)c(Y)m(.)k(N.)e(1990.)26 b(Incremental)18 b(recursive)i
(descent)516 4683 y(parsing)n(.)26 b Ft(Computer)20 b(Languages)f(15,)f
Fu(4,)h(193\226204.)452 4774 y(P)t Fa(E)t(T)t(R)t(O)t(N)t(E)t
Fu(,)h(L)t(.)g(1995.)26 b(Reusing)17 b(batch)g(parsers)j(as)e
(incremental)g(parsers)n(.)28 b(In)18 b Ft(Proc)m(.)i(15th)e(Conf)-5
b(.)516 4857 y(F)l(oundations)19 b(Softw)-5 b(.)20 b(T)-5
b(ec)o(h.)20 b(and)e(T)n(heor)-8 b(.)20 b(Comput.)f(Sci.)h
Fu(\(Bangalore)o(,)f(India\).)f(Number)h(1026)f(in)g(LNCS)n(.)516
4940 y(Springer)n(-V)-5 b(erlag)n(,)20 b(Berlin,)f(111\226123.)758
5189 y Fo(written)c(for)h(ACM)g(Transactions)f(on)h(Programming)g
(Languages)f(and)i(Systems)o(,)e(August)f(30,)j(1997)h(at)e(16)10
b(:)g(54.)p eop
%%Page: 36 36
36 35 bop 450 250 a Fn(36)142 b Fm(\001)158 b Fn(T)-7
b(.)20 b(W)l(agner)h(and)f(S.)h(Gr)o(aham)452 465 y Fu(R)t
Fa(E)t(P)t(S)r Fu(,)f(T)l(.)i(W)l(.)f Fa(A)t(N)t(D)h
Fu(T)t Fa(E)t(I)t(T)t(E)t(L)t(B)s(A)r(U)t(M)t Fu(,)c(T)l(.)i(1989.)26
b Ft(T)n(he)19 b(Synthesizer)h(Generator:)26 b(A)18 b(System)i(f)o(or)g
(Constructing)516 549 y(Language-Based)f(Editor)o(s)p
Fu(.)28 b(Springer)n(-V)-5 b(erlag)n(,)19 b(Berlin.)452
640 y(S)t Fa(A)t(S)t(S)t(A)t Fu(,)h(M)t(.)i Fa(A)t(N)t(D)f
Fu(N)t Fa(A)t(K)t(A)s(T)s(A)t Fu(,)f(I)t(.)g(1987.)26
b(A)18 b(simple)g(realization)h(of)g(LR-parsers)g(for)g(regular)g
(right)f(part)516 723 y(grammars)n(.)27 b Ft(Inf)o(ormation)20
b(Processing)h(Letter)o(s)h(24)p Fu(,)c(113\226120.)452
814 y(S)t Fa(H)t(I)t(L)t(L)t(I)t(N)t(G)r Fu(,)f(J)o(.)22
b(J)o(.)d(1992.)26 b(Incremental)19 b(LL\(1\))g(parsing)f(in)g
(language-based)f(editors)n(.)27 b Ft(IEEE)19 b(T)m(rans)m(.)g(Softw)-5
b(.)516 897 y(Eng)m(.)18 b(19,)h Fu(9)f(\(Sep)o(.\),)i(935\226940.)452
989 y(T)s Fa(A)t(R)t(J)s(A)t(N)q Fu(,)f(R)t(.)j(E)t(.)d(1983.)26
b Ft(Data)19 b(Structures)i(and)d(Networ)o(k)h(Algorithms)p
Fu(.)27 b(Society)19 b(for)g(Industrial)f(and)516 1072
y(Applied)h(Mathematics)n(,)g(Philadelphia,)f(P)n(enn.)452
1163 y(T)t Fa(H)t(O)t(R)t(U)t(P)m Fu(,)i(M)t(.)f(1994.)26
b(Controlled)19 b(grammatic)g(ambiguity)-8 b(.)24 b Ft(A)o(CM)18
b(T)m(rans)m(.)h(Program.)h(Lang)m(.)f(Syst.)h(16,)f
Fu(3)516 1246 y(\(Ma)o(y\),)g(1024\2261050.)452 1337
y(V)p Fa(A)t(N)i Fu(D)t Fa(E)g Fu(V)p Fa(A)t(N)t(T)t(E)t(R)t
Fu(,)e(M)t(.)i(L)t(.)r(,)g(G)t Fa(R)t(A)t(H)t(A)t(M)t
Fu(,)e(S)r(.)i(L)t(.)r(,)f Fa(A)t(N)t(D)i Fu(B)s Fa(A)t(L)t(L)t(A)t(N)t
(C)t(E)t Fu(,)d(R)t(.)i(A)t(.)f(1992.)26 b(Coherent)18
b(user)h(interfaces)516 1420 y(for)h(language-based)d(editing)g
(systems)n(.)26 b Ft(Intl.)19 b(J)-7 b(.)19 b(Man-Mac)o(hine)f(Studies)
h(37)p Fu(,)g(431\226466.)452 1512 y(V)t Fa(I)t(S)t(S)t(E)t(R)t
Fu(,)g(E)t(.)h(1995.)26 b(A)18 b(case)h(study)e(in)h(optimizing)g
(parsing)g(schemata)g(by)g(disambiguation)f(\002lters)n(.)26
b(T)l(ech.)516 1595 y(Rep)o(.)19 b(P9507,)g(Programming)g(Research)g
(Group)o(,)g(University)e(of)i(Amsterdam.)g(J)n(ul.)452
1686 y(W)q Fa(A)t(G)t(N)t(E)t(R)t Fu(,)h(T)l(.)h(A)t(.)f(1997.)26
b(Practical)20 b(algorithms)e(for)h(incremental)f(softw)o(are)h
(development)g(environments)n(.)516 1769 y(Ph.D)n(.)g(dissertation,)f
(University)g(of)h(California,)g(Berkeley)-8 b(.)27 b(A)n(vailable)17
b(as)h(technical)516 1852 y(report)i(UCB/CSD\22697\226946.)452
1943 y(W)q Fa(A)t(G)t(N)t(E)t(R)t Fu(,)f(T)l(.)j(A)t(.)e
Fa(A)t(N)t(D)h Fu(G)t Fa(R)t(A)t(H)t(A)t(M)t Fu(,)e(S)r(.)h(L)t(.)g
(1997a.)25 b(Ef\002cient)17 b(self-versioning)g(documents)n(.)25
b(In)18 b Ft(CompCon)g('97)p Fu(.)516 2026 y(IEEE)h(Computer)g(Society)
f(Press)n(,)i(San)e(J)n(ose)o(,)h(Calif)n(.,)g(62\22667.)452
2118 y(W)q Fa(A)t(G)t(N)t(E)t(R)t Fu(,)h(T)l(.)h(A)t(.)h
Fa(A)t(N)t(D)f Fu(G)t Fa(R)t(A)t(H)t(A)t(M)t Fu(,)f(S)r(.)h(L)t(.)e
(1997b)o(.)26 b(History-sensitive)18 b(error)i(recovery)-8
b(.)27 b(In)18 b(preparation.)452 2209 y(W)t Fa(E)t(G)t(M)t(A)t(N)q
Fu(,)h(M)t(.)j(N.)e(1980.)26 b(P)n(arsing)17 b(for)j(structural)e
(editors)n(.)27 b(In)18 b Ft(Proc)m(.)i(of)f(21st)g(Annual)e(IEEE)i
(Symposium)516 2292 y(on)g(F)l(oundations)g(of)f(Computer)i(Science)p
Fu(.)h(IEEE)d(Press)n(,)i(Syracuse)o(,)f(N)l(.Y)-7 b(.,)20
b(320\226327.)452 2383 y(Y)p Fa(A)t(N)t(G)r Fu(,)f(W)l(.)g(1994.)24
b(Incremental)18 b(LR)g(parsing)n(.)25 b(In)17 b Ft(1994)h
(International)h(Computer)g(Symposium)g(Conference)516
2466 y(Proceedings)p Fu(.)i(National)d(Chiao)g(Tung)g(University)-8
b(,)18 b(Hsinchu,)f(T)l(aiw)o(an,)i(577\226583)f(vol.)g(1.)452
2558 y(Y)t Fa(E)t(H)t Fu(,)j(D)r(.)f Fa(A)t(N)t(D)i Fu(K)t
Fa(A)t(S)t(T)t(E)t(N)t(S)r Fu(,)d(U)m(.)h(1988.)26 b(Automatic)18
b(construction)h(of)f(incremental)h(LR\(1\))g(parsers)n(.)27
b Ft(A)o(CM)516 2641 y(SIGPLAN)19 b(Notices)i(23,)e Fu(3)f(\(Mar)-7
b(.\),)20 b(33\22642.)450 5189 y Fo(written)15 b(for)i(ACM)f
(Transactions)f(on)g(Programming)h(Languages)g(and)g(Systems)o(,)f
(August)g(30,)i(1997)g(at)f(16)10 b(:)g(54.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
